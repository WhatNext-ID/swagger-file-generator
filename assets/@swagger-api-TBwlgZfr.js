var qo=Object.defineProperty;var Bo=(t,e,r)=>e in t?qo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>Bo(t,typeof e!="symbol"?e+"":e,r);import{i as gn,t as Uo,a as Te,r as Ho,b as ft,c as bn,d as dt,e as yn,f as rs,g as Vi,h as zo,j as xn,k as Ri,s as Sn,l as jn}from"./ramda-adjunct-CRnRSYET.js";import{p as Oe,l as rr,a as Fi,t as Wo,b as is,c as Xo,i as Ko,d as Go,e as ce,f,m as Ai,o as Zo,g as Ii,h as $n,F as Mi,j as On,T as Ee,k as ns,n as Qo,q as En,r as Yo,s as os,u as wn,v as _o,w as ec,x as tc,y as Pn,z as F,A as Vn,B as sc,C as rc,D as he,E as ic,G as nc,H as Rn,I as Fn,J as oc}from"./ramda-CtYFusuX.js";import{S as Se,A as L,E as cc,N as Ur,a as Hr,B as je,O as y,M as vt,L as zr,R as ze,b as ac,K as We,c as cs,d as ht,r as Je}from"./minim-CB5WMgYk.js";import{p as as}from"./process-70n5sOBc.js";import{a as lc}from"./@babel-TL5-zX_X.js";import{M as m}from"./ts-mixer-DR1IXZCf.js";import{S as uc}from"./short-unique-id-ptNHjP4G.js";class dc extends lc{constructor(e,r,s){if(super(e,r,s),this.name=this.constructor.name,typeof r=="string"&&(this.message=r),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(r).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:i}=s;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}class ie extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(dc,e)}constructor(e,r){if(super(e,r),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,r!=null&&typeof r=="object"&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:s}=r;this.cause=s,s instanceof Error&&"stack"in s&&(this.stack=`${this.stack}
CAUSE: ${s.stack}`)}}}class Ae extends ie{constructor(e,r){if(super(e,r),r!=null&&typeof r=="object"){const{cause:s,...i}=r;Object.assign(this,i)}}}class k extends ie{}class Jr extends k{}const Ni=()=>Fi(Wo(/^win/),["platform"],as),ki=t=>{try{const e=new URL(t);return Uo(":",e.protocol)}catch{return}};Oe(ki,gn);const hc=t=>{const e=t.lastIndexOf(".");return e>=0?t.substring(e).toLowerCase():""},An=t=>{if(as.browser)return!1;const e=ki(t);return Te(e)||e==="file"||/^[a-zA-Z]$/.test(e)},mc=t=>{const e=ki(t);return e==="http"||e==="https"},In=(t,e)=>{const r=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],s=is(!1,"keepFileProtocol",e),i=is(Ni,"isWindows",e);let n=decodeURI(t);for(let a=0;a<r.length;a+=2)n=n.replace(r[a],r[a+1]);let o=n.substring(0,7).toLowerCase()==="file://";return o&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),s?n=`file:///${n}`:(o=!1,n=i()?n:`/${n}`)),i()&&!o&&(n=Ho("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},pc=t=>{const e=[/\?/g,"%3F",/#/g,"%23"];let r=t;Ni()&&(r=r.replace(/\\/g,"/")),r=encodeURI(r);for(let s=0;s<e.length;s+=2)r=r.replace(e[s],e[s+1]);return r},Mn=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},Y=t=>{const e=t.indexOf("#");let r=t;return e>=0&&(r=t.substring(0,e)),r},fc=()=>{if(as.browser)return Y(globalThis.location.href);const t=as.cwd(),e=rr(t);return["/","\\"].includes(e)?t:t+(Ni()?"\\":"/")},it=(t,e)=>{const r=new URL(e,new URL(t,"resolve://"));if(r.protocol==="resolve:"){const{pathname:s,search:i,hash:n}=r;return s+i+n}return r.toString()},ir=t=>{if(An(t))return pc(In(t));try{return new URL(t).toString()}catch{return encodeURI(decodeURI(t)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},qe=t=>An(t)?In(t):decodeURI(t);class ls{constructor({uri:e,mediaType:r="text/plain",data:s,parseResult:i}){l(this,"uri");l(this,"mediaType");l(this,"data");l(this,"parseResult");this.uri=e,this.mediaType=r,this.data=s,this.parseResult=i}get extension(){return ft(this.uri)?hc(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(Xo(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class Wr{constructor({refs:e=[],circular:r=!1}={}){l(this,"rootRef");l(this,"refs");l(this,"circular");this.refs=[],this.circular=r,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const r of e.values())this.add(r);return this}has(e){const r=ft(e)?e:e.uri;return gn(this.find(s=>s.uri===r))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const vc={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:Ko,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},gc=Go(ce(["resolve","baseURI"]),f(["resolve","baseURI"])),bc=t=>bn(t)?fc():t,Nn=(t,e)=>{const r=Ai(t,e);return Zo(gc,bc,r)};class yc extends ie{constructor(r,s){super(r,{cause:s.cause});l(this,"plugin");this.plugin=s.plugin}}const Di=async(t,e,r)=>{const s=await Promise.all(r.map(dt([t],e)));return r.filter((i,n)=>s[n])},Ci=async(t,e,r)=>{let s;for(const i of r)try{const n=await i[t].call(i,...e);return{plugin:i,result:n}}catch(n){s=new yc("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(s)};class Xr extends ie{}class Ti extends ie{}class xc extends Ti{}class kn extends xc{}const Sc=async(t,e)=>{const r=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),s=await Di("canRead",[t,e],r);if(Ii(s))throw new kn(t.uri);try{const{result:i}=await Ci("read",[t],s);return i}catch(i){throw new Ti(`Error while reading file "${t.uri}"`,{cause:i})}},jc=async(t,e)=>{const r=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),s=await Di("canParse",[t,e],r);if(Ii(s))throw new kn(t.uri);try{const{plugin:i,result:n}=await Ci("parse",[t,e],s);return!i.allowEmpty&&n.isEmpty?Promise.reject(new Xr(`Error while parsing file "${t.uri}". File is empty.`)):n}catch(i){throw new Xr(`Error while parsing file "${t.uri}"`,{cause:i})}},$c=async(t,e)=>{const r=new ls({uri:ir(Y(t)),mediaType:e.parse.mediaType}),s=await Sc(r,e);return jc(new ls({...r,data:s}),e)};class us extends Se{constructor(e,r,s){super(e,r,s),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class ds extends Se{constructor(e,r,s){super(e,r,s),this.element="comment"}}class Xe extends L{constructor(e,r,s){super(e,r,s),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:r}=this;if(Te(r))return!1;const s=this.content.findIndex(i=>i===r);return s===-1?!1:(this.content[s]=e,!0)}}class hs extends L{constructor(e,r,s){super(e,r,s),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const r=new L([e.start.row,e.start.column,e.start.char]),s=new L([e.end.row,e.end.column,e.end.char]);r.classes.push("position"),s.classes.push("position"),this.push(r).push(s)}}const Oc=(t,e)=>typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="function",Ec=t=>typeof t=="object"&&t!=null&&"_storedElement"in t&&typeof t._storedElement=="string"&&"_content"in t,wc=(t,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===t:!1,Pc=(t,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof L)&&e.classes.includes(t),Re=(t,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===t,b=t=>t({hasMethod:Oc,hasBasicElementProps:Ec,primitiveEq:wc,isElementType:Re,hasClass:Pc}),Q=b(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof cc||t(r)&&e(void 0,r)),I=b(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof Se||t(r)&&e("string",r)),Ji=b(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof Ur||t(r)&&e("number",r)),Li=b(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof Hr||t(r)&&e("null",r)),gt=b(({hasBasicElementProps:t,primitiveEq:e})=>r=>r instanceof je||t(r)&&e("boolean",r)),H=b(({hasBasicElementProps:t,primitiveEq:e,hasMethod:r})=>s=>s instanceof y||t(s)&&e("object",s)&&r("keys",s)&&r("values",s)&&r("items",s)),me=b(({hasBasicElementProps:t,primitiveEq:e,hasMethod:r})=>s=>s instanceof L&&!(s instanceof y)||t(s)&&e("array",s)&&r("push",s)&&r("unshift",s)&&r("map",s)&&r("reduce",s)),we=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof vt||t(s)&&e("member",s)&&r(void 0,s)),Dn=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof zr||t(s)&&e("link",s)&&r(void 0,s)),Cn=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ze||t(s)&&e("ref",s)&&r(void 0,s)),Vc=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof us||t(s)&&e("annotation",s)&&r("array",s)),Rc=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof ds||t(s)&&e("comment",s)&&r("string",s)),Tn=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Xe||t(s)&&e("parseResult",s)&&r("array",s)),Jn=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof hs||t(s)&&e("sourceMap",s)&&r("array",s)),nt=t=>Re("object",t)||Re("array",t)||Re("boolean",t)||Re("number",t)||Re("string",t)||Re("null",t)||Re("member",t),bt=t=>Jn(t.meta.get("sourceMap")),Fc=(t,e)=>{if(t.length===0)return!0;const r=e.attributes.get("symbols");return me(r)?$n(yn(r.toValue()),t):!1},qi=(t,e)=>t.length===0?!0:$n(yn(e.classes.toValue()),t),Ac=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:bt,includesClasses:qi,includesSymbols:Fc,isAnnotationElement:Vc,isArrayElement:me,isBooleanElement:gt,isCommentElement:Rc,isElement:Q,isLinkElement:Dn,isMemberElement:we,isNullElement:Li,isNumberElement:Ji,isObjectElement:H,isParseResultElement:Tn,isPrimitiveElement:nt,isRefElement:Cn,isSourceMapElement:Jn,isStringElement:I},Symbol.toStringTag,{value:"Module"}));class Ln extends ac{constructor(){super(),this.register("annotation",us),this.register("comment",ds),this.register("parseResult",Xe),this.register("sourceMap",hs)}}const qn=new Ln,Ie=t=>{const e=new Ln;return rs(t)&&e.use(t),e},Bn=()=>({predicates:{...Ac},namespace:qn}),nr=(t,e,r)=>{const s=t[e];if(s!=null){if(!r&&typeof s=="function")return s;const i=r?s.leave:s.enter;if(typeof i=="function")return i}else{const i=r?t.leave:t.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},D={},yt=t=>t==null?void 0:t.type,Un=t=>typeof yt(t)=="string",Bi=t=>Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),Ui=(t,{visitFnGetter:e=nr,nodeTypeGetter:r=yt,breakSymbol:s=D,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),h=new Array(t.length).fill(a);return{enter($,S,g,O,P,R){let d=$,V=!1;const j={...R,replaceWith(u,p){R.replaceWith(u,p),d=u}};for(let u=0;u<t.length;u+=1)if(h[u]===a){const p=e(t[u],r(d),!1);if(typeof p=="function"){const E=p.call(t[u],d,S,g,O,P,j);if(typeof(E==null?void 0:E.then)=="function")throw new Ae("Async visitor not supported in sync mode",{visitor:t[u],visitFn:p});if(E===n)h[u]=d;else if(E===s)h[u]=s;else{if(E===i)return E;if(E!==void 0)if(o)d=E,V=!0;else return E}}}return V?d:void 0},leave($,S,g,O,P,R){let d=$;const V={...R,replaceWith(j,u){R.replaceWith(j,u),d=j}};for(let j=0;j<t.length;j+=1)if(h[j]===a){const u=e(t[j],r(d),!0);if(typeof u=="function"){const p=u.call(t[j],d,S,g,O,P,V);if(typeof(p==null?void 0:p.then)=="function")throw new Ae("Async visitor not supported in sync mode",{visitor:t[j],visitFn:u});if(p===s)h[j]=s;else if(p!==void 0&&p!==n)return p}}else h[j]===d&&(h[j]=a)}}},Ic=(t,{visitFnGetter:e=nr,nodeTypeGetter:r=yt,breakSymbol:s=D,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),h=new Array(t.length).fill(a);return{async enter($,S,g,O,P,R){let d=$,V=!1;const j={...R,replaceWith(u,p){R.replaceWith(u,p),d=u}};for(let u=0;u<t.length;u+=1)if(h[u]===a){const p=e(t[u],r(d),!1);if(typeof p=="function"){const E=await p.call(t[u],d,S,g,O,P,j);if(E===n)h[u]=d;else if(E===s)h[u]=s;else{if(E===i)return E;if(E!==void 0)if(o)d=E,V=!0;else return E}}}return V?d:void 0},async leave($,S,g,O,P,R){let d=$;const V={...R,replaceWith(j,u){R.replaceWith(j,u),d=j}};for(let j=0;j<t.length;j+=1)if(h[j]===a){const u=e(t[j],r(d),!0);if(typeof u=="function"){const p=await u.call(t[j],d,S,g,O,P,V);if(p===s)h[j]=s;else if(p!==void 0&&p!==n)return p}}else h[j]===d&&(h[j]=a)}}};Ui[Symbol.for("nodejs.util.promisify.custom")]=Ic;const Hi=(t,e,{keyMap:r=null,state:s={},breakSymbol:i=D,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=nr,nodeTypeGetter:h=yt,nodePredicate:$=Un,nodeCloneFn:S=Bi,detectCycles:g=!0}={})=>{const O=r||{};let P,R=Array.isArray(t),d=[t],V=-1,j,u=[],p=t;const E=[],U=[];do{V+=1;const B=V===d.length;let W;const de=B&&u.length!==0;if(B){if(W=U.length===0?void 0:E.pop(),p=j,j=U.pop(),de)if(R){p=p.slice();let ae=0;for(const[le,oe]of u){const ke=le-ae;oe===n?(p.splice(ke,1),ae+=1):p[ke]=oe}}else{p=S(p);for(const[ae,le]of u)p[ae]=le}V=P.index,d=P.keys,u=P.edits,R=P.inArray,P=P.prev}else if(j!==n&&j!==void 0){if(W=R?V:d[V],p=j[W],p===n||p===void 0)continue;E.push(W)}let ee;if(!Array.isArray(p)){var X;if(!$(p))throw new Ae(`Invalid AST Node:  ${String(p)}`,{node:p});if(g&&U.includes(p)){E.pop();continue}const ae=a(e,h(p),B);if(ae){for(const[oe,ke]of Object.entries(s))e[oe]=ke;const le={replaceWith(oe,ke){typeof ke=="function"?ke(oe,p,W,j,E,U):j&&(j[W]=oe),B||(p=oe)}};ee=ae.call(e,p,W,j,E,U,le)}if(typeof((X=ee)===null||X===void 0?void 0:X.then)=="function")throw new Ae("Async visitor not supported in sync mode",{visitor:e,visitFn:ae});if(ee===i)break;if(ee===o){if(!B){E.pop();continue}}else if(ee!==void 0&&(u.push([W,ee]),!B))if($(ee))p=ee;else{E.pop();continue}}if(ee===void 0&&de&&u.push([W,p]),!B){var A;P={inArray:R,index:V,keys:d,edits:u,prev:P},R=Array.isArray(p),d=R?p:(A=O[h(p)])!==null&&A!==void 0?A:[],V=-1,u=[],j!==n&&j!==void 0&&U.push(j),j=p}}while(P!==void 0);return u.length!==0?u[u.length-1][1]:t};Hi[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:r=null,state:s={},breakSymbol:i=D,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=nr,nodeTypeGetter:h=yt,nodePredicate:$=Un,nodeCloneFn:S=Bi,detectCycles:g=!0}={})=>{const O=r||{};let P,R=Array.isArray(t),d=[t],V=-1,j,u=[],p=t;const E=[],U=[];do{V+=1;const A=V===d.length;let B;const W=A&&u.length!==0;if(A){if(B=U.length===0?void 0:E.pop(),p=j,j=U.pop(),W)if(R){p=p.slice();let ee=0;for(const[ae,le]of u){const oe=ae-ee;le===n?(p.splice(oe,1),ee+=1):p[oe]=le}}else{p=S(p);for(const[ee,ae]of u)p[ee]=ae}V=P.index,d=P.keys,u=P.edits,R=P.inArray,P=P.prev}else if(j!==n&&j!==void 0){if(B=R?V:d[V],p=j[B],p===n||p===void 0)continue;E.push(B)}let de;if(!Array.isArray(p)){if(!$(p))throw new Ae(`Invalid AST Node: ${String(p)}`,{node:p});if(g&&U.includes(p)){E.pop();continue}const ee=a(e,h(p),A);if(ee){for(const[le,oe]of Object.entries(s))e[le]=oe;const ae={replaceWith(le,oe){typeof oe=="function"?oe(le,p,B,j,E,U):j&&(j[B]=le),A||(p=le)}};de=await ee.call(e,p,B,j,E,U,ae)}if(de===i)break;if(de===o){if(!A){E.pop();continue}}else if(de!==void 0&&(u.push([B,de]),!A))if($(de))p=de;else{E.pop();continue}}if(de===void 0&&W&&u.push([B,p]),!A){var X;P={inArray:R,index:V,keys:d,edits:u,prev:P},R=Array.isArray(p),d=R?p:(X=O[h(p)])!==null&&X!==void 0?X:[],V=-1,u=[],j!==n&&j!==void 0&&U.push(j),j=p}}while(P!==void 0);return u.length!==0?u[u.length-1][1]:t};class Hn extends Ae{constructor(r,s){super(r,s);l(this,"value");typeof s<"u"&&(this.value=s.value)}}class Mc extends Hn{}class Nc extends Hn{}const w=(t,e={})=>{const{visited:r=new WeakMap}=e,s={...e,visited:r};if(r.has(t))return r.get(t);if(t instanceof We){const{key:i,value:n}=t,o=Q(i)?w(i,s):i,a=Q(n)?w(n,s):n,h=new We(o,a);return r.set(t,h),h}if(t instanceof cs){const i=a=>w(a,s),n=[...t].map(i),o=new cs(n);return r.set(t,o),o}if(t instanceof ht){const i=a=>w(a,s),n=[...t].map(i),o=new ht(n);return r.set(t,o),o}if(Q(t)){const i=ue(t);if(r.set(t,i),t.content)if(Q(t.content))i.content=w(t.content,s);else if(t.content instanceof We)i.content=w(t.content,s);else if(Array.isArray(t.content)){const n=o=>w(o,s);i.content=t.content.map(n)}else i.content=t.content;else i.content=t.content;return i}throw new Mc("Value provided to cloneDeep function couldn't be cloned",{value:t})};w.safe=t=>{try{return w(t)}catch{return t}};const zn=t=>{const{key:e,value:r}=t;return new We(e,r)},kc=t=>{const e=[...t];return new ht(e)},Dc=t=>{const e=[...t];return new cs(e)},Wn=t=>{const e=new t.constructor;if(e.element=t.element,t.meta.length>0&&(e._meta=w(t.meta)),t.attributes.length>0&&(e._attributes=w(t.attributes)),Q(t.content)){const r=t.content;e.content=Wn(r)}else Array.isArray(t.content)?e.content=[...t.content]:t.content instanceof We?e.content=zn(t.content):e.content=t.content;return e},ue=t=>{if(t instanceof We)return zn(t);if(t instanceof cs)return Dc(t);if(t instanceof ht)return kc(t);if(Q(t))return Wn(t);throw new Nc("Value provided to cloneShallow function couldn't be cloned",{value:t})};ue.safe=t=>{try{return ue(t)}catch{return t}};const Ze=t=>H(t)?"ObjectElement":me(t)?"ArrayElement":we(t)?"MemberElement":I(t)?"StringElement":gt(t)?"BooleanElement":Ji(t)?"NumberElement":Li(t)?"NullElement":Dn(t)?"LinkElement":Cn(t)?"RefElement":void 0,Xn=t=>Q(t)?ue(t):Bi(t),Kn=Oe(Ze,ft),xe={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class Gn{constructor({predicate:e=Mi,returnOnTrue:r,returnOnFalse:s}={}){l(this,"result");l(this,"predicate");l(this,"returnOnTrue");l(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=r,this.returnOnFalse=s}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const _=(t,e,{keyMap:r=xe,...s}={})=>Hi(t,e,{keyMap:r,nodeTypeGetter:Ze,nodePredicate:Kn,nodeCloneFn:Xn,...s});_[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:r=xe,...s}={})=>Hi[Symbol.for("nodejs.util.promisify.custom")](t,e,{keyMap:r,nodeTypeGetter:Ze,nodePredicate:Kn,nodeCloneFn:Xn,...s});const Zn={toolboxCreator:Bn,visitorOptions:{nodeTypeGetter:Ze,exposeEdits:!0}},Pe=(t,e,r={})=>{if(e.length===0)return t;const s=Ai(Zn,r),{toolboxCreator:i,visitorOptions:n}=s,o=i(),a=e.map(S=>S(o)),h=Ui(a.map(is({},"visitor")),{...n});a.forEach(dt(["pre"],[]));const $=_(t,h,n);return a.forEach(dt(["post"],[])),$},Cc=async(t,e,r={})=>{if(e.length===0)return t;const s=Ai(Zn,r),{toolboxCreator:i,visitorOptions:n}=s,o=i(),a=e.map(O=>O(o)),h=Ui[Symbol.for("nodejs.util.promisify.custom")],$=_[Symbol.for("nodejs.util.promisify.custom")],S=h(a.map(is({},"visitor")),{...n});await Promise.allSettled(a.map(dt(["pre"],[])));const g=await $(t,S,n);return await Promise.allSettled(a.map(dt(["post"],[]))),g};Pe[Symbol.for("nodejs.util.promisify.custom")]=Cc;class Tc extends Ae{constructor(r,s){super(r,s);l(this,"value");typeof s<"u"&&(this.value=s.value)}}class Qn{constructor({length:e=6}={}){l(this,"uuid");l(this,"identityMap");this.uuid=new uc({length:e}),this.identityMap=new WeakMap}identify(e){if(!Q(e))throw new Tc("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&I(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const r=new Se(this.generateId());return this.identityMap.set(e,r),r}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new Qn;class Jc extends Array{constructor(){super(...arguments);l(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new Jr("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new Jr("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new Jr("latest method in MediaTypes class is not yet implemented.")}}const Lc=(t,{Type:e,plugins:r=[]})=>{const s=new e(t);return Q(t)&&(t.meta.length>0&&(s.meta=w(t.meta)),t.attributes.length>0&&(s.attributes=w(t.attributes))),Pe(s,r,{toolboxCreator:Bn,visitorOptions:{nodeTypeGetter:Ze}})},fe=t=>(e,r={})=>Lc(e,{...r,Type:t});y.refract=fe(y);L.refract=fe(L);Se.refract=fe(Se);je.refract=fe(je);Hr.refract=fe(Hr);Ur.refract=fe(Ur);zr.refract=fe(zr);ze.refract=fe(ze);us.refract=fe(us);ds.refract=fe(ds);Xe.refract=fe(Xe);hs.refract=fe(hs);const qc=(t,e)=>{const r=new Gn({predicate:t});return _(e,r),new ht(r.result)},Yn=(t,e)=>{const r=new Gn({predicate:t,returnOnTrue:D});return _(e,r),On(void 0,[0],r.result)},_n=t=>typeof(t==null?void 0:t.type)=="string"?t.type:Ze(t),eo={EphemeralObject:["content"],EphemeralArray:["content"],...xe},to=(t,e,{keyMap:r=eo,...s}={})=>_(t,e,{keyMap:r,nodeTypeGetter:_n,nodePredicate:Ee,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});to[Symbol.for("nodejs.util.promisify.custom")]=async(t,{keyMap:e=eo,...r}={})=>_[Symbol.for("nodejs.util.promisify.custom")](t,visitor,{keyMap:e,nodeTypeGetter:_n,nodePredicate:Ee,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});class Bc{constructor(e){l(this,"type","EphemeralArray");l(this,"content",[]);l(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class Uc{constructor(e){l(this,"type","EphemeralObject");l(this,"content",[]);l(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let Hc=class{constructor(){l(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const r=new Uc(e.content);return this.references.set(e,r),r}});l(this,"EphemeralObject",{leave:e=>e.toObject()});l(this,"MemberElement",{enter:e=>[e.key,e.value]});l(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const r=new Bc(e.content);return this.references.set(e,r),r}});l(this,"EphemeralArray",{leave:e=>e.toArray()});l(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...r){var s;const i=r[3];return((s=i[i.length-1])===null||s===void 0?void 0:s.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return I(e.href)?e.href.toValue():""}};const v=t=>Q(t)?I(t)||Ji(t)||gt(t)||Li(t)?t.toValue():to(t,new Hc):t,ts=(t,e=new WeakMap)=>(we(t)?(e.set(t.key,t),ts(t.key,e),e.set(t.value,t),ts(t.value,e)):t.children.forEach(r=>{e.set(r,t),ts(r,e)}),e),zc=(t,e,r)=>{const s=r.get(t);we(s)&&(s.key===t&&(s.key=e,r.delete(t),r.set(e,s)),s.value===t&&(s.value=e,r.delete(t),r.set(e,s)))},Wc=(t,e,r)=>{const s=r.get(t);H(s)&&(s.content=s.map((i,n,o)=>o===t?(r.delete(t),r.set(e,s),e):o))},Xc=(t,e,r)=>{const s=r.get(t);me(s)&&(s.content=s.map(i=>i===t?(r.delete(t),r.set(e,s),e):i))};class Kc{constructor({element:e}){l(this,"element");l(this,"edges");this.element=e}transclude(e,r){var s;if(e===this.element)return r;if(e===r)return this.element;this.edges=(s=this.edges)!==null&&s!==void 0?s:ts(this.element);const i=this.edges.get(e);if(!Te(i))return H(i)?Wc(e,r,this.edges):me(i)?Xc(e,r,this.edges):we(i)&&zc(e,r,this.edges),this.element}}const Am=(t,e,r)=>new Kc({element:r}).transclude(t,e),Me=(t,e)=>{const r=ns(t,e);return Qo(s=>{if(rs(s)&&En("$ref",s)&&Yo(ft,"$ref",s)){const i=ce(["$ref"],s),n=Vi("#/",i);return ce(n.split("/"),r)}return rs(s)?Me(s,r):s},t)},Im=(t,e=qn)=>{if(ft(t))try{return e.fromRefract(JSON.parse(t))}catch{}return rs(t)&&En("element",t)?e.fromRefract(t):e.toElement(t)},ms=t=>{const e=t.meta.length>0?w(t.meta):void 0,r=t.attributes.length>0?w(t.attributes):void 0;return new t.constructor(void 0,e,r)},ps=(t,e)=>e.clone&&e.isMergeableElement(t)?$e(ms(t),t,e):t,Gc=(t,e)=>{if(typeof e.customMerge!="function")return $e;const r=e.customMerge(t,e);return typeof r=="function"?r:$e},Zc=t=>typeof t.customMetaMerge!="function"?e=>w(e):t.customMetaMerge,Qc=t=>typeof t.customAttributesMerge!="function"?e=>w(e):t.customAttributesMerge,Yc=(t,e,r)=>t.concat(e)["fantasy-land/map"](s=>ps(s,r)),_c=(t,e,r)=>{const s=H(t)?ms(t):ms(e);return H(t)&&t.forEach((i,n,o)=>{const a=ue(o);a.value=ps(i,r),s.content.push(a)}),e.forEach((i,n,o)=>{const a=v(n);let h;if(H(t)&&t.hasKey(a)&&r.isMergeableElement(i)){const $=t.get(a);h=ue(o),h.value=Gc(n,r)($,i)}else h=ue(o),h.value=ps(i,r);s.remove(a),s.content.push(h)}),s},_t={clone:!0,isMergeableElement:t=>H(t)||me(t),arrayElementMerge:Yc,objectElementMerge:_c,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0},$e=(t,e,r)=>{var s,i,n;const o={..._t,...r};o.isMergeableElement=(s=o.isMergeableElement)!==null&&s!==void 0?s:_t.isMergeableElement,o.arrayElementMerge=(i=o.arrayElementMerge)!==null&&i!==void 0?i:_t.arrayElementMerge,o.objectElementMerge=(n=o.objectElementMerge)!==null&&n!==void 0?n:_t.objectElementMerge;const a=me(e),h=me(t);if(!(a===h))return ps(e,o);const S=a&&typeof o.arrayElementMerge=="function"?o.arrayElementMerge(t,e,o):o.objectElementMerge(t,e,o);return S.meta=Zc(o)(t.meta,e.meta),S.attributes=Qc(o)(t.attributes,e.attributes),S};$e.all=(t,e)=>{if(!Array.isArray(t))throw new TypeError("First argument of deepmerge should be an array.");return t.length===0?new y:t.reduce((r,s)=>$e(r,s,e),ms(t[0]))};class zi extends ie{}class so extends zi{}const ea=async(t,e)=>{let r=t,s=!1;if(!Tn(t)){const o=ue(t);o.classes.push("result"),r=new Xe([o]),s=!0}const i=new ls({uri:e.resolve.baseURI,parseResult:r,mediaType:e.parse.mediaType}),n=await Di("canDereference",[i,e],e.dereference.strategies);if(Ii(n))throw new so(i.uri);try{const{result:o}=await Ci("dereference",[i,e],n);return s?o.get(0):o}catch(o){throw new zi(`Error while dereferencing file "${i.uri}"`,{cause:o})}};class ta{constructor({name:e,allowEmpty:r=!0,sourceMap:s=!1,fileExtensions:i=[],mediaTypes:n=[]}){l(this,"name");l(this,"allowEmpty");l(this,"sourceMap");l(this,"fileExtensions");l(this,"mediaTypes");this.name=e,this.allowEmpty=r,this.sourceMap=s,this.fileExtensions=i,this.mediaTypes=n}}class sa{constructor({name:e}){l(this,"name");this.name=e}}class Mm extends sa{constructor(r){const{name:s="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:o=!1}=r??{};super({name:s});l(this,"timeout");l(this,"redirects");l(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=o}canRead(r){return mc(r.uri)}}class ra{constructor({name:e}){l(this,"name");this.name=e}}class ia{constructor({name:e}){l(this,"name");this.name=e}}class Lr extends Array{includesCycle(e){return this.filter(r=>r.has(e)).length>1}includes(e,r){return e instanceof Set?super.includes(e,r):this.some(s=>s.has(e))}findItem(e){for(const r of this)for(const s of r)if(Q(s)&&e(s))return s}}let ot=class{constructor({uri:e,depth:r=0,refSet:s,value:i}){l(this,"uri");l(this,"depth");l(this,"value");l(this,"refSet");l(this,"errors");this.uri=e,this.value=i,this.depth=r,this.refSet=s,this.errors=[]}};class ro extends ie{}class na extends ro{}class oa extends ie{}class io extends oa{}class ca extends ro{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class qr extends zi{}class aa extends Ti{}class la extends Xr{}const km=async(t,e={})=>{const r=Nn(vc,e);return ea(t,r)};class Wi extends Ae{}class cn extends Wi{constructor(r,s){super(r,s);l(this,"pointer");typeof s<"u"&&(this.pointer=s.pointer)}}class ua extends Wi{constructor(r,s){super(r,s);l(this,"tokens");typeof s<"u"&&(this.tokens=[...s.tokens])}}class es extends Wi{constructor(r,s){super(r,s);l(this,"pointer");l(this,"tokens");l(this,"failedToken");l(this,"failedTokenPosition");l(this,"element");typeof s<"u"&&(this.pointer=s.pointer,Array.isArray(s.tokens)&&(this.tokens=[...s.tokens]),this.failedToken=s.failedToken,this.failedTokenPosition=s.failedTokenPosition,this.element=s.element)}}const da=Oe(os(/~/g,"~0"),os(/\//g,"~1"),encodeURIComponent),ha=t=>{try{return decodeURIComponent(t)}catch{return t}},ma=Oe(os(/~1/g,"/"),os(/~0/g,"~"),ha),pa=t=>{if(bn(t))return[];if(!wn("/",t))throw new cn(`Invalid JSON Pointer "${t}". JSON Pointers must begin with "/"`,{pointer:t});try{const e=Oe(_o("/"),ec(ma))(t);return tc(e)}catch(e){throw new cn(`JSON Pointer parsing of "${t}" encountered an error.`,{pointer:t,cause:e})}},fa=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},Ue=t=>{const e=fa(t);return Vi("#",e)},va=t=>{try{return t.length===0?"":`/${t.map(da).join("/")}`}catch(e){throw new ua("JSON Pointer compilation of tokens encountered an error.",{tokens:t,cause:e})}},He=(t,e)=>{let r;try{r=pa(t)}catch(s){throw new es(`JSON Pointer evaluation failed while parsing the pointer "${t}".`,{pointer:t,element:w(e),cause:s})}return r.reduce((s,i,n)=>{if(H(s)){if(!s.hasKey(i))throw new es(`JSON Pointer evaluation failed while evaluating token "${i}" against an ObjectElement`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)});return s.get(i)}if(me(s)){if(!(i in s.content)||!zo(Number(i)))throw new es(`JSON Pointer evaluation failed while evaluating token "${i}" against an ArrayElement`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)});return s.get(Number(i))}throw new es(`JSON Pointer evaluation failed while evaluating token "${i}" against an unexpected Element`,{pointer:t,tokens:r,failedToken:i,failedTokenPosition:n,element:w(s)})},e)};class ga extends Jc{filterByFormat(e="generic"){const r=e==="generic"?"openapi;version":e;return this.filter(s=>s.includes(r))}findBy(e="3.1.0",r="generic"){const s=r==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${r};version=${e}`;return this.find(n=>n.includes(s))||this.unknownMediaType}latest(e="generic"){return rr(this.filterByFormat(e))}}const ba=new ga("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let xt=class extends y{constructor(e,r,s){super(e,r,s),this.element="callback"}},St=class extends y{constructor(e,r,s){super(e,r,s),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},jt=class extends y{constructor(e,r,s){super(e,r,s),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},or=class extends y{constructor(e,r,s){super(e,r,s),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},cr=class extends y{constructor(e,r,s){super(e,r,s),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},$t=class extends y{constructor(e,r,s){super(e,r,s),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},Ot=class extends y{constructor(e,r,s){super(e,r,s),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Qe=class extends y{constructor(e,r,s){super(e,r,s),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new je(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new je(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Qe.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let Et=class extends y{constructor(e,r,s){super(e,r,s),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},wt=class extends y{constructor(e,r,s){super(e,r,s),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Pt=class extends y{constructor(e,r,s){super(e,r,s),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(I(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(I(this.operationId)){var r;return(r=this.operationId)===null||r===void 0?void 0:r.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},Vt=class extends y{constructor(e,r,s){super(e,r,s),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},ar=class extends y{constructor(e,r,s){super(e,r,s),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},lr=class extends y{constructor(e,r,s){super(e,r,s),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},Rt=class extends Se{constructor(e,r,s){super(e,r,s),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class ur extends y{constructor(e,r,s){super(e,r,s),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let Ft=class extends y{constructor(e,r,s){super(e,r,s),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new je(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},Ye=class extends y{constructor(e,r,s){super(e,r,s),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new je(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new je(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Ye.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let At=class extends y{constructor(e,r,s){super(e,r,s),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},It=class extends y{constructor(e,r,s){super(e,r,s),this.element="paths"}},Mt=class extends y{constructor(e,r,s){super(e,r,s),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},Nt=class extends y{constructor(e,r,s){super(e,r,s),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new je(!1)}set required(e){this.set("required",e)}},kt=class extends y{constructor(e,r,s){super(e,r,s),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},Dt=class extends y{constructor(e,r,s){super(e,r,s),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}},_e=class extends y{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}};class et extends y{constructor(e,r,s){super(e,r,s),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class Ct extends y{constructor(e,r,s){super(e,r,s),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}let Tt=class extends y{constructor(e,r,s){super(e,r,s),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}};const ya={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft4",_e),e.register("jSONReference",et),e.register("media",Ct),e.register("linkDescription",Tt),e}},Jt=t=>{if(Q(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},xa={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...xe};let no=class{constructor(e){l(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,r){(e.meta.length>0||r.meta.length>0)&&(r.meta=$e(r.meta,e.meta),bt(e)&&r.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(r.attributes=$e(r.attributes,e.attributes))}},C=class extends no{enter(e){return this.element=w(e),D}},pe=class extends no{constructor({specObj:r,...s}){super({...s});l(this,"specObj");l(this,"passingOptionsNames",["specObj","parent"]);this.specObj=r}retrievePassingOptions(){return Pn(this.passingOptionsNames,this)}retrieveFixedFields(r){const s=ce(["visitors",...r,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(r){return Fi(xn,["visitors",...r],this.specObj)?ce(["visitors",...r],this.specObj):ce(["visitors",...r,"$visitor"],this.specObj)}retrieveVisitorInstance(r,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(r),o={...i,...s};return new n(o)}toRefractedElement(r,s,i={}){const n=this.retrieveVisitorInstance(r,i);return n instanceof C&&(n==null?void 0:n.constructor)===C?w(s):(_(s,n,i),n.element)}},De=class extends pe{constructor({specPath:r,ignoredFields:s,...i}){super({...i});l(this,"specPath");l(this,"ignoredFields");this.specPath=r,this.ignoredFields=s||[]}ObjectElement(r){const s=this.specPath(r),i=this.retrieveFixedFields(s);return r.forEach((n,o,a)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const h=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new vt(w(o),h);this.copyMetaAndAttributes(a,$),$.classes.push("fixed-field"),this.element.content.push($)}else this.ignoredFields.includes(v(o))||this.element.content.push(w(a))}),this.copyMetaAndAttributes(r,this.element),D}};class K{constructor({parent:e}){l(this,"parent");this.parent=e}}const oo=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof _e||t(s)&&e("JSONSchemaDraft4",s)&&r("object",s)),Xi=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof et||t(s)&&e("JSONReference",s)&&r("object",s)),co=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ct||t(s)&&e("media",s)&&r("object",s)),Sa=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Tt||t(s)&&e("linkDescription",s)&&r("object",s)),ja=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Xi,isJSONSchemaElement:oo,isLinkDescriptionElement:Sa,isMediaElement:co},Symbol.toStringTag,{value:"Module"}));let ao=class extends m(De,K,C){constructor(e){super(e),this.element=new _e,this.specPath=F(["document","objects","JSONSchema"])}get defaultDialectIdentifier(){return"http://json-schema.org/draft-04/schema#"}ObjectElement(e){return this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element,De.prototype.ObjectElement.call(this,e)}handleDialectIdentifier(e){if(Te(this.parent)&&!I(e.get("$schema")))this.element.setMetaProperty("inheritedDialectIdentifier",this.defaultDialectIdentifier);else if(oo(this.parent)&&!I(e.get("$schema"))){const r=ns(v(this.parent.meta.get("inheritedDialectIdentifier")),v(this.parent.$schema));this.element.setMetaProperty("inheritedDialectIdentifier",r)}}handleSchemaIdentifier(e,r="id"){const s=this.parent!==void 0?w(this.parent.getMetaProperty("ancestorsSchemaIdentifiers",[])):new L,i=v(e.get(r));Ri(i)&&s.push(i),this.element.setMetaProperty("ancestorsSchemaIdentifiers",s)}};const be=t=>H(t)&&t.hasKey("$ref");let lo=class extends m(pe,K,C){ObjectElement(e){const r=be(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(r,e),D}ArrayElement(e){return this.element=new L,this.element.classes.push("json-schema-items"),e.forEach(r=>{const s=be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}};class $a extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-required"),r}}let Oa=class extends pe{constructor({specPath:r,ignoredFields:s,fieldPatternPredicate:i,...n}){super({...n});l(this,"specPath");l(this,"ignoredFields");l(this,"fieldPatternPredicate",Mi);this.specPath=r,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(r){return r.forEach((s,i,n)=>{if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),a=this.toRefractedElement(o,s),h=new vt(w(i),a);this.copyMetaAndAttributes(n,h),h.classes.push("patterned-field"),this.element.content.push(h)}else this.ignoredFields.includes(v(i))||this.element.content.push(w(n))}),this.copyMetaAndAttributes(r,this.element),D}},Ne=class extends Oa{constructor(e){super(e),this.fieldPatternPredicate=Ri}},Ea=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=r=>be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},wa=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=r=>be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class Pa extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependencies"),this.specPath=r=>be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}class Va extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-enum"),r}}let Ra=class extends C{StringElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-type"),r}ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-type"),r}},Fa=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(r=>{const s=be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},Aa=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(r=>{const s=be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},Ia=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(r=>{const s=be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}};class Ma extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-definitions"),this.specPath=r=>be(r)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let Na=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","LinkDescription"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}};class ka extends m(De,C){constructor(e){super(e),this.element=new et,this.specPath=F(["document","objects","JSONReference"])}ObjectElement(e){const r=De.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),r}}let Da=class extends C{StringElement(e){const r=this.enter(e);return this.element.classes.push("reference-value"),r}},Ca=class extends pe{constructor({alternator:r,...s}){super({...s});l(this,"alternator");this.alternator=r}enter(r){const s=this.alternator.map(({predicate:n,specPath:o})=>Vn(n,F(o),Sn)),i=jn(s)(r);return this.element=this.toRefractedElement(i,r),D}},Be=class extends Ca{constructor(e){super(e),this.alternator=[{predicate:be,specPath:["document","objects","JSONReference"]},{predicate:Ee,specPath:["document","objects","JSONSchema"]}]}};class Ta extends m(De,C){constructor(e){super(e),this.element=new Ct,this.specPath=F(["document","objects","Media"])}}let uo=class extends m(De,C){constructor(e){super(e),this.element=new Tt,this.specPath=F(["document","objects","LinkDescription"])}};const ne={visitors:{value:C,JSONSchemaOrJSONReferenceVisitor:Be,document:{objects:{JSONSchema:{$visitor:ao,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Be,items:lo,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:$a,properties:Ea,additionalProperties:Be,patternProperties:wa,dependencies:Pa,enum:Va,type:Ra,allOf:Fa,anyOf:Aa,oneOf:Ia,not:Be,definitions:Ma,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:Na,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:ka,fixedFields:{$ref:Da}},Media:{$visitor:Ta,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:uo,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Be,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Be}}}}}},Ja=()=>{const t=Ie(ya);return{predicates:{...ja,isStringElement:I},namespace:t}},La=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=ne}={})=>{const i=Je(t),n=Me(s),o=ce(e,n),a=new o({specObj:n});return _(i,a),Pe(a.element,r,{toolboxCreator:Ja,visitorOptions:{keyMap:xa,nodeTypeGetter:Jt}})},dr=t=>(e,r={})=>La(e,{specPath:t,...r});_e.refract=dr(["visitors","document","objects","JSONSchema","$visitor"]);et.refract=dr(["visitors","document","objects","JSONReference","$visitor"]);Ct.refract=dr(["visitors","document","objects","Media","$visitor"]);Tt.refract=dr(["visitors","document","objects","LinkDescription","$visitor"]);let hr=class extends _e{constructor(e,r,s){super(e,r,s),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new k("idProp getter in Schema class is not not supported.")}set idProp(e){throw new k("idProp setter in Schema class is not not supported.")}get $schema(){throw new k("$schema getter in Schema class is not not supported.")}set $schema(e){throw new k("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new k("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new k("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new k("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new k("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new k("definitions getter in Schema class is not not supported.")}set definitions(e){throw new k("definitions setter in Schema class is not not supported.")}get base(){throw new k("base getter in Schema class is not not supported.")}set base(e){throw new k("base setter in Schema class is not not supported.")}get links(){throw new k("links getter in Schema class is not not supported.")}set links(e){throw new k("links setter in Schema class is not not supported.")}get media(){throw new k("media getter in Schema class is not not supported.")}set media(e){throw new k("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},Lt=class extends y{constructor(e,r,s){super(e,r,s),this.element="securityRequirement"}},qt=class extends y{constructor(e,r,s){super(e,r,s),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},Bt=class extends y{constructor(e,r,s){super(e,r,s),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},Ut=class extends y{constructor(e,r,s){super(e,r,s),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},mr=class extends y{constructor(e,r,s){super(e,r,s),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},pr=class extends y{constructor(e,r,s){super(e,r,s),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const qa={namespace:t=>{const{base:e}=t;return e.register("callback",xt),e.register("components",St),e.register("contact",jt),e.register("discriminator",or),e.register("encoding",cr),e.register("example",$t),e.register("externalDocumentation",Ot),e.register("header",Qe),e.register("info",Et),e.register("license",wt),e.register("link",Pt),e.register("mediaType",Vt),e.register("oAuthFlow",ar),e.register("oAuthFlows",lr),e.register("openapi",Rt),e.register("openApi3_0",ur),e.register("operation",Ft),e.register("parameter",Ye),e.register("pathItem",At),e.register("paths",It),e.register("reference",Mt),e.register("requestBody",Nt),e.register("response",kt),e.register("responses",Dt),e.register("schema",hr),e.register("securityRequirement",Lt),e.register("securityScheme",qt),e.register("server",Bt),e.register("serverVariable",Ut),e.register("tag",mr),e.register("xml",pr),e}},xs=class xs extends L{constructor(e,r,s){super(e,r,s),this.classes.push(xs.primaryClass)}};l(xs,"primaryClass","servers");let fs=xs;const Ss=class Ss extends L{constructor(e,r,s){super(e,r,s),this.classes.push(Ss.primaryClass)}};l(Ss,"primaryClass","security");let Kr=Ss;const js=class js extends L{constructor(e,r,s){super(e,r,s),this.classes.push(js.primaryClass)}};l(js,"primaryClass","tags");let Gr=js;const $s=class $s extends y{constructor(e,r,s){super(e,r,s),this.classes.push($s.primaryClass)}};l($s,"primaryClass","server-variables");let Zr=$s;const Os=class Os extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Os.primaryClass)}};l(Os,"primaryClass","components-schemas");let vs=Os;const Es=class Es extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Es.primaryClass)}};l(Es,"primaryClass","components-responses");let Qr=Es;const ws=class ws extends y{constructor(e,r,s){super(e,r,s),this.classes.push(ws.primaryClass),this.classes.push("parameters")}};l(ws,"primaryClass","components-parameters");let Yr=ws;const Ps=class Ps extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Ps.primaryClass),this.classes.push("examples")}};l(Ps,"primaryClass","components-examples");let _r=Ps;const Vs=class Vs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Vs.primaryClass)}};l(Vs,"primaryClass","components-request-bodies");let ei=Vs;const Rs=class Rs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Rs.primaryClass)}};l(Rs,"primaryClass","components-headers");let ti=Rs;const Fs=class Fs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Fs.primaryClass)}};l(Fs,"primaryClass","components-security-schemes");let si=Fs;const As=class As extends y{constructor(e,r,s){super(e,r,s),this.classes.push(As.primaryClass)}};l(As,"primaryClass","components-links");let ri=As;const Is=class Is extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Is.primaryClass)}};l(Is,"primaryClass","components-callbacks");let ii=Is;const Ms=class Ms extends L{constructor(e,r,s){super(e,r,s),this.classes.push(Ms.primaryClass),this.classes.push("servers")}};l(Ms,"primaryClass","path-item-servers");let ni=Ms;const Ns=class Ns extends L{constructor(e,r,s){super(e,r,s),this.classes.push(Ns.primaryClass),this.classes.push("parameters")}};l(Ns,"primaryClass","path-item-parameters");let oi=Ns;const ks=class ks extends L{constructor(e,r,s){super(e,r,s),this.classes.push(ks.primaryClass),this.classes.push("parameters")}};l(ks,"primaryClass","operation-parameters");let gs=ks;const Ds=class Ds extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Ds.primaryClass),this.classes.push("examples")}};l(Ds,"primaryClass","parameter-examples");let ci=Ds;const Cs=class Cs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Cs.primaryClass),this.classes.push("content")}};l(Cs,"primaryClass","parameter-content");let ai=Cs;const Ts=class Ts extends L{constructor(e,r,s){super(e,r,s),this.classes.push(Ts.primaryClass)}};l(Ts,"primaryClass","operation-tags");let li=Ts;const Js=class Js extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Js.primaryClass)}};l(Js,"primaryClass","operation-callbacks");let ui=Js;const Ls=class Ls extends L{constructor(e,r,s){super(e,r,s),this.classes.push(Ls.primaryClass),this.classes.push("security")}};l(Ls,"primaryClass","operation-security");let bs=Ls;const qs=class qs extends L{constructor(e,r,s){super(e,r,s),this.classes.push(qs.primaryClass),this.classes.push("servers")}};l(qs,"primaryClass","operation-servers");let di=qs;const Bs=class Bs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Bs.primaryClass),this.classes.push("content")}};l(Bs,"primaryClass","request-body-content");let hi=Bs;const Us=class Us extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Us.primaryClass),this.classes.push("examples")}};l(Us,"primaryClass","media-type-examples");let mi=Us;const Hs=class Hs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Hs.primaryClass)}};l(Hs,"primaryClass","media-type-encoding");let pi=Hs;const zs=class zs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(zs.primaryClass)}};l(zs,"primaryClass","encoding-headers");let fi=zs;const Ws=class Ws extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Ws.primaryClass)}};l(Ws,"primaryClass","response-headers");let vi=Ws;const Xs=class Xs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Xs.primaryClass),this.classes.push("content")}};l(Xs,"primaryClass","response-content");let gi=Xs;const Ks=class Ks extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Ks.primaryClass)}};l(Ks,"primaryClass","response-links");let bi=Ks;const Gs=class Gs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Gs.primaryClass)}};l(Gs,"primaryClass","discriminator-mapping");let yi=Gs;const Zs=class Zs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Zs.primaryClass)}};l(Zs,"primaryClass","oauth-flow-scopes");let xi=Zs;const Qs=class Qs extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Qs.primaryClass)}};l(Qs,"primaryClass","link-parameters");let Si=Qs;const Ys=class Ys extends y{constructor(e,r,s){super(e,r,s),this.classes.push(Ys.primaryClass),this.classes.push("examples")}};l(Ys,"primaryClass","header-examples");let ji=Ys;const _s=class _s extends y{constructor(e,r,s){super(e,r,s),this.classes.push(_s.primaryClass),this.classes.push("content")}};l(_s,"primaryClass","header-content");let $i=_s;const Ba=t=>{if(Q(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},Ua={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...xe};class ho{constructor(e={}){l(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,r){(e.meta.length>0||r.meta.length>0)&&(r.meta=$e(r.meta,e.meta),bt(e)&&r.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(r.attributes=$e(r.attributes,e.attributes))}}class x extends ho{enter(e){return this.element=w(e),D}}class ve extends ho{constructor({specObj:r,passingOptionsNames:s,openApiGenericElement:i,openApiSemanticElement:n,...o}){super({...o});l(this,"specObj");l(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);l(this,"openApiGenericElement");l(this,"openApiSemanticElement");this.specObj=r,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(s)&&(this.passingOptionsNames=s)}retrievePassingOptions(){return Pn(this.passingOptionsNames,this)}retrieveFixedFields(r){const s=ce(["visitors",...r,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(r){return Fi(xn,["visitors",...r],this.specObj)?ce(["visitors",...r],this.specObj):ce(["visitors",...r,"$visitor"],this.specObj)}retrieveVisitorInstance(r,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(r),o={...i,...s};return new n(o)}toRefractedElement(r,s,i={}){const n=this.retrieveVisitorInstance(r,i);return n instanceof x&&(n==null?void 0:n.constructor)===x?w(s):(_(s,n,i),n.element)}}const z=t=>H(t)&&t.hasKey("$ref"),Ha=H,za=H,mo=t=>I(t.key)&&wn("x-",v(t.key));class M extends ve{constructor({specPath:r,ignoredFields:s,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...o}){super({...o});l(this,"specPath");l(this,"ignoredFields");l(this,"canSupportSpecificationExtensions",!0);l(this,"specificationExtensionPredicate",mo);this.specPath=r,this.ignoredFields=s||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(r){const s=this.specPath(r),i=this.retrieveFixedFields(s);return r.forEach((n,o,a)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const h=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new vt(w(o),h);this.copyMetaAndAttributes(a,$),$.classes.push("fixed-field"),this.element.content.push($)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const h=this.toRefractedElement(["document","extension"],a);this.element.content.push(h)}else this.ignoredFields.includes(v(o))||this.element.content.push(w(a))}),this.copyMetaAndAttributes(r,this.element),D}}class Wa extends m(M,x){constructor(e){super(e),this.element=new ur,this.specPath=F(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return M.prototype.ObjectElement.call(this,e)}}class Xa extends m(ve,x){StringElement(e){const r=new Rt(v(e));return this.copyMetaAndAttributes(e,r),this.element=r,D}}class Ka extends ve{MemberElement(e){return this.element=w(e),this.element.classes.push("specification-extension"),D}}let Ga=class extends m(M,x){constructor(e){super(e),this.element=new Et,this.specPath=F(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class Za extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),r}}let Qa=class extends m(M,x){constructor(e){super(e),this.element=new jt,this.specPath=F(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},Ya=class extends m(M,x){constructor(e){super(e),this.element=new wt,this.specPath=F(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},_a=class extends m(M,x){constructor(e){super(e),this.element=new Pt,this.specPath=F(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return(I(this.element.operationId)||I(this.element.operationRef))&&this.element.classes.push("reference-element"),r}};class el extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class tl extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class Ke extends ve{constructor({specPath:r,ignoredFields:s,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a});l(this,"specPath");l(this,"ignoredFields");l(this,"fieldPatternPredicate",Mi);l(this,"canSupportSpecificationExtensions",!1);l(this,"specificationExtensionPredicate",mo);this.specPath=r,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(r){return r.forEach((s,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),a=this.toRefractedElement(o,s),h=new vt(w(i),a);this.copyMetaAndAttributes(n,h),h.classes.push("patterned-field"),this.element.content.push(h)}else this.ignoredFields.includes(v(i))||this.element.content.push(w(n))}),this.copyMetaAndAttributes(r,this.element),D}}class N extends Ke{constructor(e){super(e),this.fieldPatternPredicate=Ri}}let sl=class extends m(N,x){constructor(e){super(e),this.element=new Si,this.specPath=F(["value"])}},rl=class extends m(M,x){constructor(e){super(e),this.element=new Bt,this.specPath=F(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};class il extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("server-url"),r}}let Ki=class extends m(ve,x){constructor(e){super(e),this.element=new fs}ArrayElement(e){return e.forEach(r=>{const s=Ha(r)?["document","objects","Server"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},nl=class extends m(M,x){constructor(e){super(e),this.element=new Ut,this.specPath=F(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class ol extends m(N,x){constructor(e){super(e),this.element=new Zr,this.specPath=F(["document","objects","ServerVariable"])}}let cl=class extends m(M,x){constructor(e){super(e),this.element=new Vt,this.specPath=F(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class ye extends ve{constructor({alternator:r,...s}){super({...s});l(this,"alternator");this.alternator=r||[]}enter(r){const s=this.alternator.map(({predicate:n,specPath:o})=>Vn(n,F(o),Sn)),i=jn(s)(r);return this.element=this.toRefractedElement(i,r),D}}const al=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof xt||t(s)&&e("callback",s)&&r("object",s)),ll=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof St||t(s)&&e("components",s)&&r("object",s)),ul=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof jt||t(s)&&e("contact",s)&&r("object",s)),dl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof $t||t(s)&&e("example",s)&&r("object",s)),hl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ot||t(s)&&e("externalDocumentation",s)&&r("object",s)),tt=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Qe||t(s)&&e("header",s)&&r("object",s)),ml=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Et||t(s)&&e("info",s)&&r("object",s)),pl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof wt||t(s)&&e("license",s)&&r("object",s)),fl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Pt||t(s)&&e("link",s)&&r("object",s)),vl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Rt||t(s)&&e("openapi",s)&&r("string",s)),gl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof ur||t(i)&&e("openApi3_0",i)&&r("object",i)&&s("api",i)),po=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ft||t(s)&&e("operation",s)&&r("object",s)),bl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ye||t(s)&&e("parameter",s)&&r("object",s)),Gi=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof At||t(s)&&e("pathItem",s)&&r("object",s)),yl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof It||t(s)&&e("paths",s)&&r("object",s)),q=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Mt||t(s)&&e("reference",s)&&r("object",s)),xl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Nt||t(s)&&e("requestBody",s)&&r("object",s)),fr=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof kt||t(s)&&e("response",s)&&r("object",s)),Sl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Dt||t(s)&&e("responses",s)&&r("object",s)),jl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof hr||t(s)&&e("schema",s)&&r("object",s)),$l=t=>gt(t)&&t.classes.includes("boolean-json-schema"),Ol=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Lt||t(s)&&e("securityRequirement",s)&&r("object",s)),El=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof qt||t(s)&&e("securityScheme",s)&&r("object",s)),wl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Bt||t(s)&&e("server",s)&&r("object",s)),Pl=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ut||t(s)&&e("serverVariable",s)&&r("object",s)),vr=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Vt||t(s)&&e("mediaType",s)&&r("object",s)),fo=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof fs||t(i)&&e("array",i)&&r("array",i)&&s("servers",i)),Vl=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:$l,isCallbackElement:al,isComponentsElement:ll,isContactElement:ul,isExampleElement:dl,isExternalDocumentationElement:hl,isHeaderElement:tt,isInfoElement:ml,isLicenseElement:pl,isLinkElement:fl,isMediaTypeElement:vr,isOpenApi3_0Element:gl,isOpenapiElement:vl,isOperationElement:po,isParameterElement:bl,isPathItemElement:Gi,isPathsElement:yl,isReferenceElement:q,isRequestBodyElement:xl,isResponseElement:fr,isResponsesElement:Sl,isSchemaElement:jl,isSecurityRequirementElement:Ol,isSecuritySchemeElement:El,isServerElement:wl,isServerVariableElement:Pl,isServersElement:fo},Symbol.toStringTag,{value:"Module"}));let Rl=class extends m(ye,x){constructor(e){super(e),this.alternator=[{predicate:z,specPath:["document","objects","Reference"]},{predicate:Ee,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=ye.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},Zi=class extends m(N,x){constructor(e){super(e),this.element=new y,this.element.classes.push("examples"),this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","example")}),r}},Fl=class extends Zi{constructor(e){super(e),this.element=new mi}},Al=class extends m(N,x){constructor(e){super(e),this.element=new pi,this.specPath=F(["document","objects","Encoding"])}},Il=class extends m(N,x){constructor(e){super(e),this.element=new Lt,this.specPath=F(["value"])}},Ml=class extends m(ve,x){constructor(e){super(e),this.element=new Kr}ArrayElement(e){return e.forEach(r=>{if(H(r)){const s=this.toRefractedElement(["document","objects","SecurityRequirement"],r);this.element.push(s)}else this.element.push(w(r))}),this.copyMetaAndAttributes(e,this.element),D}},Nl=class extends m(M,x){constructor(e){super(e),this.element=new St,this.specPath=F(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},kl=class extends m(M,x){constructor(e){super(e),this.element=new mr,this.specPath=F(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},Dl=class extends m(M,x){constructor(e){super(e),this.element=new Mt,this.specPath=F(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),r}},Cl=class extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}},Tl=class extends m(M,x){constructor(e){super(e),this.element=new Ye,this.specPath=F(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return H(this.element.contentProp)&&this.element.contentProp.filter(vr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),r}},Jl=class extends m(ye,x){constructor(e){super(e),this.alternator=[{predicate:z,specPath:["document","objects","Reference"]},{predicate:Ee,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=ye.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},Ll=class extends m(M,x){constructor(e){super(e),this.element=new Qe,this.specPath=F(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},ql=class extends m(ye,x){constructor(e){super(e),this.alternator=[{predicate:z,specPath:["document","objects","Reference"]},{predicate:Ee,specPath:["document","objects","Schema"]}]}ObjectElement(e){const r=ye.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}},Bl=class extends Zi{constructor(e){super(e),this.element=new ji}},gr=class extends m(N,x){constructor(e){super(e),this.element=new y,this.element.classes.push("content"),this.specPath=F(["document","objects","MediaType"])}},Ul=class extends gr{constructor(e){super(e),this.element=new $i}},Hl=class extends m(M,x){constructor(e){super(e),this.element=new hr,this.specPath=F(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const an=ne.visitors.document.objects.JSONSchema.fixedFields.allOf;let zl=class extends an{ArrayElement(e){const r=an.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const ln=ne.visitors.document.objects.JSONSchema.fixedFields.anyOf;let Wl=class extends ln{ArrayElement(e){const r=ln.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const un=ne.visitors.document.objects.JSONSchema.fixedFields.oneOf;let Xl=class extends un{ArrayElement(e){const r=un.prototype.ArrayElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const dn=ne.visitors.document.objects.JSONSchema.fixedFields.items;let Kl=class extends dn{ObjectElement(e){const r=dn.prototype.ObjectElement.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}ArrayElement(e){return this.enter(e)}};const hn=ne.visitors.document.objects.JSONSchema.fixedFields.properties;let Gl=class extends hn{ObjectElement(e){const r=hn.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}};const Zl=ne.visitors.document.objects.JSONSchema.fixedFields.type;class Ql extends Zl{ArrayElement(e){return this.enter(e)}}const mn=ne.visitors.JSONSchemaOrJSONReferenceVisitor;class pn extends mn{ObjectElement(e){const r=mn.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","schema"),r}}let Yl=class extends m(M,x){constructor(e){super(e),this.element=new or,this.specPath=F(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class _l extends m(N,x){constructor(e){super(e),this.element=new yi,this.specPath=F(["value"])}}let eu=class extends m(M,x){constructor(e){super(e),this.element=new pr,this.specPath=F(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},tu=class extends Zi{constructor(e){super(e),this.element=new ci}},su=class extends gr{constructor(e){super(e),this.element=new ai}},ru=class extends m(N,x){constructor(e){super(e),this.element=new vs,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),r}},iu=class extends m(N,x){constructor(e){super(e),this.element=new Qr,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(fr).forEach((s,i)=>{s.setMetaProperty("http-status-code",v(i))}),r}},nu=class extends m(N,x){constructor(e){super(e),this.element=new Yr,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","parameter")}),r}},ou=class extends m(N,x){constructor(e){super(e),this.element=new _r,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","example")}),r}};class cu extends m(N,x){constructor(e){super(e),this.element=new ei,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","requestBody")}),r}}let au=class extends m(N,x){constructor(e){super(e),this.element=new ti,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.filter(tt).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),r}};class lu extends m(N,x){constructor(e){super(e),this.element=new si,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","securityScheme")}),r}}let uu=class extends m(N,x){constructor(e){super(e),this.element=new ri,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","link")}),r}},du=class extends m(N,x){constructor(e){super(e),this.element=new ii,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","callback")}),r}},hu=class extends m(M,x){constructor(e){super(e),this.element=new $t,this.specPath=F(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return I(this.element.externalValue)&&this.element.classes.push("reference-element"),r}};class mu extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}let pu=class extends m(M,x){constructor(e){super(e),this.element=new Ot,this.specPath=F(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},fu=class extends m(M,x){constructor(e){super(e),this.element=new cr,this.specPath=F(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return H(this.element.headers)&&this.element.headers.filter(tt).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),r}},vu=class extends m(N,x){constructor(e){super(e),this.element=new fi,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!tt(s))return;const n=v(i);s.setMetaProperty("headerName",n)}),r}},gu=class extends m(Ke,x){constructor(e){super(e),this.element=new It,this.specPath=F(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=Ee}ObjectElement(e){const r=Ke.prototype.ObjectElement.call(this,e);return this.element.filter(Gi).forEach((s,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),s.setMetaProperty("path",w(i))}),r}},bu=class extends m(M,x){constructor(e){super(e),this.element=new Nt,this.specPath=F(["document","objects","RequestBody"])}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return H(this.element.contentProp)&&this.element.contentProp.filter(vr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),r}},yu=class extends gr{constructor(e){super(e),this.element=new hi}},xu=class extends m(Ke,x){constructor(e){super(e),this.element=new xt,this.specPath=F(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=r=>/{(?<expression>[^}]{1,2083})}/.test(String(r))}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(Gi).forEach((s,i)=>{s.setMetaProperty("runtime-expression",v(i))}),r}},Su=class extends m(M,x){constructor(e){super(e),this.element=new kt,this.specPath=F(["document","objects","Response"])}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return H(this.element.contentProp)&&this.element.contentProp.filter(vr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),H(this.element.headers)&&this.element.headers.filter(tt).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),r}};class ju extends m(N,x){constructor(e){super(e),this.element=new vi,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!tt(s))return;const n=v(i);s.setMetaProperty("header-name",n)}),r}}class $u extends gr{constructor(e){super(e),this.element=new gi}}class Ou extends m(N,x){constructor(e){super(e),this.element=new bi,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","link")}),r}}class fn extends m(M,Ke){constructor({specPathFixedFields:r,specPathPatternedFields:s,...i}){super({...i});l(this,"specPathFixedFields");l(this,"specPathPatternedFields");this.specPathFixedFields=r,this.specPathPatternedFields=s}ObjectElement(r){const{specPath:s,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(r));this.ignoredFields=[...i,...sc(r.keys(),n)],M.prototype.ObjectElement.call(this,r),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,Ke.prototype.ObjectElement.call(this,r)}catch(n){throw this.specPath=s,n}return D}}let Eu=class extends m(fn,x){constructor(e){super(e),this.element=new Dt,this.specPathFixedFields=F(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=r=>z(r)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=r=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${rc(100,600).join("|")})$`).test(String(r))}ObjectElement(e){const r=fn.prototype.ObjectElement.call(this,e);return this.element.filter(q).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(fr).forEach((s,i)=>{const n=w(i);this.fieldPatternPredicate(v(n))&&s.setMetaProperty("http-status-code",n)}),r}};class wu extends m(ye,x){constructor(e){super(e),this.alternator=[{predicate:z,specPath:["document","objects","Reference"]},{predicate:Ee,specPath:["document","objects","Response"]}]}ObjectElement(e){const r=ye.prototype.enter.call(this,e);return q(this.element)?this.element.setMetaProperty("referenced-element","response"):fr(this.element)&&this.element.setMetaProperty("http-status-code","default"),r}}let Pu=class extends m(M,x){constructor(e){super(e),this.element=new Ft,this.specPath=F(["document","objects","Operation"])}},Vu=class extends x{constructor(e){super(e),this.element=new li}ArrayElement(e){return this.element=this.element.concat(w(e)),D}},vo=class extends m(ve,x){constructor(e){super(e),this.element=new L,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(r=>{const s=z(r)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(s,r);q(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}},Ru=class extends vo{constructor(e){super(e),this.element=new gs}},Fu=class extends ye{constructor(e){super(e),this.alternator=[{predicate:z,specPath:["document","objects","Reference"]},{predicate:Ee,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const r=ye.prototype.enter.call(this,e);return q(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),r}};class Au extends m(N,x){constructor(r){super(r);l(this,"specPath");this.element=new ui,this.specPath=s=>z(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(r){const s=N.prototype.ObjectElement.call(this,r);return this.element.filter(q).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),s}}class Iu extends m(ve,x){constructor(e){super(e),this.element=new bs}ArrayElement(e){return e.forEach(r=>{const s=H(r)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}}let Mu=class extends Ki{constructor(e){super(e),this.element=new di}},Nu=class extends m(M,x){constructor(e){super(e),this.element=new At,this.specPath=F(["document","objects","PathItem"])}ObjectElement(e){const r=M.prototype.ObjectElement.call(this,e);return this.element.filter(po).forEach((s,i)=>{const n=w(i);n.content=v(n).toUpperCase(),s.setMetaProperty("http-method",n)}),I(this.element.$ref)&&this.element.classes.push("reference-element"),r}};class ku extends x{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}class Du extends Ki{constructor(e){super(e),this.element=new ni}}class Cu extends vo{constructor(e){super(e),this.element=new oi}}let Tu=class extends m(M,x){constructor(e){super(e),this.element=new qt,this.specPath=F(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},Ju=class extends m(M,x){constructor(e){super(e),this.element=new lr,this.specPath=F(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},Lu=class extends m(M,x){constructor(e){super(e),this.element=new ar,this.specPath=F(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class qu extends m(N,x){constructor(e){super(e),this.element=new xi,this.specPath=F(["value"])}}class Bu extends m(ve,x){constructor(e){super(e),this.element=new Gr}ArrayElement(e){return e.forEach(r=>{const s=za(r)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(s,r);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),D}}const{fixedFields:G}=ne.visitors.document.objects.JSONSchema,c={visitors:{value:x,document:{objects:{OpenApi:{$visitor:Wa,fixedFields:{openapi:Xa,info:{$ref:"#/visitors/document/objects/Info"},servers:Ki,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:Ml,tags:Bu,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Ga,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:Za}},Contact:{$visitor:Qa,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:Ya,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:rl,fixedFields:{url:il,description:{$ref:"#/visitors/value"},variables:ol}},ServerVariable:{$visitor:nl,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:Nl,fixedFields:{schemas:ru,responses:iu,parameters:nu,examples:ou,requestBodies:cu,headers:au,securitySchemes:lu,links:uu,callbacks:du}},Paths:{$visitor:gu},PathItem:{$visitor:Nu,fixedFields:{$ref:ku,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:Du,parameters:Cu}},Operation:{$visitor:Pu,fixedFields:{tags:Vu,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:Ru,requestBody:Fu,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:Au,deprecated:{$ref:"#/visitors/value"},security:Iu,servers:Mu}},ExternalDocumentation:{$visitor:pu,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:Tl,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:Jl,example:{$ref:"#/visitors/value"},examples:tu,content:su}},RequestBody:{$visitor:bu,fixedFields:{description:{$ref:"#/visitors/value"},content:yu,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:cl,fixedFields:{schema:Rl,example:{$ref:"#/visitors/value"},examples:Fl,encoding:Al}},Encoding:{$visitor:fu,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:vu,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:Eu,fixedFields:{default:wu}},Response:{$visitor:Su,fixedFields:{description:{$ref:"#/visitors/value"},headers:ju,content:$u,links:Ou}},Callback:{$visitor:xu},Example:{$visitor:hu,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:mu}},Link:{$visitor:_a,fixedFields:{operationRef:el,operationId:tl,parameters:sl,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:Ll,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:ql,example:{$ref:"#/visitors/value"},examples:Bl,content:Ul}},Tag:{$visitor:kl,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:Dl,fixedFields:{$ref:Cl}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:Hl,fixedFields:{title:G.title,multipleOf:G.multipleOf,maximum:G.maximum,exclusiveMaximum:G.exclusiveMaximum,minimum:G.minimum,exclusiveMinimum:G.exclusiveMinimum,maxLength:G.maxLength,minLength:G.minLength,pattern:G.pattern,maxItems:G.maxItems,minItems:G.minItems,uniqueItems:G.uniqueItems,maxProperties:G.maxProperties,minProperties:G.minProperties,required:G.required,enum:G.enum,type:Ql,allOf:zl,anyOf:Wl,oneOf:Xl,not:pn,items:Kl,properties:Gl,additionalProperties:pn,description:G.description,format:G.format,default:G.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Yl,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:_l}},XML:{$visitor:eu,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:Tu,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:Ju,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:Lu,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:qu}},SecurityRequirement:{$visitor:Il}},extension:{$visitor:Ka}}}},Uu=()=>{const t=Ie(qa);return{predicates:{...Vl,isElement:Q,isStringElement:I,isArrayElement:me,isObjectElement:H,isMemberElement:we,includesClasses:qi,hasElementSourceMap:bt},namespace:t}},Hu=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=Je(t),i=Me(c),n=ce(e,i),o=new n({specObj:i});return _(s,o),Pe(o.element,r,{toolboxCreator:Uu,visitorOptions:{keyMap:Ua,nodeTypeGetter:Ba}})},J=t=>(e,r={})=>Hu(e,{specPath:t,...r});xt.refract=J(["visitors","document","objects","Callback","$visitor"]);St.refract=J(["visitors","document","objects","Components","$visitor"]);jt.refract=J(["visitors","document","objects","Contact","$visitor"]);$t.refract=J(["visitors","document","objects","Example","$visitor"]);or.refract=J(["visitors","document","objects","Discriminator","$visitor"]);cr.refract=J(["visitors","document","objects","Encoding","$visitor"]);Ot.refract=J(["visitors","document","objects","ExternalDocumentation","$visitor"]);Qe.refract=J(["visitors","document","objects","Header","$visitor"]);Et.refract=J(["visitors","document","objects","Info","$visitor"]);wt.refract=J(["visitors","document","objects","License","$visitor"]);Pt.refract=J(["visitors","document","objects","Link","$visitor"]);Vt.refract=J(["visitors","document","objects","MediaType","$visitor"]);ar.refract=J(["visitors","document","objects","OAuthFlow","$visitor"]);lr.refract=J(["visitors","document","objects","OAuthFlows","$visitor"]);Rt.refract=J(["visitors","document","objects","OpenApi","fixedFields","openapi"]);ur.refract=J(["visitors","document","objects","OpenApi","$visitor"]);Ft.refract=J(["visitors","document","objects","Operation","$visitor"]);Ye.refract=J(["visitors","document","objects","Parameter","$visitor"]);At.refract=J(["visitors","document","objects","PathItem","$visitor"]);It.refract=J(["visitors","document","objects","Paths","$visitor"]);Mt.refract=J(["visitors","document","objects","Reference","$visitor"]);Nt.refract=J(["visitors","document","objects","RequestBody","$visitor"]);kt.refract=J(["visitors","document","objects","Response","$visitor"]);Dt.refract=J(["visitors","document","objects","Responses","$visitor"]);hr.refract=J(["visitors","document","objects","Schema","$visitor"]);Lt.refract=J(["visitors","document","objects","SecurityRequirement","$visitor"]);qt.refract=J(["visitors","document","objects","SecurityScheme","$visitor"]);Bt.refract=J(["visitors","document","objects","Server","$visitor"]);Ut.refract=J(["visitors","document","objects","ServerVariable","$visitor"]);mr.refract=J(["visitors","document","objects","Tag","$visitor"]);pr.refract=J(["visitors","document","objects","XML","$visitor"]);class br extends xt{}class yr extends St{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class xr extends jt{}class Qi extends or{}class Yi extends cr{}class Sr extends $t{}class jr extends Ot{}class $r extends Qe{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Or extends Et{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const er=class er extends Se{constructor(e,r,s){super(e,r,s),this.element="jsonSchemaDialect"}};l(er,"default",new er("https://spec.openapis.org/oas/3.1/dialect/base"));let Ce=er;class Er extends wt{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class wr extends Pt{}class Pr extends Vt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class _i extends ar{}class en extends lr{}class tn extends Rt{}class Vr extends y{constructor(e,r,s){super(e,r,s),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class Ht extends Ft{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class Rr extends Ye{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Ge extends At{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class Fr extends It{}class Le extends Mt{}Object.defineProperty(Le.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});Object.defineProperty(Le.prototype,"summary",{get(){return this.get("summary")},set(t){this.set("summary",t)},enumerable:!0});class Ar extends Nt{}class Ir extends kt{}class Mr extends Dt{}let zt=class extends _e{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft6"}get idProp(){throw new k("id keyword from Core vocabulary has been renamed to $id.")}set idProp(e){throw new k("id keyword from Core vocabulary has been renamed to $id.")}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}},Wt=class extends Tt{get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get schema(){throw new k("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}set schema(e){throw new k("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get method(){throw new k("method keyword from Hyper-Schema vocabulary has been removed.")}set method(e){throw new k("method keyword from Hyper-Schema vocabulary has been removed.")}get encType(){throw new k("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}set encType(e){throw new k("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}get submissionEncType(){return this.get("submissionEncType")}set submissionEncType(e){this.set("submissionEncType",e)}};const zu={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft6",zt),e.register("jSONReference",et),e.register("media",Ct),e.register("linkDescription",Wt),e}},Wu={JSONSchemaDraft6Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...xe};let go=class extends ao{constructor(e){super(e),this.element=new zt}get defaultDialectIdentifier(){return"http://json-schema.org/draft-06/schema#"}BooleanElement(e){const r=this.enter(e);return this.element.classes.push("boolean-json-schema"),r}handleSchemaIdentifier(e,r="$id"){return super.handleSchemaIdentifier(e,r)}},Xu=class extends lo{BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}};class Ku extends C{ArrayElement(e){const r=this.enter(e);return this.element.classes.push("json-schema-examples"),r}}let bo=class extends uo{constructor(e){super(e),this.element=new Wt}};const se=Oe(f(["visitors","document","objects","JSONSchema","$visitor"],go),he(["visitors","document","objects","JSONSchema","fixedFields","id"]),f(["visitors","document","objects","JSONSchema","fixedFields","$id"],ne.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","contains"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),f(["visitors","document","objects","JSONSchema","fixedFields","items"],Xu),f(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),f(["visitors","document","objects","JSONSchema","fixedFields","const"],ne.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","examples"],Ku),f(["visitors","document","objects","LinkDescription","$visitor"],bo),f(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","schema"]),f(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],ne.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","method"]),he(["visitors","document","objects","LinkDescription","fixedFields","encType"]),f(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"],ne.visitors.value))(ne),Gu=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof zt||t(s)&&e("JSONSchemaDraft6",s)&&r("object",s)),Zu=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Wt||t(s)&&e("linkDescription",s)&&r("object",s)),Qu=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Xi,isJSONSchemaElement:Gu,isLinkDescriptionElement:Zu,isMediaElement:co},Symbol.toStringTag,{value:"Module"})),Yu=()=>{const t=Ie(zu);return{predicates:{...Qu,isStringElement:I},namespace:t}},_u=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=se}={})=>{const i=Je(t),n=Me(s),o=ce(e,n),a=new o({specObj:n});return _(i,a),Pe(a.element,r,{toolboxCreator:Yu,visitorOptions:{keyMap:Wu,nodeTypeGetter:Jt}})},yo=t=>(e,r={})=>_u(e,{specPath:t,...r});zt.refract=yo(["visitors","document","objects","JSONSchema","$visitor"]);Wt.refract=yo(["visitors","document","objects","LinkDescription","$visitor"]);let Xt=class extends zt{constructor(e,r,s){super(e,r,s),this.element="JSONSchemaDraft7"}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get media(){throw new k('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}set media(e){throw new k('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}},Kt=class extends Wt{get anchor(){return this.get("anchor")}set anchor(e){this.set("anchor",e)}get anchorPointer(){return this.get("anchorPointer")}set anchorPointer(e){this.set("anchorPointer",e)}get templatePointers(){return this.get("templatePointers")}set templatePointers(e){this.set("templatePointers",e)}get templateRequired(){return this.get("templateRequired")}set templateRequired(e){this.set("templateRequired",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){throw new k("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}set mediaType(e){throw new k("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}get targetMediaType(){return this.get("targetMediaType")}set targetMediaType(e){this.set("targetMediaType",e)}get targetHints(){return this.get("targetHints")}set targetHints(e){this.set("targetHints",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get submissionEncType(){throw new k("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}set submissionEncType(e){throw new k("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}get submissionMediaType(){return this.get("submissionMediaType")}set submissionMediaType(e){this.set("submissionMediaType",e)}};const ed={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft7",Xt),e.register("jSONReference",et),e.register("linkDescription",Kt),e}},td={JSONSchemaDraft7Element:["content"],JSONReferenceElement:["content"],LinkDescriptionElement:["content"],...xe};let xo=class extends go{constructor(e){super(e),this.element=new Xt}get defaultDialectIdentifier(){return"http://json-schema.org/draft-07/schema#"}},So=class extends bo{constructor(e){super(e),this.element=new Kt}};const Fe=Oe(f(["visitors","document","objects","JSONSchema","$visitor"],xo),f(["visitors","document","objects","JSONSchema","fixedFields","$comment"],se.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","if"],se.visitors.JSONSchemaOrJSONReferenceVisitor),f(["visitors","document","objects","JSONSchema","fixedFields","then"],se.visitors.JSONSchemaOrJSONReferenceVisitor),f(["visitors","document","objects","JSONSchema","fixedFields","else"],se.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","JSONSchema","fixedFields","media"]),f(["visitors","document","objects","JSONSchema","fixedFields","contentEncoding"],se.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","contentMediaType"],se.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","writeOnly"],se.visitors.value),f(["visitors","document","objects","LinkDescription","$visitor"],So),f(["visitors","document","objects","LinkDescription","fixedFields","anchor"],se.visitors.value),f(["visitors","document","objects","LinkDescription","fixedFields","anchorPointer"],se.visitors.value),he(["visitors","document","objects","LinkDescription","fixedFields","mediaType"]),f(["visitors","document","objects","LinkDescription","fixedFields","targetMediaType"],se.visitors.value),f(["visitors","document","objects","LinkDescription","fixedFields","targetHints"],se.visitors.value),f(["visitors","document","objects","LinkDescription","fixedFields","description"],se.visitors.value),f(["visitors","document","objects","LinkDescription","fixedFields","$comment"],se.visitors.value),f(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],se.visitors.JSONSchemaOrJSONReferenceVisitor),he(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"]),f(["visitors","document","objects","LinkDescription","fixedFields","submissionMediaType"],se.visitors.value))(se),sd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Xt||t(s)&&e("JSONSchemaDraft7",s)&&r("object",s)),rd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Kt||t(s)&&e("linkDescription",s)&&r("object",s)),id=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:Xi,isJSONSchemaElement:sd,isLinkDescriptionElement:rd},Symbol.toStringTag,{value:"Module"})),nd=()=>{const t=Ie(ed);return{predicates:{...id,isStringElement:I},namespace:t}},od=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=Fe}={})=>{const i=Je(t),n=Me(s),o=ce(e,n),a=new o({specObj:n});return _(i,a),Pe(a.element,r,{toolboxCreator:nd,visitorOptions:{keyMap:td,nodeTypeGetter:Jt}})},jo=t=>(e,r={})=>od(e,{specPath:t,...r});Xt.refract=jo(["visitors","document","objects","JSONSchema","$visitor"]);Kt.refract=jo(["visitors","document","objects","LinkDescription","$visitor"]);let Gt=class extends Xt{constructor(e,r,s){super(e,r,s),this.element="JSONSchema201909"}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $recursiveAnchor(){return this.get("$recursiveAnchor")}set $recursiveAnchor(e){this.set("$recursiveAnchor",e)}get $recursiveRef(){return this.get("$recursiveRef")}set $recursiveRef(e){this.set("$recursiveRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get definitions(){throw new k("definitions keyword from Validation vocabulary has been renamed to $defs.")}set definitions(e){throw new k("definitions keyword from Validation vocabulary has been renamed to $defs.")}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get dependencies(){throw new k("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}set dependencies(e){throw new k("dependencies keyword from Validation vocabulary has been renamed to dependentSchemas.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}},Zt=class extends Kt{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}};const cd={namespace:t=>{const{base:e}=t;return e.register("jSONSchema201909",Gt),e.register("linkDescription",Zt),e}},ad={JSONSchema201909Element:["content"],LinkDescriptionElement:["content"],...xe};let re=class extends xo{constructor(e){super(e),this.element=new Gt}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2019-09/schema"}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const r=De.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),r}};class ld extends C{ObjectElement(e){const r=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),r}}class ud extends C{StringElement(e){const r=super.enter(e);return this.element.classes.push("reference-value"),r}}let $o=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-$defs"),this.specPath=F(["document","objects","JSONSchema"])}},Oo=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},Eo=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},wo=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},Po=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=F(["document","objects","JSONSchema"])}};class dd extends m(pe,K,C){ObjectElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}ArrayElement(e){return this.element=new L,this.element.classes.push("json-schema-items"),e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),D}}let Vo=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=F(["document","objects","JSONSchema"])}},Ro=class extends m(Ne,K,C){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=F(["document","objects","JSONSchema"])}};class hd extends C{ObjectElement(e){const r=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),r}}let Fo=class extends So{constructor(e){super(e),this.element=new Zt}};const ss=Oe(f(["visitors","document","objects","JSONSchema","$visitor"],re),f(["visitors","document","objects","JSONSchema","fixedFields","$vocabulary"],ld),f(["visitors","document","objects","JSONSchema","fixedFields","$anchor"],Fe.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"],Fe.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"],Fe.visitors.value),he(["visitors","document","objects","JSONReference","$visitor"]),f(["visitors","document","objects","JSONSchema","fixedFields","$ref"],ud),he(["visitors","document","objects","JSONSchema","fixedFields","definitions"]),f(["visitors","document","objects","JSONSchema","fixedFields","$defs"],$o),f(["visitors","document","objects","JSONSchema","fixedFields","allOf"],Oo),f(["visitors","document","objects","JSONSchema","fixedFields","anyOf"],Eo),f(["visitors","document","objects","JSONSchema","fixedFields","oneOf"],wo),f(["visitors","document","objects","JSONSchema","fixedFields","not"],re),f(["visitors","document","objects","JSONSchema","fixedFields","if"],re),f(["visitors","document","objects","JSONSchema","fixedFields","then"],re),f(["visitors","document","objects","JSONSchema","fixedFields","else"],re),he(["visitors","document","objects","JSONSchema","fixedFields","dependencies"]),f(["visitors","document","objects","JSONSchema","fixedFields","dependentSchemas"],Po),f(["visitors","document","objects","JSONSchema","fixedFields","items"],dd),f(["visitors","document","objects","JSONSchema","fixedFields","contains"],re),f(["visitors","document","objects","JSONSchema","fixedFields","properties"],Vo),f(["visitors","document","objects","JSONSchema","fixedFields","patternProperties"],Ro),f(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],re),f(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"],re),f(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],re),f(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],re),f(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],re),f(["visitors","document","objects","JSONSchema","fixedFields","maxContains"],Fe.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","minContains"],Fe.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","dependentRequired"],hd),f(["visitors","document","objects","JSONSchema","fixedFields","deprecated"],Fe.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],re),f(["visitors","document","objects","LinkDescription","$visitor"],Fo),f(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],re),f(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],re),f(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],re),f(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],re))(Fe),md=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Gt||t(s)&&e("JSONSchema201909",s)&&r("object",s)),pd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Zt||t(s)&&e("linkDescription",s)&&r("object",s)),fd=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:md,isLinkDescriptionElement:pd},Symbol.toStringTag,{value:"Module"})),vd=()=>{const t=Ie(cd);return{predicates:{...fd,isStringElement:I},namespace:t}},gd=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=ss}={})=>{const i=Je(t),n=Me(s),o=ce(e,n),a=new o({specObj:n});return _(i,a),Pe(a.element,r,{toolboxCreator:vd,visitorOptions:{keyMap:ad,nodeTypeGetter:Jt}})},Ao=t=>(e,r={})=>gd(e,{specPath:t,...r});Gt.refract=Ao(["visitors","document","objects","JSONSchema","$visitor"]);Zt.refract=Ao(["visitors","document","objects","LinkDescription","$visitor"]);class Qt extends Gt{constructor(e,r,s){super(e,r,s),this.element="JSONSchema202012"}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $recursiveAnchor(){throw new k("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}set $recursiveAnchor(e){throw new k("$recursiveAnchor keyword from Core vocabulary has been renamed to $dynamicAnchor.")}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $recursiveRef(){throw new k("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}set $recursiveRef(e){throw new k("$recursiveRef keyword from Core vocabulary has been renamed to $dynamicRef.")}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}}class Nr extends Zt{get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get headerSchema(){return this.get("headerSchema")}set headerSchema(e){this.set("headerSchema",e)}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}}const bd={namespace:t=>{const{base:e}=t;return e.register("jSONSchema202012",Qt),e.register("linkDescription",Nr),e}},yd={JSONSchema202012Element:["content"],LinkDescriptionElement:["content"],...xe};let Z=class extends re{constructor(e){super(e),this.element=new Qt}get defaultDialectIdentifier(){return"https://json-schema.org/draft/2020-12/schema"}},Io=class extends m(pe,K,C){constructor(e){super(e),this.element=new L,this.element.classes.push("json-schema-prefixItems")}ArrayElement(e){return e.forEach(r=>{const s=this.toRefractedElement(["document","objects","JSONSchema"],r);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),D}},xd=class extends Fo{constructor(e){super(e),this.element=new Nr}};const Mo=Oe(f(["visitors","document","objects","JSONSchema","$visitor"],Z),he(["visitors","document","objects","JSONSchema","fixedFields","$recursiveAnchor"]),f(["visitors","document","objects","JSONSchema","fixedFields","$dynamicAnchor"],ss.visitors.value),he(["visitors","document","objects","JSONSchema","fixedFields","$recursiveRef"]),f(["visitors","document","objects","JSONSchema","fixedFields","$dynamicRef"],ss.visitors.value),f(["visitors","document","objects","JSONSchema","fixedFields","not"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","if"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","then"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","else"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","prefixItems"],Io),f(["visitors","document","objects","JSONSchema","fixedFields","items"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","contains"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","additionalProperties"],Z),he(["visitors","document","objects","JSONSchema","fixedFields","additionalItems"]),f(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedItems"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","unevaluatedProperties"],Z),f(["visitors","document","objects","JSONSchema","fixedFields","contentSchema"],Z),f(["visitors","document","objects","LinkDescription","$visitor"],xd),f(["visitors","document","objects","LinkDescription","fixedFields","targetSchema"],Z),f(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],Z),f(["visitors","document","objects","LinkDescription","fixedFields","headerSchema"],Z),f(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],Z))(ss),Sd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Qt||t(s)&&e("JSONSchema202012",s)&&r("object",s)),jd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Nr||t(s)&&e("linkDescription",s)&&r("object",s)),$d=Object.freeze(Object.defineProperty({__proto__:null,isJSONSchemaElement:Sd,isLinkDescriptionElement:jd},Symbol.toStringTag,{value:"Module"})),Od=()=>{const t=Ie(bd);return{predicates:{...$d,isStringElement:I},namespace:t}},Ed=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=Mo}={})=>{const i=Je(t),n=Me(s),o=ce(e,n),a=new o({specObj:n});return _(i,a),Pe(a.element,r,{toolboxCreator:Od,visitorOptions:{keyMap:yd,nodeTypeGetter:Jt}})},No=t=>(e,r={})=>Ed(e,{specPath:t,...r});Qt.refract=No(["visitors","document","objects","JSONSchema","$visitor"]);Nr.refract=No(["visitors","document","objects","LinkDescription","$visitor"]);class st extends Qt{constructor(e,r,s){super(e,r,s),this.element="schema"}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class kr extends Lt{}class Dr extends qt{}class Cr extends Bt{}class Tr extends Ut{}class sn extends mr{}class rn extends pr{}const ko={namespace:t=>{const{base:e}=t;return e.register("callback",br),e.register("components",yr),e.register("contact",xr),e.register("discriminator",Qi),e.register("encoding",Yi),e.register("example",Sr),e.register("externalDocumentation",jr),e.register("header",$r),e.register("info",Or),e.register("jsonSchemaDialect",Ce),e.register("license",Er),e.register("link",wr),e.register("mediaType",Pr),e.register("oAuthFlow",_i),e.register("oAuthFlows",en),e.register("openapi",tn),e.register("openApi3_1",Vr),e.register("operation",Ht),e.register("parameter",Rr),e.register("pathItem",Ge),e.register("paths",Fr),e.register("reference",Le),e.register("requestBody",Ar),e.register("response",Ir),e.register("responses",Mr),e.register("schema",st),e.register("securityRequirement",kr),e.register("securityScheme",Dr),e.register("server",Cr),e.register("serverVariable",Tr),e.register("tag",sn),e.register("xml",rn),e}},tr=class tr extends y{constructor(e,r,s){super(e,r,s),this.classes.push(tr.primaryClass)}};l(tr,"primaryClass","components-path-items");let Oi=tr;const sr=class sr extends y{constructor(e,r,s){super(e,r,s),this.classes.push(sr.primaryClass)}};l(sr,"primaryClass","webhooks");let Ei=sr;const ct=t=>{if(Q(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},at={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...xe};class Yt{constructor(e,r,s){l(this,"internalStore");this.storageElement=e,this.storageField=r,this.storageSubField=s}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);H(e)||(e=new y,this.storageElement.set(this.storageField,e));let r=e.get(this.storageSubField);me(r)||(r=new L,e.set(this.storageSubField,r)),this.internalStore=r}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const hv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e,i=(a,h)=>!r.isParameterElement(a)||!r.isParameterElement(h)||!r.isStringElement(a.name)||!r.isStringElement(a.in)||!r.isStringElement(h.name)||!r.isStringElement(h.in)?!1:v(a.name)===v(h.name)&&v(a.in)===v(h.in),n=[];let o;return{visitor:{OpenApi3_1Element:{enter(a){o=new Yt(a,t,"parameters")},leave(){o=void 0}},PathItemElement:{enter(a,h,$,S,g){if(g.some(r.isComponentsElement))return;const{parameters:O}=a;r.isArrayElement(O)?n.push([...O.content]):n.push([])},leave(){n.pop()}},OperationElement:{leave(a,h,$,S,g){const O=rr(n);if(!Array.isArray(O)||O.length===0)return;const P=s([...g,$,a]);if(o.includes(P))return;const R=On([],["parameters","content"],a),d=ic(i,[...R,...O]);a.parameters=new gs(d),o.append(P)}}}}},mv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i,n;return{visitor:{OpenApi3_1Element:{enter(o){n=new Yt(o,t,"security-requirements"),r.isArrayElement(o.security)&&(i=o.security)},leave(){n=void 0,i=void 0}},OperationElement:{leave(o,a,h,$,S){if(S.some(r.isComponentsElement))return;const g=s([...S,h,o]);if(n.includes(g))return;if(typeof o.security>"u"&&typeof i<"u"){var R;o.security=new bs((R=i)===null||R===void 0?void 0:R.content),n.append(g)}}}}}},wi=t=>t.replace(/\s/g,""),Pi=t=>t.replace(/\W/gi,"_"),wd=(t,e)=>{const r=Pi(wi(e.toLowerCase())),s=Pi(wi(t));return`${r}${s}`},Pd=(t,e,r)=>{const s=wi(t);return s.length>0?Pi(s):wd(e,r)},pv=({storageField:t="x-normalized",operationIdNormalizer:e=Pd}={})=>r=>{const{predicates:s,ancestorLineageToJSONPointer:i,namespace:n}=r,o=[],a=[],h=[];let $;return{visitor:{OpenApi3_1Element:{enter(S){$=new Yt(S,t,"operation-ids")},leave(){const S=nc(g=>v(g.operationId),a);Object.entries(S).forEach(([g,O])=>{Array.isArray(O)&&(O.length<=1||O.forEach((P,R)=>{const d=`${g}${R+1}`;P.operationId=new n.elements.String(d)}))}),h.forEach(g=>{if(typeof g.operationId>"u")return;const O=String(v(g.operationId)),P=a.find(R=>v(R.meta.get("originalOperationId"))===O);typeof P>"u"||(g.operationId=w.safe(P.operationId),g.meta.set("originalOperationId",O),g.set("__originalOperationId",O))}),a.length=0,h.length=0,$=void 0}},PathItemElement:{enter(S){const g=ns("path",v(S.meta.get("path")));o.push(g)},leave(){o.pop()}},OperationElement:{enter(S,g,O,P,R){if(typeof S.operationId>"u")return;const d=i([...R,O,S]);if($.includes(d))return;const V=String(v(S.operationId)),j=rr(o),u=ns("method",v(S.meta.get("http-method"))),p=e(V,j,u);V!==p&&(S.operationId=new n.elements.String(p),S.set("__originalOperationId",V),S.meta.set("originalOperationId",V),a.push(S),$.append(d))}},LinkElement:{leave(S){s.isLinkElement(S)&&(typeof S.operationId>"u"||h.push(S))}}}}},fv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Yt(n,t,"parameter-examples")},leave(){i=void 0}},ParameterElement:{leave(n,o,a,h,$){var S,g;if($.some(r.isComponentsElement)||typeof n.schema>"u"||!r.isSchemaElement(n.schema)||typeof((S=n.schema)===null||S===void 0?void 0:S.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const O=s([...$,a,n]);if(!i.includes(O)){if(typeof n.examples<"u"&&r.isObjectElement(n.examples)){const P=n.examples.map(R=>w.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(O));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[w(n.example)]),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",w(n.example)),i.append(O)))}}}}}},vv=({storageField:t="x-normalized"}={})=>e=>{const{predicates:r,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Yt(n,t,"header-examples")},leave(){i=void 0}},HeaderElement:{leave(n,o,a,h,$){var S,g;if($.some(r.isComponentsElement)||typeof n.schema>"u"||!r.isSchemaElement(n.schema)||typeof((S=n.schema)===null||S===void 0?void 0:S.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const O=s([...$,a,n]);if(!i.includes(O)){if(typeof n.examples<"u"&&r.isObjectElement(n.examples)){const P=n.examples.map(R=>w.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",P),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",P[0]),i.append(O));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[w(n.example)]),i.append(O)),typeof n.schema.example<"u"&&(n.schema.set("example",w(n.example)),i.append(O)))}}}}}},Vd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof br||t(s)&&e("callback",s)&&r("object",s)),Rd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof yr||t(s)&&e("components",s)&&r("object",s)),Fd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof xr||t(s)&&e("contact",s)&&r("object",s)),Ad=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Sr||t(s)&&e("example",s)&&r("object",s)),Id=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof jr||t(s)&&e("externalDocumentation",s)&&r("object",s)),Md=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof $r||t(s)&&e("header",s)&&r("object",s)),Nd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Or||t(s)&&e("info",s)&&r("object",s)),Do=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ce||t(s)&&e("jsonSchemaDialect",s)&&r("string",s)),kd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Er||t(s)&&e("license",s)&&r("object",s)),Dd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof wr||t(s)&&e("link",s)&&r("object",s)),Cd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof tn||t(s)&&e("openapi",s)&&r("string",s)),Co=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r,hasClass:s})=>i=>i instanceof Vr||t(i)&&e("openApi3_1",i)&&r("object",i)&&s("api",i)),To=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ht||t(s)&&e("operation",s)&&r("object",s)),Td=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Rr||t(s)&&e("parameter",s)&&r("object",s)),mt=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ge||t(s)&&e("pathItem",s)&&r("object",s)),Jd=t=>{if(!mt(t)||!I(t.$ref))return!1;const e=v(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Ld=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Fr||t(s)&&e("paths",s)&&r("object",s)),rt=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Le||t(s)&&e("reference",s)&&r("object",s)),qd=t=>{if(!rt(t)||!I(t.$ref))return!1;const e=v(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Bd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ar||t(s)&&e("requestBody",s)&&r("object",s)),Ud=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Ir||t(s)&&e("response",s)&&r("object",s)),Hd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Mr||t(s)&&e("responses",s)&&r("object",s)),pt=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof st||t(s)&&e("schema",s)&&r("object",s)),Jo=t=>gt(t)&&t.classes.includes("boolean-json-schema"),zd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof kr||t(s)&&e("securityRequirement",s)&&r("object",s)),Wd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Dr||t(s)&&e("securityScheme",s)&&r("object",s)),Xd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Cr||t(s)&&e("server",s)&&r("object",s)),Kd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Tr||t(s)&&e("serverVariable",s)&&r("object",s)),Gd=b(({hasBasicElementProps:t,isElementType:e,primitiveEq:r})=>s=>s instanceof Pr||t(s)&&e("mediaType",s)&&r("object",s)),Zd=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Jo,isCallbackElement:Vd,isComponentsElement:Rd,isContactElement:Fd,isExampleElement:Ad,isExternalDocumentationElement:Id,isHeaderElement:Md,isInfoElement:Nd,isJsonSchemaDialectElement:Do,isLicenseElement:kd,isLinkElement:Dd,isMediaTypeElement:Gd,isOpenApi3_1Element:Co,isOpenapiElement:Cd,isOperationElement:To,isParameterElement:Td,isPathItemElement:mt,isPathItemElementExternal:Jd,isPathsElement:Ld,isReferenceElement:rt,isReferenceElementExternal:qd,isRequestBodyElement:Bd,isResponseElement:Ud,isResponsesElement:Hd,isSchemaElement:pt,isSecurityRequirementElement:zd,isSecuritySchemeElement:Wd,isServerElement:Xd,isServerVariableElement:Kd},Symbol.toStringTag,{value:"Module"})),Qd=t=>{const e=t.reduce((r,s,i)=>{if(we(s)){const n=String(v(s.key));r.push(n)}else if(me(t[i-2])){const n=String(t[i-2].content.indexOf(s));r.push(n)}return r},[]);return va(e)},Yd=()=>{const t=Ie(ko);return{predicates:{...Zd,isElement:Q,isStringElement:I,isArrayElement:me,isObjectElement:H,isMemberElement:we,isServersElement:fo,includesClasses:qi,hasElementSourceMap:bt},ancestorLineageToJSONPointer:Qd,namespace:t}};class _d extends m(M,x){constructor(e){super(e),this.element=new Vr,this.specPath=F(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,M.prototype.ObjectElement.call(this,e)}}const eh=c.visitors.document.objects.Info.$visitor;class th extends eh{constructor(e){super(e),this.element=new Or}}const sh=c.visitors.document.objects.Contact.$visitor;class rh extends sh{constructor(e){super(e),this.element=new xr}}const ih=c.visitors.document.objects.License.$visitor;class nh extends ih{constructor(e){super(e),this.element=new Er}}const oh=c.visitors.document.objects.Link.$visitor;class ch extends oh{constructor(e){super(e),this.element=new wr}}class ah extends m(ve,x){StringElement(e){const r=new Ce(v(e));return this.copyMetaAndAttributes(e,r),this.element=r,D}}const lh=c.visitors.document.objects.Server.$visitor;class uh extends lh{constructor(e){super(e),this.element=new Cr}}const dh=c.visitors.document.objects.ServerVariable.$visitor;class hh extends dh{constructor(e){super(e),this.element=new Tr}}const mh=c.visitors.document.objects.MediaType.$visitor;class ph extends mh{constructor(e){super(e),this.element=new Pr}}const fh=c.visitors.document.objects.SecurityRequirement.$visitor;class vh extends fh{constructor(e){super(e),this.element=new kr}}const gh=c.visitors.document.objects.Components.$visitor;class bh extends gh{constructor(e){super(e),this.element=new yr}}const yh=c.visitors.document.objects.Tag.$visitor;class xh extends yh{constructor(e){super(e),this.element=new sn}}const Sh=c.visitors.document.objects.Reference.$visitor;class jh extends Sh{constructor(e){super(e),this.element=new Le}}const $h=c.visitors.document.objects.Parameter.$visitor;class Oh extends $h{constructor(e){super(e),this.element=new Rr}}const Eh=c.visitors.document.objects.Header.$visitor;class wh extends Eh{constructor(e){super(e),this.element=new $r}}class Ph extends m(M,K,x){constructor(e){super(e),this.element=new st,this.specPath=F(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=Ce.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handleDialectIdentifier(e),this.handleSchemaIdentifier(e),this.parent=this.element;const r=M.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),r}BooleanElement(e){return Z.prototype.BooleanElement.call(this,e)}get defaultDialectIdentifier(){let e;return this.openApiSemanticElement!==void 0&&Do(this.openApiSemanticElement.jsonSchemaDialect)?e=v(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&I(this.openApiGenericElement.get("jsonSchemaDialect"))?e=v(this.openApiGenericElement.get("jsonSchemaDialect")):e=v(this.jsonSchemaDefaultDialect),e}handleDialectIdentifier(e){return Z.prototype.handleDialectIdentifier.call(this,e)}handleSchemaIdentifier(e){return Z.prototype.handleSchemaIdentifier.call(this,e)}}class Vh extends $o{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Rh extends Oo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Fh extends Eo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Ah extends wo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Ih extends Po{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Mh extends Io{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class Nh extends Vo{constructor(e){super(e),this.passingOptionsNames.push("parent")}}class kh extends Ro{constructor(e){super(e),this.passingOptionsNames.push("parent")}}const Dh=c.visitors.document.objects.Discriminator.$visitor;class Ch extends Dh{constructor(e){super(e),this.element=new Qi,this.canSupportSpecificationExtensions=!0}}const Th=c.visitors.document.objects.XML.$visitor;class Jh extends Th{constructor(e){super(e),this.element=new rn}}class Lh extends m(N,x){constructor(e){super(e),this.element=new vs,this.specPath=F(["document","objects","Schema"])}}class qh extends m(N,x){constructor(e){super(e),this.element=new Oi,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),r}}const Bh=c.visitors.document.objects.Example.$visitor;class Uh extends Bh{constructor(e){super(e),this.element=new Sr}}const Hh=c.visitors.document.objects.ExternalDocumentation.$visitor;class zh extends Hh{constructor(e){super(e),this.element=new jr}}const Wh=c.visitors.document.objects.Encoding.$visitor;class Xh extends Wh{constructor(e){super(e),this.element=new Yi}}const Kh=c.visitors.document.objects.Paths.$visitor;class Gh extends Kh{constructor(e){super(e),this.element=new Fr}}const Zh=c.visitors.document.objects.RequestBody.$visitor;class Qh extends Zh{constructor(e){super(e),this.element=new Ar}}const vn=c.visitors.document.objects.Callback.$visitor;class Yh extends vn{constructor(e){super(e),this.element=new br,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=vn.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),r}}const _h=c.visitors.document.objects.Response.$visitor;class em extends _h{constructor(e){super(e),this.element=new Ir}}const tm=c.visitors.document.objects.Responses.$visitor;class sm extends tm{constructor(e){super(e),this.element=new Mr}}const rm=c.visitors.document.objects.Operation.$visitor;class im extends rm{constructor(e){super(e),this.element=new Ht}}const nm=c.visitors.document.objects.PathItem.$visitor;class om extends nm{constructor(e){super(e),this.element=new Ge}}const cm=c.visitors.document.objects.SecurityScheme.$visitor;class am extends cm{constructor(e){super(e),this.element=new Dr}}const lm=c.visitors.document.objects.OAuthFlows.$visitor;class um extends lm{constructor(e){super(e),this.element=new en}}const dm=c.visitors.document.objects.OAuthFlow.$visitor;class hm extends dm{constructor(e){super(e),this.element=new _i}}class mm extends m(N,x){constructor(e){super(e),this.element=new Ei,this.specPath=r=>z(r)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const r=N.prototype.ObjectElement.call(this,e);return this.element.filter(rt).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),this.element.filter(mt).forEach((s,i)=>{s.setMetaProperty("webhook-name",v(i))}),r}}const{JSONSchema:pm,LinkDescription:fm}=Mo.visitors.document.objects,vm={visitors:{value:c.visitors.value,document:{objects:{OpenApi:{$visitor:_d,fixedFields:{openapi:c.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:ah,servers:c.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:mm,components:{$ref:"#/visitors/document/objects/Components"},security:c.visitors.document.objects.OpenApi.fixedFields.security,tags:c.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:th,fixedFields:{title:c.visitors.document.objects.Info.fixedFields.title,description:c.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:c.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:c.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:rh,fixedFields:{name:c.visitors.document.objects.Contact.fixedFields.name,url:c.visitors.document.objects.Contact.fixedFields.url,email:c.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:nh,fixedFields:{name:c.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:c.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:uh,fixedFields:{url:c.visitors.document.objects.Server.fixedFields.url,description:c.visitors.document.objects.Server.fixedFields.description,variables:c.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:hh,fixedFields:{enum:c.visitors.document.objects.ServerVariable.fixedFields.enum,default:c.visitors.document.objects.ServerVariable.fixedFields.default,description:c.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:bh,fixedFields:{schemas:Lh,responses:c.visitors.document.objects.Components.fixedFields.responses,parameters:c.visitors.document.objects.Components.fixedFields.parameters,examples:c.visitors.document.objects.Components.fixedFields.examples,requestBodies:c.visitors.document.objects.Components.fixedFields.requestBodies,headers:c.visitors.document.objects.Components.fixedFields.headers,securitySchemes:c.visitors.document.objects.Components.fixedFields.securitySchemes,links:c.visitors.document.objects.Components.fixedFields.links,callbacks:c.visitors.document.objects.Components.fixedFields.callbacks,pathItems:qh}},Paths:{$visitor:Gh},PathItem:{$visitor:om,fixedFields:{$ref:c.visitors.document.objects.PathItem.fixedFields.$ref,summary:c.visitors.document.objects.PathItem.fixedFields.summary,description:c.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:c.visitors.document.objects.PathItem.fixedFields.servers,parameters:c.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:im,fixedFields:{tags:c.visitors.document.objects.Operation.fixedFields.tags,summary:c.visitors.document.objects.Operation.fixedFields.summary,description:c.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:c.visitors.document.objects.Operation.fixedFields.operationId,parameters:c.visitors.document.objects.Operation.fixedFields.parameters,requestBody:c.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:c.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:c.visitors.document.objects.Operation.fixedFields.deprecated,security:c.visitors.document.objects.Operation.fixedFields.security,servers:c.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:zh,fixedFields:{description:c.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:c.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:Oh,fixedFields:{name:c.visitors.document.objects.Parameter.fixedFields.name,in:c.visitors.document.objects.Parameter.fixedFields.in,description:c.visitors.document.objects.Parameter.fixedFields.description,required:c.visitors.document.objects.Parameter.fixedFields.required,deprecated:c.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Parameter.fixedFields.style,explode:c.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:c.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Parameter.fixedFields.example,examples:c.visitors.document.objects.Parameter.fixedFields.examples,content:c.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:Qh,fixedFields:{description:c.visitors.document.objects.RequestBody.fixedFields.description,content:c.visitors.document.objects.RequestBody.fixedFields.content,required:c.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:ph,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.MediaType.fixedFields.example,examples:c.visitors.document.objects.MediaType.fixedFields.examples,encoding:c.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:Xh,fixedFields:{contentType:c.visitors.document.objects.Encoding.fixedFields.contentType,headers:c.visitors.document.objects.Encoding.fixedFields.headers,style:c.visitors.document.objects.Encoding.fixedFields.style,explode:c.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:c.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:sm,fixedFields:{default:c.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:em,fixedFields:{description:c.visitors.document.objects.Response.fixedFields.description,headers:c.visitors.document.objects.Response.fixedFields.headers,content:c.visitors.document.objects.Response.fixedFields.content,links:c.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:Yh},Example:{$visitor:Uh,fixedFields:{summary:c.visitors.document.objects.Example.fixedFields.summary,description:c.visitors.document.objects.Example.fixedFields.description,value:c.visitors.document.objects.Example.fixedFields.value,externalValue:c.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:ch,fixedFields:{operationRef:c.visitors.document.objects.Link.fixedFields.operationRef,operationId:c.visitors.document.objects.Link.fixedFields.operationId,parameters:c.visitors.document.objects.Link.fixedFields.parameters,requestBody:c.visitors.document.objects.Link.fixedFields.requestBody,description:c.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:wh,fixedFields:{description:c.visitors.document.objects.Header.fixedFields.description,required:c.visitors.document.objects.Header.fixedFields.required,deprecated:c.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Header.fixedFields.style,explode:c.visitors.document.objects.Header.fixedFields.explode,allowReserved:c.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Header.fixedFields.example,examples:c.visitors.document.objects.Header.fixedFields.examples,content:c.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:xh,fixedFields:{name:c.visitors.document.objects.Tag.fixedFields.name,description:c.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:jh,fixedFields:{$ref:c.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},LinkDescription:{...fm},Schema:{$visitor:Ph,fixedFields:{...pm.fixedFields,$defs:Vh,allOf:Rh,anyOf:Fh,oneOf:Ah,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:Ih,prefixItems:Mh,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:Nh,patternProperties:kh,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Ch,fixedFields:{propertyName:c.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:c.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:Jh,fixedFields:{name:c.visitors.document.objects.XML.fixedFields.name,namespace:c.visitors.document.objects.XML.fixedFields.namespace,prefix:c.visitors.document.objects.XML.fixedFields.prefix,attribute:c.visitors.document.objects.XML.fixedFields.attribute,wrapped:c.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:am,fixedFields:{type:c.visitors.document.objects.SecurityScheme.fixedFields.type,description:c.visitors.document.objects.SecurityScheme.fixedFields.description,name:c.visitors.document.objects.SecurityScheme.fixedFields.name,in:c.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:c.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:c.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:c.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:um,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:hm,fixedFields:{authorizationUrl:c.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:c.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:c.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:c.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:vh}},extension:{$visitor:c.visitors.document.extension.$visitor}}}},gm=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=Je(t),i=Me(vm),n=ce(e,i),o=new n({specObj:i});return _(s,o),Pe(o.element,r,{toolboxCreator:Yd,visitorOptions:{keyMap:at,nodeTypeGetter:ct}})},T=t=>(e,r={})=>gm(e,{specPath:t,...r});br.refract=T(["visitors","document","objects","Callback","$visitor"]);yr.refract=T(["visitors","document","objects","Components","$visitor"]);xr.refract=T(["visitors","document","objects","Contact","$visitor"]);Sr.refract=T(["visitors","document","objects","Example","$visitor"]);Qi.refract=T(["visitors","document","objects","Discriminator","$visitor"]);Yi.refract=T(["visitors","document","objects","Encoding","$visitor"]);jr.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);$r.refract=T(["visitors","document","objects","Header","$visitor"]);Or.refract=T(["visitors","document","objects","Info","$visitor"]);Ce.refract=T(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);Er.refract=T(["visitors","document","objects","License","$visitor"]);wr.refract=T(["visitors","document","objects","Link","$visitor"]);Pr.refract=T(["visitors","document","objects","MediaType","$visitor"]);_i.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);en.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);tn.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);Vr.refract=T(["visitors","document","objects","OpenApi","$visitor"]);Ht.refract=T(["visitors","document","objects","Operation","$visitor"]);Rr.refract=T(["visitors","document","objects","Parameter","$visitor"]);Ge.refract=T(["visitors","document","objects","PathItem","$visitor"]);Fr.refract=T(["visitors","document","objects","Paths","$visitor"]);Le.refract=T(["visitors","document","objects","Reference","$visitor"]);Ar.refract=T(["visitors","document","objects","RequestBody","$visitor"]);Ir.refract=T(["visitors","document","objects","Response","$visitor"]);Mr.refract=T(["visitors","document","objects","Responses","$visitor"]);st.refract=T(["visitors","document","objects","Schema","$visitor"]);kr.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);Dr.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);Cr.refract=T(["visitors","document","objects","Server","$visitor"]);Tr.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);sn.refract=T(["visitors","document","objects","Tag","$visitor"]);rn.refract=T(["visitors","document","objects","XML","$visitor"]);class gv extends ta{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const r=unescape(encodeURIComponent(e.toString())),s=btoa(r),i=new Xe;if(s.length!==0){const n=new Se(s);n.classes.push("result"),i.push(n)}return i}catch(r){throw new la(`Error parsing "${e.uri}"`,{cause:r})}}}class bv extends ra{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,r){const s=r.dereference.strategies.find(i=>i.name==="openapi-3-1");return s===void 0?!1:s.canDereference(e,r)}async resolve(e,r){const s=r.dereference.strategies.find(o=>o.name==="openapi-3-1");if(s===void 0)throw new so('"openapi-3-1" dereference strategy is not available.');const i=new Wr,n=Nn(r,{resolve:{internal:!1},dereference:{refSet:i}});return await s.dereference(e,n),i}}const nn=t=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(t),ys=t=>{const e=Mn(t);return Vi("#",e)},bm=t=>{if(!nn(t))throw new ca(t);return t},Lo=(t,e)=>{const r=bm(t),s=Yn(i=>pt(i)&&v(i.$anchor)===r,e);if(Te(s))throw new na(`Evaluation failed on token: "${r}"`);return s},ym=(t,e)=>{if(typeof e.$ref>"u")return;const r=Mn(v(e.$ref)),s=v(e.meta.get("ancestorsSchemaIdentifiers"));return`${Rn((n,o)=>it(n,ir(Y(o))),t,[...s,v(e.$ref)])}${r==="#"?"":r}`},xm=(t,e)=>{if(typeof e.$id>"u")return;const r=v(e.meta.get("ancestorsSchemaIdentifiers"));return Rn((s,i)=>it(s,ir(Y(i))),t,[...r,v(e.$id)])},lt=t=>{if(lt.cache.has(t))return lt.cache.get(t);const e=st.refract(t);return lt.cache.set(t,e),e};lt.cache=new WeakMap;const Ve=t=>nt(t)?lt(t):t,on=(t,e)=>{const{cache:r}=on,s=Y(t),i=h=>pt(h)&&typeof h.$id<"u";if(!r.has(e)){const h=qc(i,e);r.set(e,Array.from(h))}const n=r.get(e).find(h=>xm(s,h)===s);if(Te(n))throw new io(`Evaluation failed on URI: "${t}"`);let o,a;return nn(ys(t))?(o=Lo,a=ys(t)):(o=He,a=Ue(t)),o(a,n)};on.cache=new WeakMap;const Br=_[Symbol.for("nodejs.util.promisify.custom")],te=new Qn,ge=(t,e,r,s)=>{we(s)?s.value=t:Array.isArray(s)&&(s[r]=t)};class ut{constructor({reference:e,namespace:r,options:s,indirections:i=[],ancestors:n=new Lr,refractCache:o=new Map}){l(this,"indirections");l(this,"namespace");l(this,"reference");l(this,"options");l(this,"ancestors");l(this,"refractCache");this.indirections=i,this.namespace=r,this.reference=e,this.options=s,this.ancestors=new Lr(...n),this.refractCache=o}toBaseURI(e){return it(this.reference.uri,ir(Y(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new aa(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const r=this.toBaseURI(e),{refSet:s}=this.reference;if(s.has(r))return s.find(Fn(r,"uri"));const i=await $c(qe(r),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new ot({uri:r,value:w(i),depth:this.reference.depth+1});if(s.add(n),this.options.dereference.immutable){const o=new ot({uri:`immutable://${r}`,value:i,depth:this.reference.depth+1});s.add(o)}return n}toAncestorLineage(e){const r=new Set(e.filter(Q));return[new Lr(...this.ancestors,r),r]}async ReferenceElement(e,r,s,i,n,o){if(this.indirections.includes(e))return!1;const[a,h]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),S=Y(this.reference.uri)===$,g=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&g)return!1;const O=await this.toReference(v(e.$ref)),P=it($,v(e.$ref));this.indirections.push(e);const R=Ue(P);let d=He(R,O.value.result);if(d.id=te.identify(d),nt(d)){const U=v(e.meta.get("referenced-element")),X=`${U}-${v(te.identify(d))}`;this.refractCache.has(X)?d=this.refractCache.get(X):z(d)?(d=Le.refract(d),d.setMetaProperty("referenced-element",U),this.refractCache.set(X,d)):(d=this.namespace.getElementClass(U).refract(d),this.refractCache.set(X,d))}if(e===d)throw new ie("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new qr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(d)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new ie("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,j;const U=new ze(d.id,{type:"reference",uri:O.uri,$ref:v(e.$ref)}),A=((V=(j=this.options.dereference.strategyOpts["openapi-3-1"])===null||j===void 0?void 0:j.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)(U);return o.replaceWith(A,ge),s?!1:A}}const u=Y(O.refSet.rootRef.uri)!==O.uri,p=["error","replace"].includes(this.options.dereference.circular);if((g||u||rt(d)||p)&&!a.includesCycle(d)){h.add(e);const U=new ut({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});d=await Br(d,U,{keyMap:at,nodeTypeGetter:ct}),h.delete(e)}this.indirections.pop();const E=ue(d);return E.setMetaProperty("id",te.generateId()),E.setMetaProperty("ref-fields",{$ref:v(e.$ref),description:v(e.description),summary:v(e.summary)}),E.setMetaProperty("ref-origin",O.uri),E.setMetaProperty("ref-referencing-element-id",w(te.identify(e))),H(d)&&H(E)&&(e.hasKey("description")&&"description"in d&&(E.remove("description"),E.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in d&&(E.remove("summary"),E.set("summary",e.get("summary")))),o.replaceWith(E,ge),s?!1:E}async PathItemElement(e,r,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[a,h]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),S=Y(this.reference.uri)===$,g=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&g)return;const O=await this.toReference(v(e.$ref)),P=it($,v(e.$ref));this.indirections.push(e);const R=Ue(P);let d=He(R,O.value.result);if(d.id=te.identify(d),nt(d)){const E=`path-item-${v(te.identify(d))}`;this.refractCache.has(E)?d=this.refractCache.get(E):(d=Ge.refract(d),this.refractCache.set(E,d))}if(e===d)throw new ie("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new qr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(d)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new ie("Circular reference detected");if(this.options.dereference.circular==="replace"){var V,j;const E=new ze(d.id,{type:"path-item",uri:O.uri,$ref:v(e.$ref)}),X=((V=(j=this.options.dereference.strategyOpts["openapi-3-1"])===null||j===void 0?void 0:j.circularReplacer)!==null&&V!==void 0?V:this.options.dereference.circularReplacer)(E);return o.replaceWith(X,ge),s?!1:X}}const u=Y(O.refSet.rootRef.uri)!==O.uri,p=["error","replace"].includes(this.options.dereference.circular);if((g||u||mt(d)&&I(d.$ref)||p)&&!a.includesCycle(d)){h.add(e);const E=new ut({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});d=await Br(d,E,{keyMap:at,nodeTypeGetter:ct}),h.delete(e)}if(this.indirections.pop(),mt(d)){const E=new Ge([...d.content],w(d.meta),w(d.attributes));E.setMetaProperty("id",te.generateId()),e.forEach((U,X,A)=>{E.remove(v(X)),E.content.push(A)}),E.remove("$ref"),E.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),E.setMetaProperty("ref-origin",O.uri),E.setMetaProperty("ref-referencing-element-id",w(te.identify(e))),d=E}return o.replaceWith(d,ge),s?void 0:d}async LinkElement(e,r,s,i,n,o){if(!I(e.operationRef)&&!I(e.operationId))return;if(I(e.operationRef)&&I(e.operationId))throw new ie("LinkElement operationRef and operationId fields are mutually exclusive.");let a;if(I(e.operationRef)){var h;const S=Ue(v(e.operationRef)),g=this.toBaseURI(v(e.operationRef)),O=Y(this.reference.uri)===g,P=!O;if(!this.options.resolve.internal&&O||!this.options.resolve.external&&P)return;const R=await this.toReference(v(e.operationRef));if(a=He(S,R.value.result),nt(a)){const V=`operation-${v(te.identify(a))}`;this.refractCache.has(V)?a=this.refractCache.get(V):(a=Ht.refract(a),this.refractCache.set(V,a))}a=ue(a),a.setMetaProperty("ref-origin",R.uri);const d=ue(e);return(h=d.operationRef)===null||h===void 0||h.meta.set("operation",a),o.replaceWith(d,ge),s?void 0:d}if(I(e.operationId)){var $;const S=v(e.operationId),g=await this.toReference(qe(this.reference.uri));if(a=Yn(P=>To(P)&&Q(P.operationId)&&P.operationId.equals(S),g.value.result),Te(a))throw new ie(`OperationElement(operationId=${S}) not found.`);const O=ue(e);return($=O.operationId)===null||$===void 0||$.meta.set("operation",a),o.replaceWith(O,ge),s?void 0:O}}async ExampleElement(e,r,s,i,n,o){if(!I(e.externalValue))return;if(e.hasKey("value")&&I(e.externalValue))throw new ie("ExampleElement value and externalValue fields are mutually exclusive.");const a=this.toBaseURI(v(e.externalValue)),h=Y(this.reference.uri)===a,$=!h;if(!this.options.resolve.internal&&h||!this.options.resolve.external&&$)return;const S=await this.toReference(v(e.externalValue)),g=ue(S.value.result);g.setMetaProperty("ref-origin",S.uri);const O=ue(e);return O.value=g,o.replaceWith(O,ge),s?void 0:O}async SchemaElement(e,r,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[a,h]=this.toAncestorLineage([...n,s]);let $=await this.toReference(qe(this.reference.uri)),{uri:S}=$;const g=ym(S,e),O=Y(g),P=new ls({uri:O}),R=oc(A=>A.canRead(P),this.options.resolve.resolvers),d=!R;let V=Y(this.reference.uri)===g,j=!V;this.indirections.push(e);let u;try{if(R||d){S=this.toBaseURI(g);const A=g,B=Ve($.value.result);if(u=on(A,B),u=Ve(u),u.id=te.identify(u),!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return}else{if(S=this.toBaseURI(g),V=Y(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;$=await this.toReference(qe(g));const A=Ue(g),B=Ve($.value.result);u=He(A,B),u=Ve(u),u.id=te.identify(u)}}catch(A){if(d&&A instanceof io)if(nn(ys(g))){if(V=Y(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;$=await this.toReference(qe(g));const B=ys(g),W=Ve($.value.result);u=Lo(B,W),u=Ve(u),u.id=te.identify(u)}else{if(S=this.toBaseURI(g),V=Y(this.reference.uri)===S,j=!V,!this.options.resolve.internal&&V||!this.options.resolve.external&&j)return;$=await this.toReference(qe(g));const B=Ue(g),W=Ve($.value.result);u=He(B,W),u=Ve(u),u.id=te.identify(u)}else throw A}if(e===u)throw new ie("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new qr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(u)){if($.refSet.circular=!0,this.options.dereference.circular==="error")throw new ie("Circular reference detected");if(this.options.dereference.circular==="replace"){var p,E;const A=new ze(u.id,{type:"json-schema",uri:$.uri,$ref:v(e.$ref)}),W=((p=(E=this.options.dereference.strategyOpts["openapi-3-1"])===null||E===void 0?void 0:E.circularReplacer)!==null&&p!==void 0?p:this.options.dereference.circularReplacer)(A);return o.replaceWith(W,ge),s?!1:W}}const U=Y($.refSet.rootRef.uri)!==$.uri,X=["error","replace"].includes(this.options.dereference.circular);if((j||U||pt(u)&&I(u.$ref)||X)&&!a.includesCycle(u)){h.add(e);const A=new ut({reference:$,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});u=await Br(u,A,{keyMap:at,nodeTypeGetter:ct}),h.delete(e)}if(this.indirections.pop(),Jo(u)){const A=w(u);return A.setMetaProperty("id",te.generateId()),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",w(te.identify(e))),o.replaceWith(A,ge),s?!1:A}if(pt(u)){const A=new st([...u.content],w(u.meta),w(u.attributes));A.setMetaProperty("id",te.generateId()),e.forEach((B,W,de)=>{A.remove(v(W)),A.content.push(de)}),A.remove("$ref"),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",w(te.identify(e))),u=A}return o.replaceWith(u,ge),s?void 0:u}}const Sm=_[Symbol.for("nodejs.util.promisify.custom")];class yv extends ia{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var r;return e.mediaType!=="text/plain"?ba.includes(e.mediaType):Co((r=e.parseResult)===null||r===void 0?void 0:r.result)}async dereference(e,r){var s;const i=Ie(ko),n=(s=r.dereference.refSet)!==null&&s!==void 0?s:new Wr,o=new Wr;let a=n,h;n.has(e.uri)?h=n.find(Fn(e.uri,"uri")):(h=new ot({uri:e.uri,value:e.parseResult}),n.add(h)),r.dereference.immutable&&(n.refs.map(g=>new ot({...g,value:w(g.value)})).forEach(g=>o.add(g)),h=o.find(g=>g.uri===e.uri),a=o);const $=new ut({reference:h,namespace:i,options:r}),S=await Sm(a.rootRef.value,$,{keyMap:at,nodeTypeGetter:ct});return r.dereference.immutable&&o.refs.filter(g=>g.uri.startsWith("immutable://")).map(g=>new ot({...g,uri:g.uri.replace(/^immutable:\/\//,"")})).forEach(g=>n.add(g)),r.dereference.refSet===null&&n.clean(),o.clean(),S}}export{ot as $,Ae as A,w as B,I as C,qi as D,Ge as E,mt as F,qe as G,Mm as H,Qn as I,ym as J,ls as K,Ve as L,qr as M,on as N,ga as O,ta as P,io as Q,xc as R,nn as S,ys as T,Lo as U,Jo as V,st as W,Ui as X,yv as Y,Ie as Z,Wr as _,la as a,ko as a0,fc as a1,va as a2,km as a3,bv as a4,gv as a5,vc as a6,Am as a7,cn as a8,es as a9,Pe as aa,Yd as ab,pv as ac,hv as ad,mv as ae,fv as af,vv as ag,Q as ah,Xe as b,Vr as c,we as d,me as e,Im as f,H as g,pt as h,mc as i,$e as j,ut as k,Y as l,ba as m,He as n,nt as o,z as p,Le as q,it as r,v as s,ie as t,Ue as u,_ as v,rt as w,at as x,ct as y,ue as z};
