var eo=Object.defineProperty;var to=(s,e,t)=>e in s?eo(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var l=(s,e,t)=>to(s,typeof e!="symbol"?e+"":e,t);import{i as _i,t as so,a as we,r as ro,b as rt,c as en,d as Ye,e as tn,f as Tt,g as di,h as io,j as sn,k as hi,s as rn,l as nn}from"./ramda-adjunct-BCvQVQox.js";import{p as it,l as Ds,a as pi,t as no,b as Dt,c as oo,i as co,d as ao,e as oe,f as lo,m as mi,o as uo,g as fi,h as on,F as vi,j as cn,T as fe,k as qt,n as ho,q as an,r as po,s as Lt,u as ln,v as mo,w as fo,x as vo,y as un,z as P,A as dn,B as go,C as yo,D as xo,E as bo,G as hn,H as pn,I as $o}from"./ramda-CZwGUr0O.js";import{S as he,A as D,E as jo,N as Rr,a as Vr,B as pe,O as y,M as nt,L as Ar,R as Me,b as Eo,K as Ie,c as Nt,d as _e,r as gi}from"./minim-DmaY3VYh.js";import{p as Bt}from"./process-CrMzx0dS.js";import{a as So}from"./@babel-Bdh_LiN5.js";import{M as m}from"./ts-mixer-DR1IXZCf.js";import{S as Oo}from"./short-unique-id-DKs7zMO4.js";class wo extends So{constructor(e,t,r){if(super(e,t,r),this.name=this.constructor.name,typeof t=="string"&&(this.message=t),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,r!=null&&typeof r=="object"&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:i}=r;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}class Y extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(wo,e)}constructor(e,t){if(super(e,t),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,t!=null&&typeof t=="object"&&Object.hasOwn(t,"cause")&&!("cause"in this)){const{cause:r}=t;this.cause=r,r instanceof Error&&"stack"in r&&(this.stack=`${this.stack}
CAUSE: ${r.stack}`)}}}class $e extends Y{constructor(e,t){if(super(e,t),t!=null&&typeof t=="object"){const{cause:r,...i}=t;Object.assign(this,i)}}}class Q extends Y{}class Sr extends Q{}const yi=()=>pi(no(/^win/),["platform"],Bt),xi=s=>{try{const e=new URL(s);return so(":",e.protocol)}catch{return}};it(xi,_i);const Po=s=>{const e=s.lastIndexOf(".");return e>=0?s.substring(e).toLowerCase():""},mn=s=>{if(Bt.browser)return!1;const e=xi(s);return we(e)||e==="file"||/^[a-zA-Z]$/.test(e)},Ro=s=>{const e=xi(s);return e==="http"||e==="https"},fn=(s,e)=>{const t=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],r=Dt(!1,"keepFileProtocol",e),i=Dt(yi,"isWindows",e);let n=decodeURI(s);for(let a=0;a<t.length;a+=2)n=n.replace(t[a],t[a+1]);let o=n.substring(0,7).toLowerCase()==="file://";return o&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),r?n=`file:///${n}`:(o=!1,n=i()?n:`/${n}`)),i()&&!o&&(n=ro("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},Vo=s=>{const e=[/\?/g,"%3F",/#/g,"%23"];let t=s;yi()&&(t=t.replace(/\\/g,"/")),t=encodeURI(t);for(let r=0;r<e.length;r+=2)t=t.replace(e[r],e[r+1]);return t},vn=s=>{const e=s.indexOf("#");return e!==-1?s.substring(e):"#"},K=s=>{const e=s.indexOf("#");let t=s;return e>=0&&(t=s.substring(0,e)),t},Ao=()=>{if(Bt.browser)return K(globalThis.location.href);const s=Bt.cwd(),e=Ds(s);return["/","\\"].includes(e)?s:s+(yi()?"\\":"/")},We=(s,e)=>{const t=new URL(e,new URL(s,"resolve://"));if(t.protocol==="resolve:"){const{pathname:r,search:i,hash:n}=t;return r+i+n}return t.toString()},qs=s=>{if(mn(s))return Vo(fn(s));try{return new URL(s).toString()}catch{return encodeURI(decodeURI(s)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},Re=s=>mn(s)?fn(s):decodeURI(s);class Ut{constructor({uri:e,mediaType:t="text/plain",data:r,parseResult:i}){l(this,"uri");l(this,"mediaType");l(this,"data");l(this,"parseResult");this.uri=e,this.mediaType=t,this.data=r,this.parseResult=i}get extension(){return rt(this.uri)?Po(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(oo(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class Fr{constructor({refs:e=[],circular:t=!1}={}){l(this,"rootRef");l(this,"refs");l(this,"circular");this.refs=[],this.circular=t,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const t of e.values())this.add(t);return this}has(e){const t=rt(e)?e:e.uri;return _i(this.find(r=>r.uri===t))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const Fo={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:co,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},Mo=ao(oe(["resolve","baseURI"]),lo(["resolve","baseURI"])),Io=s=>en(s)?Ao():s,gn=(s,e)=>{const t=mi(s,e);return uo(Mo,Io,t)};class Co extends Y{constructor(t,r){super(t,{cause:r.cause});l(this,"plugin");this.plugin=r.plugin}}const bi=async(s,e,t)=>{const r=await Promise.all(t.map(Ye([s],e)));return t.filter((i,n)=>r[n])},$i=async(s,e,t)=>{let r;for(const i of t)try{const n=await i[s].call(i,...e);return{plugin:i,result:n}}catch(n){r=new Co("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(r)};class Mr extends Y{}class ji extends Y{}class ko extends ji{}class yn extends ko{}const To=async(s,e)=>{const t=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),r=await bi("canRead",[s,e],t);if(fi(r))throw new yn(s.uri);try{const{result:i}=await $i("read",[s],r);return i}catch(i){throw new ji(`Error while reading file "${s.uri}"`,{cause:i})}},Do=async(s,e)=>{const t=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),r=await bi("canParse",[s,e],t);if(fi(r))throw new yn(s.uri);try{const{plugin:i,result:n}=await $i("parse",[s,e],r);return!i.allowEmpty&&n.isEmpty?Promise.reject(new Mr(`Error while parsing file "${s.uri}". File is empty.`)):n}catch(i){throw new Mr(`Error while parsing file "${s.uri}"`,{cause:i})}},qo=async(s,e)=>{const t=new Ut({uri:qs(K(s)),mediaType:e.parse.mediaType}),r=await To(t,e);return Do(new Ut({...t,data:r}),e)};class Jt extends he{constructor(e,t,r){super(e,t,r),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class Ht extends he{constructor(e,t,r){super(e,t,r),this.element="comment"}}class Ce extends D{constructor(e,t,r){super(e,t,r),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:t}=this;if(we(t))return!1;const r=this.content.findIndex(i=>i===t);return r===-1?!1:(this.content[r]=e,!0)}}class Wt extends D{constructor(e,t,r){super(e,t,r),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const t=new D([e.start.row,e.start.column,e.start.char]),r=new D([e.end.row,e.end.column,e.end.char]);t.classes.push("position"),r.classes.push("position"),this.push(t).push(r)}}const Lo=(s,e)=>typeof e=="object"&&e!==null&&s in e&&typeof e[s]=="function",No=s=>typeof s=="object"&&s!=null&&"_storedElement"in s&&typeof s._storedElement=="string"&&"_content"in s,Bo=(s,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===s:!1,Uo=(s,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof D)&&e.classes.includes(s),be=(s,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===s,b=s=>s({hasMethod:Lo,hasBasicElementProps:No,primitiveEq:Bo,isElementType:be,hasClass:Uo}),X=b(({hasBasicElementProps:s,primitiveEq:e})=>t=>t instanceof jo||s(t)&&e(void 0,t)),I=b(({hasBasicElementProps:s,primitiveEq:e})=>t=>t instanceof he||s(t)&&e("string",t)),Ei=b(({hasBasicElementProps:s,primitiveEq:e})=>t=>t instanceof Rr||s(t)&&e("number",t)),Si=b(({hasBasicElementProps:s,primitiveEq:e})=>t=>t instanceof Vr||s(t)&&e("null",t)),ot=b(({hasBasicElementProps:s,primitiveEq:e})=>t=>t instanceof pe||s(t)&&e("boolean",t)),q=b(({hasBasicElementProps:s,primitiveEq:e,hasMethod:t})=>r=>r instanceof y||s(r)&&e("object",r)&&t("keys",r)&&t("values",r)&&t("items",r)),ae=b(({hasBasicElementProps:s,primitiveEq:e,hasMethod:t})=>r=>r instanceof D&&!(r instanceof y)||s(r)&&e("array",r)&&t("push",r)&&t("unshift",r)&&t("map",r)&&t("reduce",r)),je=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof nt||s(r)&&e("member",r)&&t(void 0,r)),xn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ar||s(r)&&e("link",r)&&t(void 0,r)),bn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Me||s(r)&&e("ref",r)&&t(void 0,r)),Jo=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Jt||s(r)&&e("annotation",r)&&t("array",r)),Ho=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ht||s(r)&&e("comment",r)&&t("string",r)),$n=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ce||s(r)&&e("parseResult",r)&&t("array",r)),jn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Wt||s(r)&&e("sourceMap",r)&&t("array",r)),ze=s=>be("object",s)||be("array",s)||be("boolean",s)||be("number",s)||be("string",s)||be("null",s)||be("member",s),ct=s=>jn(s.meta.get("sourceMap")),Wo=(s,e)=>{if(s.length===0)return!0;const t=e.attributes.get("symbols");return ae(t)?on(tn(t.toValue()),s):!1},Oi=(s,e)=>s.length===0?!0:on(tn(e.classes.toValue()),s),zo=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:ct,includesClasses:Oi,includesSymbols:Wo,isAnnotationElement:Jo,isArrayElement:ae,isBooleanElement:ot,isCommentElement:Ho,isElement:X,isLinkElement:xn,isMemberElement:je,isNullElement:Si,isNumberElement:Ei,isObjectElement:q,isParseResultElement:$n,isPrimitiveElement:ze,isRefElement:bn,isSourceMapElement:jn,isStringElement:I},Symbol.toStringTag,{value:"Module"}));class En extends Eo{constructor(){super(),this.register("annotation",Jt),this.register("comment",Ht),this.register("parseResult",Ce),this.register("sourceMap",Wt)}}const Sn=new En,Ls=s=>{const e=new En;return Tt(s)&&e.use(s),e},On=()=>({predicates:{...zo},namespace:Sn}),Ns=(s,e,t)=>{const r=s[e];if(r!=null){if(!t&&typeof r=="function")return r;const i=t?r.leave:r.enter;if(typeof i=="function")return i}else{const i=t?s.leave:s.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},C={},at=s=>s==null?void 0:s.type,wn=s=>typeof at(s)=="string",wi=s=>Object.create(Object.getPrototypeOf(s),Object.getOwnPropertyDescriptors(s)),Pi=(s,{visitFnGetter:e=Ns,nodeTypeGetter:t=at,breakSymbol:r=C,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),u=new Array(s.length).fill(a);return{enter(v,S,j,O,V,M){let h=v,w=!1;const x={...M,replaceWith(d,f){M.replaceWith(d,f),h=d}};for(let d=0;d<s.length;d+=1)if(u[d]===a){const f=e(s[d],t(h),!1);if(typeof f=="function"){const $=f.call(s[d],h,S,j,O,V,x);if(typeof($==null?void 0:$.then)=="function")throw new $e("Async visitor not supported in sync mode",{visitor:s[d],visitFn:f});if($===n)u[d]=h;else if($===r)u[d]=r;else{if($===i)return $;if($!==void 0)if(o)h=$,w=!0;else return $}}}return w?h:void 0},leave(v,S,j,O,V,M){let h=v;const w={...M,replaceWith(x,d){M.replaceWith(x,d),h=x}};for(let x=0;x<s.length;x+=1)if(u[x]===a){const d=e(s[x],t(h),!0);if(typeof d=="function"){const f=d.call(s[x],h,S,j,O,V,w);if(typeof(f==null?void 0:f.then)=="function")throw new $e("Async visitor not supported in sync mode",{visitor:s[x],visitFn:d});if(f===r)u[x]=r;else if(f!==void 0&&f!==n)return f}}else u[x]===h&&(u[x]=a)}}},Xo=(s,{visitFnGetter:e=Ns,nodeTypeGetter:t=at,breakSymbol:r=C,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),u=new Array(s.length).fill(a);return{async enter(v,S,j,O,V,M){let h=v,w=!1;const x={...M,replaceWith(d,f){M.replaceWith(d,f),h=d}};for(let d=0;d<s.length;d+=1)if(u[d]===a){const f=e(s[d],t(h),!1);if(typeof f=="function"){const $=await f.call(s[d],h,S,j,O,V,x);if($===n)u[d]=h;else if($===r)u[d]=r;else{if($===i)return $;if($!==void 0)if(o)h=$,w=!0;else return $}}}return w?h:void 0},async leave(v,S,j,O,V,M){let h=v;const w={...M,replaceWith(x,d){M.replaceWith(x,d),h=x}};for(let x=0;x<s.length;x+=1)if(u[x]===a){const d=e(s[x],t(h),!0);if(typeof d=="function"){const f=await d.call(s[x],h,S,j,O,V,w);if(f===r)u[x]=r;else if(f!==void 0&&f!==n)return f}}else u[x]===h&&(u[x]=a)}}};Pi[Symbol.for("nodejs.util.promisify.custom")]=Xo;const Ri=(s,e,{keyMap:t=null,state:r={},breakSymbol:i=C,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=Ns,nodeTypeGetter:u=at,nodePredicate:v=wn,nodeCloneFn:S=wi,detectCycles:j=!0}={})=>{const O=t||{};let V,M=Array.isArray(s),h=[s],w=-1,x,d=[],f=s;const $=[],B=[];do{w+=1;const N=w===h.length;let J;const ne=N&&d.length!==0;if(N){if(J=B.length===0?void 0:$.pop(),f=x,x=B.pop(),ne)if(M){f=f.slice();let te=0;for(const[se,_]of d){const Se=se-te;_===n?(f.splice(Se,1),te+=1):f[Se]=_}}else{f=S(f);for(const[te,se]of d)f[te]=se}w=V.index,h=V.keys,d=V.edits,M=V.inArray,V=V.prev}else if(x!==n&&x!==void 0){if(J=M?w:h[w],f=x[J],f===n||f===void 0)continue;$.push(J)}let G;if(!Array.isArray(f)){var H;if(!v(f))throw new $e(`Invalid AST Node:  ${String(f)}`,{node:f});if(j&&B.includes(f)){$.pop();continue}const te=a(e,u(f),N);if(te){for(const[_,Se]of Object.entries(r))e[_]=Se;const se={replaceWith(_,Se){typeof Se=="function"?Se(_,f,J,x,$,B):x&&(x[J]=_),N||(f=_)}};G=te.call(e,f,J,x,$,B,se)}if(typeof((H=G)===null||H===void 0?void 0:H.then)=="function")throw new $e("Async visitor not supported in sync mode",{visitor:e,visitFn:te});if(G===i)break;if(G===o){if(!N){$.pop();continue}}else if(G!==void 0&&(d.push([J,G]),!N))if(v(G))f=G;else{$.pop();continue}}if(G===void 0&&ne&&d.push([J,f]),!N){var R;V={inArray:M,index:w,keys:h,edits:d,prev:V},M=Array.isArray(f),h=M?f:(R=O[u(f)])!==null&&R!==void 0?R:[],w=-1,d=[],x!==n&&x!==void 0&&B.push(x),x=f}}while(V!==void 0);return d.length!==0?d[d.length-1][1]:s};Ri[Symbol.for("nodejs.util.promisify.custom")]=async(s,e,{keyMap:t=null,state:r={},breakSymbol:i=C,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=Ns,nodeTypeGetter:u=at,nodePredicate:v=wn,nodeCloneFn:S=wi,detectCycles:j=!0}={})=>{const O=t||{};let V,M=Array.isArray(s),h=[s],w=-1,x,d=[],f=s;const $=[],B=[];do{w+=1;const R=w===h.length;let N;const J=R&&d.length!==0;if(R){if(N=B.length===0?void 0:$.pop(),f=x,x=B.pop(),J)if(M){f=f.slice();let G=0;for(const[te,se]of d){const _=te-G;se===n?(f.splice(_,1),G+=1):f[_]=se}}else{f=S(f);for(const[G,te]of d)f[G]=te}w=V.index,h=V.keys,d=V.edits,M=V.inArray,V=V.prev}else if(x!==n&&x!==void 0){if(N=M?w:h[w],f=x[N],f===n||f===void 0)continue;$.push(N)}let ne;if(!Array.isArray(f)){if(!v(f))throw new $e(`Invalid AST Node: ${String(f)}`,{node:f});if(j&&B.includes(f)){$.pop();continue}const G=a(e,u(f),R);if(G){for(const[se,_]of Object.entries(r))e[se]=_;const te={replaceWith(se,_){typeof _=="function"?_(se,f,N,x,$,B):x&&(x[N]=se),R||(f=se)}};ne=await G.call(e,f,N,x,$,B,te)}if(ne===i)break;if(ne===o){if(!R){$.pop();continue}}else if(ne!==void 0&&(d.push([N,ne]),!R))if(v(ne))f=ne;else{$.pop();continue}}if(ne===void 0&&J&&d.push([N,f]),!R){var H;V={inArray:M,index:w,keys:h,edits:d,prev:V},M=Array.isArray(f),h=M?f:(H=O[u(f)])!==null&&H!==void 0?H:[],w=-1,d=[],x!==n&&x!==void 0&&B.push(x),x=f}}while(V!==void 0);return d.length!==0?d[d.length-1][1]:s};class Pn extends $e{constructor(t,r){super(t,r);l(this,"value");typeof r<"u"&&(this.value=r.value)}}class Ko extends Pn{}class Go extends Pn{}const E=(s,e={})=>{const{visited:t=new WeakMap}=e,r={...e,visited:t};if(t.has(s))return t.get(s);if(s instanceof Ie){const{key:i,value:n}=s,o=X(i)?E(i,r):i,a=X(n)?E(n,r):n,u=new Ie(o,a);return t.set(s,u),u}if(s instanceof Nt){const i=a=>E(a,r),n=[...s].map(i),o=new Nt(n);return t.set(s,o),o}if(s instanceof _e){const i=a=>E(a,r),n=[...s].map(i),o=new _e(n);return t.set(s,o),o}if(X(s)){const i=re(s);if(t.set(s,i),s.content)if(X(s.content))i.content=E(s.content,r);else if(s.content instanceof Ie)i.content=E(s.content,r);else if(Array.isArray(s.content)){const n=o=>E(o,r);i.content=s.content.map(n)}else i.content=s.content;else i.content=s.content;return i}throw new Ko("Value provided to cloneDeep function couldn't be cloned",{value:s})};E.safe=s=>{try{return E(s)}catch{return s}};const Rn=s=>{const{key:e,value:t}=s;return new Ie(e,t)},Zo=s=>{const e=[...s];return new _e(e)},Qo=s=>{const e=[...s];return new Nt(e)},Vn=s=>{const e=new s.constructor;if(e.element=s.element,s.meta.length>0&&(e._meta=E(s.meta)),s.attributes.length>0&&(e._attributes=E(s.attributes)),X(s.content)){const t=s.content;e.content=Vn(t)}else Array.isArray(s.content)?e.content=[...s.content]:s.content instanceof Ie?e.content=Rn(s.content):e.content=s.content;return e},re=s=>{if(s instanceof Ie)return Rn(s);if(s instanceof Nt)return Qo(s);if(s instanceof _e)return Zo(s);if(X(s))return Vn(s);throw new Go("Value provided to cloneShallow function couldn't be cloned",{value:s})};re.safe=s=>{try{return re(s)}catch{return s}};const qe=s=>q(s)?"ObjectElement":ae(s)?"ArrayElement":je(s)?"MemberElement":I(s)?"StringElement":ot(s)?"BooleanElement":Ei(s)?"NumberElement":Si(s)?"NullElement":xn(s)?"LinkElement":bn(s)?"RefElement":void 0,An=s=>X(s)?re(s):wi(s),Fn=it(qe,rt),Le={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class Mn{constructor({predicate:e=vi,returnOnTrue:t,returnOnFalse:r}={}){l(this,"result");l(this,"predicate");l(this,"returnOnTrue");l(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=t,this.returnOnFalse=r}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const ie=(s,e,{keyMap:t=Le,...r}={})=>Ri(s,e,{keyMap:t,nodeTypeGetter:qe,nodePredicate:Fn,nodeCloneFn:An,...r});ie[Symbol.for("nodejs.util.promisify.custom")]=async(s,e,{keyMap:t=Le,...r}={})=>Ri[Symbol.for("nodejs.util.promisify.custom")](s,e,{keyMap:t,nodeTypeGetter:qe,nodePredicate:Fn,nodeCloneFn:An,...r});const In={toolboxCreator:On,visitorOptions:{nodeTypeGetter:qe,exposeEdits:!0}},lt=(s,e,t={})=>{if(e.length===0)return s;const r=mi(In,t),{toolboxCreator:i,visitorOptions:n}=r,o=i(),a=e.map(S=>S(o)),u=Pi(a.map(Dt({},"visitor")),{...n});a.forEach(Ye(["pre"],[]));const v=ie(s,u,n);return a.forEach(Ye(["post"],[])),v},Yo=async(s,e,t={})=>{if(e.length===0)return s;const r=mi(In,t),{toolboxCreator:i,visitorOptions:n}=r,o=i(),a=e.map(O=>O(o)),u=Pi[Symbol.for("nodejs.util.promisify.custom")],v=ie[Symbol.for("nodejs.util.promisify.custom")],S=u(a.map(Dt({},"visitor")),{...n});await Promise.allSettled(a.map(Ye(["pre"],[])));const j=await v(s,S,n);return await Promise.allSettled(a.map(Ye(["post"],[]))),j};lt[Symbol.for("nodejs.util.promisify.custom")]=Yo;class _o extends $e{constructor(t,r){super(t,r);l(this,"value");typeof r<"u"&&(this.value=r.value)}}class Cn{constructor({length:e=6}={}){l(this,"uuid");l(this,"identityMap");this.uuid=new Oo({length:e}),this.identityMap=new WeakMap}identify(e){if(!X(e))throw new _o("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&I(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const t=new he(this.generateId());return this.identityMap.set(e,t),t}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new Cn;class ec extends Array{constructor(){super(...arguments);l(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new Sr("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new Sr("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new Sr("latest method in MediaTypes class is not yet implemented.")}}const tc=(s,{Type:e,plugins:t=[]})=>{const r=new e(s);return X(s)&&(s.meta.length>0&&(r.meta=E(s.meta)),s.attributes.length>0&&(r.attributes=E(s.attributes))),lt(r,t,{toolboxCreator:On,visitorOptions:{nodeTypeGetter:qe}})},ce=s=>(e,t={})=>tc(e,{...t,Type:s});y.refract=ce(y);D.refract=ce(D);he.refract=ce(he);pe.refract=ce(pe);Vr.refract=ce(Vr);Rr.refract=ce(Rr);Ar.refract=ce(Ar);Me.refract=ce(Me);Jt.refract=ce(Jt);Ht.refract=ce(Ht);Ce.refract=ce(Ce);Wt.refract=ce(Wt);const sc=(s,e)=>{const t=new Mn({predicate:s});return ie(e,t),new _e(t.result)},kn=(s,e)=>{const t=new Mn({predicate:s,returnOnTrue:C});return ie(e,t),cn(void 0,[0],t.result)},Tn=s=>typeof(s==null?void 0:s.type)=="string"?s.type:qe(s),Dn={EphemeralObject:["content"],EphemeralArray:["content"],...Le},qn=(s,e,{keyMap:t=Dn,...r}={})=>ie(s,e,{keyMap:t,nodeTypeGetter:Tn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});qn[Symbol.for("nodejs.util.promisify.custom")]=async(s,{keyMap:e=Dn,...t}={})=>ie[Symbol.for("nodejs.util.promisify.custom")](s,visitor,{keyMap:e,nodeTypeGetter:Tn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...t});class rc{constructor(e){l(this,"type","EphemeralArray");l(this,"content",[]);l(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class ic{constructor(e){l(this,"type","EphemeralObject");l(this,"content",[]);l(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let nc=class{constructor(){l(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new ic(e.content);return this.references.set(e,t),t}});l(this,"EphemeralObject",{leave:e=>e.toObject()});l(this,"MemberElement",{enter:e=>[e.key,e.value]});l(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new rc(e.content);return this.references.set(e,t),t}});l(this,"EphemeralArray",{leave:e=>e.toArray()});l(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...t){var r;const i=t[3];return((r=i[i.length-1])===null||r===void 0?void 0:r.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return I(e.href)?e.href.toValue():""}};const g=s=>X(s)?I(s)||Ei(s)||ot(s)||Si(s)?s.toValue():qn(s,new nc):s,kt=(s,e=new WeakMap)=>(je(s)?(e.set(s.key,s),kt(s.key,e),e.set(s.value,s),kt(s.value,e)):s.children.forEach(t=>{e.set(t,s),kt(t,e)}),e),oc=(s,e,t)=>{const r=t.get(s);je(r)&&(r.key===s&&(r.key=e,t.delete(s),t.set(e,r)),r.value===s&&(r.value=e,t.delete(s),t.set(e,r)))},cc=(s,e,t)=>{const r=t.get(s);q(r)&&(r.content=r.map((i,n,o)=>o===s?(t.delete(s),t.set(e,r),e):o))},ac=(s,e,t)=>{const r=t.get(s);ae(r)&&(r.content=r.map(i=>i===s?(t.delete(s),t.set(e,r),e):i))};class lc{constructor({element:e}){l(this,"element");l(this,"edges");this.element=e}transclude(e,t){var r;if(e===this.element)return t;if(e===t)return this.element;this.edges=(r=this.edges)!==null&&r!==void 0?r:kt(this.element);const i=this.edges.get(e);if(!we(i))return q(i)?cc(e,t,this.edges):ae(i)?ac(e,t,this.edges):je(i)&&oc(e,t,this.edges),this.element}}const bh=(s,e,t)=>new lc({element:t}).transclude(s,e),Bs=(s,e)=>{const t=qt(s,e);return ho(r=>{if(Tt(r)&&an("$ref",r)&&po(rt,"$ref",r)){const i=oe(["$ref"],r),n=di("#/",i);return oe(n.split("/"),t)}return Tt(r)?Bs(r,t):r},s)},$h=(s,e=Sn)=>{if(rt(s))try{return e.fromRefract(JSON.parse(s))}catch{}return Tt(s)&&an("element",s)?e.fromRefract(s):e.toElement(s)},zt=s=>{const e=s.meta.length>0?E(s.meta):void 0,t=s.attributes.length>0?E(s.attributes):void 0;return new s.constructor(void 0,e,t)},Xt=(s,e)=>e.clone&&e.isMergeableElement(s)?me(zt(s),s,e):s,uc=(s,e)=>{if(typeof e.customMerge!="function")return me;const t=e.customMerge(s,e);return typeof t=="function"?t:me},dc=s=>typeof s.customMetaMerge!="function"?e=>E(e):s.customMetaMerge,hc=s=>typeof s.customAttributesMerge!="function"?e=>E(e):s.customAttributesMerge,pc=(s,e,t)=>s.concat(e)["fantasy-land/map"](r=>Xt(r,t)),mc=(s,e,t)=>{const r=q(s)?zt(s):zt(e);return q(s)&&s.forEach((i,n,o)=>{const a=re(o);a.value=Xt(i,t),r.content.push(a)}),e.forEach((i,n,o)=>{const a=g(n);let u;if(q(s)&&s.hasKey(a)&&t.isMergeableElement(i)){const v=s.get(a);u=re(o),u.value=uc(n,t)(v,i)}else u=re(o),u.value=Xt(i,t);r.remove(a),r.content.push(u)}),r},It={clone:!0,isMergeableElement:s=>q(s)||ae(s),arrayElementMerge:pc,objectElementMerge:mc,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0};function me(s,e,t){var r,i,n;const o={...It,...t};o.isMergeableElement=(r=o.isMergeableElement)!==null&&r!==void 0?r:It.isMergeableElement,o.arrayElementMerge=(i=o.arrayElementMerge)!==null&&i!==void 0?i:It.arrayElementMerge,o.objectElementMerge=(n=o.objectElementMerge)!==null&&n!==void 0?n:It.objectElementMerge;const a=ae(e),u=ae(s);if(!(a===u))return Xt(e,o);const S=a&&typeof o.arrayElementMerge=="function"?o.arrayElementMerge(s,e,o):o.objectElementMerge(s,e,o);return S.meta=dc(o)(s.meta,e.meta),S.attributes=hc(o)(s.attributes,e.attributes),S}me.all=(s,e)=>{if(!Array.isArray(s))throw new TypeError("First argument of deepmerge should be an array.");return s.length===0?new y:s.reduce((t,r)=>me(t,r,e),zt(s[0]))};class Vi extends Y{}class Ln extends Vi{}const fc=async(s,e)=>{let t=s,r=!1;if(!$n(s)){const o=re(s);o.classes.push("result"),t=new Ce([o]),r=!0}const i=new Ut({uri:e.resolve.baseURI,parseResult:t,mediaType:e.parse.mediaType}),n=await bi("canDereference",[i,e],e.dereference.strategies);if(fi(n))throw new Ln(i.uri);try{const{result:o}=await $i("dereference",[i,e],n);return r?o.get(0):o}catch(o){throw new Vi(`Error while dereferencing file "${i.uri}"`,{cause:o})}};class vc{constructor({name:e,allowEmpty:t=!0,sourceMap:r=!1,fileExtensions:i=[],mediaTypes:n=[]}){l(this,"name");l(this,"allowEmpty");l(this,"sourceMap");l(this,"fileExtensions");l(this,"mediaTypes");this.name=e,this.allowEmpty=t,this.sourceMap=r,this.fileExtensions=i,this.mediaTypes=n}}class gc{constructor({name:e}){l(this,"name");this.name=e}}class jh extends gc{constructor(t){const{name:r="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:o=!1}=t??{};super({name:r});l(this,"timeout");l(this,"redirects");l(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=o}canRead(t){return Ro(t.uri)}}class yc{constructor({name:e}){l(this,"name");this.name=e}}class xc{constructor({name:e}){l(this,"name");this.name=e}}class Or extends Array{includesCycle(e){return this.filter(t=>t.has(e)).length>1}includes(e,t){return e instanceof Set?super.includes(e,t):this.some(r=>r.has(e))}findItem(e){for(const t of this)for(const r of t)if(X(r)&&e(r))return r}}let Xe=class{constructor({uri:e,depth:t=0,refSet:r,value:i}){l(this,"uri");l(this,"depth");l(this,"value");l(this,"refSet");l(this,"errors");this.uri=e,this.value=i,this.depth=t,this.refSet=r,this.errors=[]}};class Nn extends Y{}class bc extends Nn{}class $c extends Y{}class Bn extends $c{}class jc extends Nn{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class wr extends Vi{}class Ec extends ji{}class Sc extends Mr{}const Sh=async(s,e={})=>{const t=gn(Fo,e);return fc(s,t)};class Ai extends $e{}class Ji extends Ai{constructor(t,r){super(t,r);l(this,"pointer");typeof r<"u"&&(this.pointer=r.pointer)}}class Oc extends Ai{constructor(t,r){super(t,r);l(this,"tokens");typeof r<"u"&&(this.tokens=[...r.tokens])}}class Ct extends Ai{constructor(t,r){super(t,r);l(this,"pointer");l(this,"tokens");l(this,"failedToken");l(this,"failedTokenPosition");l(this,"element");typeof r<"u"&&(this.pointer=r.pointer,Array.isArray(r.tokens)&&(this.tokens=[...r.tokens]),this.failedToken=r.failedToken,this.failedTokenPosition=r.failedTokenPosition,this.element=r.element)}}const wc=it(Lt(/~/g,"~0"),Lt(/\//g,"~1"),encodeURIComponent),Pc=s=>{try{return decodeURIComponent(s)}catch{return s}},Rc=it(Lt(/~1/g,"/"),Lt(/~0/g,"~"),Pc),Vc=s=>{if(en(s))return[];if(!ln("/",s))throw new Ji(`Invalid JSON Pointer "${s}". JSON Pointers must begin with "/"`,{pointer:s});try{const e=it(mo("/"),fo(Rc))(s);return vo(e)}catch(e){throw new Ji(`JSON Pointer parsing of "${s}" encountered an error.`,{pointer:s,cause:e})}},Ac=s=>{const e=s.indexOf("#");return e!==-1?s.substring(e):"#"},Ae=s=>{const e=Ac(s);return di("#",e)},Oh=s=>{try{return s.length===0?"":`/${s.map(wc).join("/")}`}catch(e){throw new Oc("JSON Pointer compilation of tokens encountered an error.",{tokens:s,cause:e})}},Fe=(s,e)=>{let t;try{t=Vc(s)}catch(r){throw new Ct(`JSON Pointer evaluation failed while parsing the pointer "${s}".`,{pointer:s,element:E(e),cause:r})}return t.reduce((r,i,n)=>{if(q(r)){if(!r.hasKey(i))throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an ObjectElement`,{pointer:s,tokens:t,failedToken:i,failedTokenPosition:n,element:E(r)});return r.get(i)}if(ae(r)){if(!(i in r.content)||!io(Number(i)))throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an ArrayElement`,{pointer:s,tokens:t,failedToken:i,failedTokenPosition:n,element:E(r)});return r.get(Number(i))}throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an unexpected Element`,{pointer:s,tokens:t,failedToken:i,failedTokenPosition:n,element:E(r)})},e)};class Fc extends ec{filterByFormat(e="generic"){const t=e==="generic"?"openapi;version":e;return this.filter(r=>r.includes(t))}findBy(e="3.1.0",t="generic"){const r=t==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${t};version=${e}`;return this.find(n=>n.includes(r))||this.unknownMediaType}latest(e="generic"){return Ds(this.filterByFormat(e))}}const Mc=new Fc("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let ut=class extends y{constructor(e,t,r){super(e,t,r),this.element="callback"}},dt=class extends y{constructor(e,t,r){super(e,t,r),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},ht=class extends y{constructor(e,t,r){super(e,t,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},Us=class extends y{constructor(e,t,r){super(e,t,r),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Js=class extends y{constructor(e,t,r){super(e,t,r),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},pt=class extends y{constructor(e,t,r){super(e,t,r),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},mt=class extends y{constructor(e,t,r){super(e,t,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Ne=class extends y{constructor(e,t,r){super(e,t,r),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Ne.prototype,"description",{get(){return this.get("description")},set(s){this.set("description",s)},enumerable:!0});let ft=class extends y{constructor(e,t,r){super(e,t,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},vt=class extends y{constructor(e,t,r){super(e,t,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},gt=class extends y{constructor(e,t,r){super(e,t,r),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(I(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(I(this.operationId)){var t;return(t=this.operationId)===null||t===void 0?void 0:t.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},yt=class extends y{constructor(e,t,r){super(e,t,r),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},Hs=class extends y{constructor(e,t,r){super(e,t,r),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},Ws=class extends y{constructor(e,t,r){super(e,t,r),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},xt=class extends he{constructor(e,t,r){super(e,t,r),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class zs extends y{constructor(e,t,r){super(e,t,r),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let bt=class extends y{constructor(e,t,r){super(e,t,r),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},Be=class extends y{constructor(e,t,r){super(e,t,r),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Be.prototype,"description",{get(){return this.get("description")},set(s){this.set("description",s)},enumerable:!0});let $t=class extends y{constructor(e,t,r){super(e,t,r),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},jt=class extends y{constructor(e,t,r){super(e,t,r),this.element="paths"}},Et=class extends y{constructor(e,t,r){super(e,t,r),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},St=class extends y{constructor(e,t,r){super(e,t,r),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}},Ot=class extends y{constructor(e,t,r){super(e,t,r),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},wt=class extends y{constructor(e,t,r){super(e,t,r),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}};class Pt extends y{constructor(e,t,r){super(e,t,r),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}}class Xs extends y{constructor(e,t,r){super(e,t,r),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class Ks extends y{constructor(e,t,r){super(e,t,r),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}class Gs extends y{constructor(e,t,r){super(e,t,r),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const Ic={namespace:s=>{const{base:e}=s;return e.register("jSONSchemaDraft4",Pt),e.register("jSONReference",Xs),e.register("media",Ks),e.register("linkDescription",Gs),e}},Cc=s=>{if(X(s))return`${s.element.charAt(0).toUpperCase()+s.element.slice(1)}Element`},kc={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...Le};let Un=class{constructor(e){l(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),ct(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}},W=class extends Un{enter(e){return this.element=E(e),C}},Ee=class extends Un{constructor({specObj:t,...r}){super({...r});l(this,"specObj");l(this,"passingOptionsNames",["specObj"]);this.specObj=t}retrievePassingOptions(){return un(this.passingOptionsNames,this)}retrieveFixedFields(t){const r=oe(["visitors",...t,"fixedFields"],this.specObj);return typeof r=="object"&&r!==null?Object.keys(r):[]}retrieveVisitor(t){return pi(sn,["visitors",...t],this.specObj)?oe(["visitors",...t],this.specObj):oe(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,r={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...r};return new n(o)}toRefractedElement(t,r,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof W&&(n==null?void 0:n.constructor)===W?E(r):(ie(r,n,i),n.element)}},et=class extends Ee{constructor({specPath:t,ignoredFields:r,...i}){super({...i});l(this,"specPath");l(this,"ignoredFields");this.specPath=t,this.ignoredFields=r||[]}ObjectElement(t){const r=this.specPath(t),i=this.retrieveFixedFields(r);return t.forEach((n,o,a)=>{if(I(o)&&i.includes(g(o))&&!this.ignoredFields.includes(g(o))){const u=this.toRefractedElement([...r,"fixedFields",g(o)],n),v=new nt(E(o),u);this.copyMetaAndAttributes(a,v),v.classes.push("fixed-field"),this.element.content.push(v)}else this.ignoredFields.includes(g(o))||this.element.content.push(E(a))}),this.copyMetaAndAttributes(t,this.element),C}};class Tc extends m(et,W){constructor(e){super(e),this.element=new Pt,this.specPath=P(["document","objects","JSONSchema"])}}let ve=class{constructor({parent:e}){l(this,"parent");this.parent=e}};const ue=s=>q(s)&&s.hasKey("$ref");let Dc=class extends m(Ee,ve,W){ObjectElement(e){const t=ue(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(t,e),C}ArrayElement(e){return this.element=new D,this.element.classes.push("json-schema-items"),e.forEach(t=>{const r=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}};class qc extends W{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-required"),t}}let Lc=class extends Ee{constructor({specPath:t,ignoredFields:r,fieldPatternPredicate:i,...n}){super({...n});l(this,"specPath");l(this,"ignoredFields");l(this,"fieldPatternPredicate",vi);this.specPath=t,this.ignoredFields=r||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(t){return t.forEach((r,i,n)=>{if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const o=this.specPath(r),a=this.toRefractedElement(o,r),u=new nt(E(i),a);this.copyMetaAndAttributes(n,u),u.classes.push("patterned-field"),this.element.content.push(u)}else this.ignoredFields.includes(g(i))||this.element.content.push(E(n))}),this.copyMetaAndAttributes(t,this.element),C}},Zs=class extends Lc{constructor(e){super(e),this.fieldPatternPredicate=hi}},Nc=class extends m(Zs,ve,W){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},Bc=class extends m(Zs,ve,W){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class Uc extends m(Zs,ve,W){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependencies"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let Jc=class extends W{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-enum"),t}},Hc=class extends W{StringElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}},Wc=class extends m(Ee,ve,W){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(t=>{const r=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},zc=class extends m(Ee,ve,W){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(t=>{const r=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Xc=class extends m(Ee,ve,W){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(t=>{const r=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}};class Kc extends m(Zs,ve,W){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-definitions"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let Gc=class extends m(Ee,ve,W){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(t=>{const r=this.toRefractedElement(["document","objects","LinkDescription"],t);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),C}};class Zc extends m(et,W){constructor(e){super(e),this.element=new Xs,this.specPath=P(["document","objects","JSONReference"])}ObjectElement(e){const t=et.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}}let Qc=class extends W{StringElement(e){const t=this.enter(e);return this.element.classes.push("reference-value"),t}},Yc=class extends Ee{constructor({alternator:t,...r}){super({...r});l(this,"alternator");this.alternator=t}enter(t){const r=this.alternator.map(({predicate:n,specPath:o})=>dn(n,P(o),rn)),i=nn(r)(t);return this.element=this.toRefractedElement(i,t),C}},Ve=class extends Yc{constructor(e){super(e),this.alternator=[{predicate:ue,specPath:["document","objects","JSONReference"]},{predicate:fe,specPath:["document","objects","JSONSchema"]}]}};class _c extends m(et,W){constructor(e){super(e),this.element=new Ks,this.specPath=P(["document","objects","Media"])}}class ea extends m(et,W){constructor(e){super(e),this.element=new Gs,this.specPath=P(["document","objects","LinkDescription"])}}const ge={visitors:{value:W,JSONSchemaOrJSONReferenceVisitor:Ve,document:{objects:{JSONSchema:{$visitor:Tc,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Ve,items:Dc,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:qc,properties:Nc,additionalProperties:Ve,patternProperties:Bc,dependencies:Uc,enum:Jc,type:Hc,allOf:Wc,anyOf:zc,oneOf:Xc,not:Ve,definitions:Kc,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:Gc,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:Zc,fixedFields:{$ref:Qc}},Media:{$visitor:_c,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:ea,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Ve,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Ve}}}}}},ta=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Pt||s(r)&&e("JSONSchemaDraft4",r)&&t("object",r)),sa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Xs||s(r)&&e("JSONReference",r)&&t("object",r)),ra=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ks||s(r)&&e("media",r)&&t("object",r)),ia=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Gs||s(r)&&e("linkDescription",r)&&t("object",r)),na=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:sa,isJSONSchemaElement:ta,isLinkDescriptionElement:ia,isMediaElement:ra},Symbol.toStringTag,{value:"Module"})),oa=()=>{const s=Ls(Ic);return{predicates:{...na,isStringElement:I},namespace:s}},ca=(s,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:t=[],specificationObj:r=ge}={})=>{const i=gi(s),n=Bs(r),o=oe(e,n),a=new o({specObj:n});return ie(i,a),lt(a.element,t,{toolboxCreator:oa,visitorOptions:{keyMap:kc,nodeTypeGetter:Cc}})},Qs=s=>(e,t={})=>ca(e,{specPath:s,...t});Pt.refract=Qs(["visitors","document","objects","JSONSchema","$visitor"]);Xs.refract=Qs(["visitors","document","objects","JSONReference","$visitor"]);Ks.refract=Qs(["visitors","document","objects","Media","$visitor"]);Gs.refract=Qs(["visitors","document","objects","LinkDescription","$visitor"]);let Ys=class extends Pt{constructor(e,t,r){super(e,t,r),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new Q("idProp getter in Schema class is not not supported.")}set idProp(e){throw new Q("idProp setter in Schema class is not not supported.")}get $schema(){throw new Q("$schema getter in Schema class is not not supported.")}set $schema(e){throw new Q("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new Q("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new Q("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new Q("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new Q("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new Q("definitions getter in Schema class is not not supported.")}set definitions(e){throw new Q("definitions setter in Schema class is not not supported.")}get base(){throw new Q("base getter in Schema class is not not supported.")}set base(e){throw new Q("base setter in Schema class is not not supported.")}get links(){throw new Q("links getter in Schema class is not not supported.")}set links(e){throw new Q("links setter in Schema class is not not supported.")}get media(){throw new Q("media getter in Schema class is not not supported.")}set media(e){throw new Q("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},Rt=class extends y{constructor(e,t,r){super(e,t,r),this.element="securityRequirement"}},Vt=class extends y{constructor(e,t,r){super(e,t,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},At=class extends y{constructor(e,t,r){super(e,t,r),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},Ft=class extends y{constructor(e,t,r){super(e,t,r),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},_s=class extends y{constructor(e,t,r){super(e,t,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},er=class extends y{constructor(e,t,r){super(e,t,r),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const aa={namespace:s=>{const{base:e}=s;return e.register("callback",ut),e.register("components",dt),e.register("contact",ht),e.register("discriminator",Us),e.register("encoding",Js),e.register("example",pt),e.register("externalDocumentation",mt),e.register("header",Ne),e.register("info",ft),e.register("license",vt),e.register("link",gt),e.register("mediaType",yt),e.register("oAuthFlow",Hs),e.register("oAuthFlows",Ws),e.register("openapi",xt),e.register("openApi3_0",zs),e.register("operation",bt),e.register("parameter",Be),e.register("pathItem",$t),e.register("paths",jt),e.register("reference",Et),e.register("requestBody",St),e.register("response",Ot),e.register("responses",wt),e.register("schema",Ys),e.register("securityRequirement",Rt),e.register("securityScheme",Vt),e.register("server",At),e.register("serverVariable",Ft),e.register("tag",_s),e.register("xml",er),e}},es=class es extends D{constructor(e,t,r){super(e,t,r),this.classes.push(es.primaryClass)}};l(es,"primaryClass","servers");let tt=es;const ts=class ts extends D{constructor(e,t,r){super(e,t,r),this.classes.push(ts.primaryClass)}};l(ts,"primaryClass","security");let Ir=ts;const ss=class ss extends D{constructor(e,t,r){super(e,t,r),this.classes.push(ss.primaryClass)}};l(ss,"primaryClass","tags");let Cr=ss;const rs=class rs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(rs.primaryClass)}};l(rs,"primaryClass","server-variables");let kr=rs;const is=class is extends y{constructor(e,t,r){super(e,t,r),this.classes.push(is.primaryClass)}};l(is,"primaryClass","components-schemas");let Kt=is;const ns=class ns extends y{constructor(e,t,r){super(e,t,r),this.classes.push(ns.primaryClass)}};l(ns,"primaryClass","components-responses");let Tr=ns;const os=class os extends y{constructor(e,t,r){super(e,t,r),this.classes.push(os.primaryClass),this.classes.push("parameters")}};l(os,"primaryClass","components-parameters");let Dr=os;const cs=class cs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(cs.primaryClass),this.classes.push("examples")}};l(cs,"primaryClass","components-examples");let qr=cs;const as=class as extends y{constructor(e,t,r){super(e,t,r),this.classes.push(as.primaryClass)}};l(as,"primaryClass","components-request-bodies");let Lr=as;const ls=class ls extends y{constructor(e,t,r){super(e,t,r),this.classes.push(ls.primaryClass)}};l(ls,"primaryClass","components-headers");let Nr=ls;const us=class us extends y{constructor(e,t,r){super(e,t,r),this.classes.push(us.primaryClass)}};l(us,"primaryClass","components-security-schemes");let Br=us;const ds=class ds extends y{constructor(e,t,r){super(e,t,r),this.classes.push(ds.primaryClass)}};l(ds,"primaryClass","components-links");let Ur=ds;const hs=class hs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(hs.primaryClass)}};l(hs,"primaryClass","components-callbacks");let Jr=hs;const ps=class ps extends D{constructor(e,t,r){super(e,t,r),this.classes.push(ps.primaryClass),this.classes.push("servers")}};l(ps,"primaryClass","path-item-servers");let Gt=ps;const ms=class ms extends D{constructor(e,t,r){super(e,t,r),this.classes.push(ms.primaryClass),this.classes.push("parameters")}};l(ms,"primaryClass","path-item-parameters");let Hr=ms;const fs=class fs extends D{constructor(e,t,r){super(e,t,r),this.classes.push(fs.primaryClass),this.classes.push("parameters")}};l(fs,"primaryClass","operation-parameters");let Zt=fs;const vs=class vs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(vs.primaryClass),this.classes.push("examples")}};l(vs,"primaryClass","parameter-examples");let Wr=vs;const gs=class gs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(gs.primaryClass),this.classes.push("content")}};l(gs,"primaryClass","parameter-content");let zr=gs;const ys=class ys extends D{constructor(e,t,r){super(e,t,r),this.classes.push(ys.primaryClass)}};l(ys,"primaryClass","operation-tags");let Xr=ys;const xs=class xs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(xs.primaryClass)}};l(xs,"primaryClass","operation-callbacks");let Kr=xs;const bs=class bs extends D{constructor(e,t,r){super(e,t,r),this.classes.push(bs.primaryClass),this.classes.push("security")}};l(bs,"primaryClass","operation-security");let Qt=bs;const $s=class $s extends D{constructor(e,t,r){super(e,t,r),this.classes.push($s.primaryClass),this.classes.push("servers")}};l($s,"primaryClass","operation-servers");let Yt=$s;const js=class js extends y{constructor(e,t,r){super(e,t,r),this.classes.push(js.primaryClass),this.classes.push("content")}};l(js,"primaryClass","request-body-content");let Gr=js;const Es=class Es extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Es.primaryClass),this.classes.push("examples")}};l(Es,"primaryClass","media-type-examples");let Zr=Es;const Ss=class Ss extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Ss.primaryClass)}};l(Ss,"primaryClass","media-type-encoding");let Qr=Ss;const Os=class Os extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Os.primaryClass)}};l(Os,"primaryClass","encoding-headers");let Yr=Os;const ws=class ws extends y{constructor(e,t,r){super(e,t,r),this.classes.push(ws.primaryClass)}};l(ws,"primaryClass","response-headers");let _r=ws;const Ps=class Ps extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Ps.primaryClass),this.classes.push("content")}};l(Ps,"primaryClass","response-content");let ei=Ps;const Rs=class Rs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Rs.primaryClass)}};l(Rs,"primaryClass","response-links");let ti=Rs;const Vs=class Vs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Vs.primaryClass)}};l(Vs,"primaryClass","discriminator-mapping");let si=Vs;const As=class As extends y{constructor(e,t,r){super(e,t,r),this.classes.push(As.primaryClass)}};l(As,"primaryClass","oauth-flow-scopes");let ri=As;const Fs=class Fs extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Fs.primaryClass)}};l(Fs,"primaryClass","link-parameters");let ii=Fs;const Ms=class Ms extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Ms.primaryClass),this.classes.push("examples")}};l(Ms,"primaryClass","header-examples");let ni=Ms;const Is=class Is extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Is.primaryClass),this.classes.push("content")}};l(Is,"primaryClass","header-content");let oi=Is;const la=s=>{if(X(s))return`${s.element.charAt(0).toUpperCase()+s.element.slice(1)}Element`},ua={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Le};class Jn{constructor(e={}){l(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),ct(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}}class p extends Jn{enter(e){return this.element=E(e),C}}class ee extends Jn{constructor({specObj:t,passingOptionsNames:r,openApiGenericElement:i,openApiSemanticElement:n,...o}){super({...o});l(this,"specObj");l(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);l(this,"openApiGenericElement");l(this,"openApiSemanticElement");this.specObj=t,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(r)&&(this.passingOptionsNames=r)}retrievePassingOptions(){return un(this.passingOptionsNames,this)}retrieveFixedFields(t){const r=oe(["visitors",...t,"fixedFields"],this.specObj);return typeof r=="object"&&r!==null?Object.keys(r):[]}retrieveVisitor(t){return pi(sn,["visitors",...t],this.specObj)?oe(["visitors",...t],this.specObj):oe(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,r={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...r};return new n(o)}toRefractedElement(t,r,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof p&&(n==null?void 0:n.constructor)===p?E(r):(ie(r,n,i),n.element)}}const U=s=>q(s)&&s.hasKey("$ref"),da=q,ha=q,Hn=s=>I(s.key)&&ln("x-",g(s.key));class F extends ee{constructor({specPath:t,ignoredFields:r,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...o}){super({...o});l(this,"specPath");l(this,"ignoredFields");l(this,"canSupportSpecificationExtensions",!0);l(this,"specificationExtensionPredicate",Hn);this.specPath=t,this.ignoredFields=r||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(t){const r=this.specPath(t),i=this.retrieveFixedFields(r);return t.forEach((n,o,a)=>{if(I(o)&&i.includes(g(o))&&!this.ignoredFields.includes(g(o))){const u=this.toRefractedElement([...r,"fixedFields",g(o)],n),v=new nt(E(o),u);this.copyMetaAndAttributes(a,v),v.classes.push("fixed-field"),this.element.content.push(v)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const u=this.toRefractedElement(["document","extension"],a);this.element.content.push(u)}else this.ignoredFields.includes(g(o))||this.element.content.push(E(a))}),this.copyMetaAndAttributes(t,this.element),C}}class pa extends m(F,p){constructor(e){super(e),this.element=new zs,this.specPath=P(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return F.prototype.ObjectElement.call(this,e)}}class ma extends m(ee,p){StringElement(e){const t=new xt(g(e));return this.copyMetaAndAttributes(e,t),this.element=t,C}}class fa extends ee{MemberElement(e){return this.element=E(e),this.element.classes.push("specification-extension"),C}}let va=class extends m(F,p){constructor(e){super(e),this.element=new ft,this.specPath=P(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class ga extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),t}}let ya=class extends m(F,p){constructor(e){super(e),this.element=new ht,this.specPath=P(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},xa=class extends m(F,p){constructor(e){super(e),this.element=new vt,this.specPath=P(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},ba=class extends m(F,p){constructor(e){super(e),this.element=new gt,this.specPath=P(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return(I(this.element.operationId)||I(this.element.operationRef))&&this.element.classes.push("reference-element"),t}};class $a extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class ja extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class ke extends ee{constructor({specPath:t,ignoredFields:r,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a});l(this,"specPath");l(this,"ignoredFields");l(this,"fieldPatternPredicate",vi);l(this,"canSupportSpecificationExtensions",!1);l(this,"specificationExtensionPredicate",Hn);this.specPath=t,this.ignoredFields=r||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(t){return t.forEach((r,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(g(i))&&this.fieldPatternPredicate(g(i))){const o=this.specPath(r),a=this.toRefractedElement(o,r),u=new nt(E(i),a);this.copyMetaAndAttributes(n,u),u.classes.push("patterned-field"),this.element.content.push(u)}else this.ignoredFields.includes(g(i))||this.element.content.push(E(n))}),this.copyMetaAndAttributes(t,this.element),C}}class A extends ke{constructor(e){super(e),this.fieldPatternPredicate=hi}}let Ea=class extends m(A,p){constructor(e){super(e),this.element=new ii,this.specPath=P(["value"])}},Sa=class extends m(F,p){constructor(e){super(e),this.element=new At,this.specPath=P(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};class Oa extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("server-url"),t}}let Fi=class extends m(ee,p){constructor(e){super(e),this.element=new tt}ArrayElement(e){return e.forEach(t=>{const r=da(t)?["document","objects","Server"]:["value"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},wa=class extends m(F,p){constructor(e){super(e),this.element=new Ft,this.specPath=P(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class Pa extends m(A,p){constructor(e){super(e),this.element=new kr,this.specPath=P(["document","objects","ServerVariable"])}}let Ra=class extends m(F,p){constructor(e){super(e),this.element=new yt,this.specPath=P(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class de extends ee{constructor({alternator:t,...r}){super({...r});l(this,"alternator");this.alternator=t||[]}enter(t){const r=this.alternator.map(({predicate:n,specPath:o})=>dn(n,P(o),rn)),i=nn(r)(t);return this.element=this.toRefractedElement(i,t),C}}const Va=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ut||s(r)&&e("callback",r)&&t("object",r)),Aa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof dt||s(r)&&e("components",r)&&t("object",r)),Fa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ht||s(r)&&e("contact",r)&&t("object",r)),Ma=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof pt||s(r)&&e("example",r)&&t("object",r)),Ia=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof mt||s(r)&&e("externalDocumentation",r)&&t("object",r)),Ue=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ne||s(r)&&e("header",r)&&t("object",r)),Ca=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ft||s(r)&&e("info",r)&&t("object",r)),ka=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof vt||s(r)&&e("license",r)&&t("object",r)),Ta=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof gt||s(r)&&e("link",r)&&t("object",r)),Da=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof xt||s(r)&&e("openapi",r)&&t("string",r)),qa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t,hasClass:r})=>i=>i instanceof zs||s(i)&&e("openApi3_0",i)&&t("object",i)&&r("api",i)),Wn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof bt||s(r)&&e("operation",r)&&t("object",r)),La=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Be||s(r)&&e("parameter",r)&&t("object",r)),Mi=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof $t||s(r)&&e("pathItem",r)&&t("object",r)),Na=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof jt||s(r)&&e("paths",r)&&t("object",r)),L=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Et||s(r)&&e("reference",r)&&t("object",r)),Ba=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof St||s(r)&&e("requestBody",r)&&t("object",r)),tr=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ot||s(r)&&e("response",r)&&t("object",r)),Ua=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof wt||s(r)&&e("responses",r)&&t("object",r)),Ja=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ys||s(r)&&e("schema",r)&&t("object",r)),Ha=s=>ot(s)&&s.classes.includes("boolean-json-schema"),Wa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Rt||s(r)&&e("securityRequirement",r)&&t("object",r)),za=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Vt||s(r)&&e("securityScheme",r)&&t("object",r)),Xa=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof At||s(r)&&e("server",r)&&t("object",r)),Ka=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Ft||s(r)&&e("serverVariable",r)&&t("object",r)),sr=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof yt||s(r)&&e("mediaType",r)&&t("object",r)),zn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t,hasClass:r})=>i=>i instanceof tt||s(i)&&e("array",i)&&t("array",i)&&r("servers",i)),Ga=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Ha,isCallbackElement:Va,isComponentsElement:Aa,isContactElement:Fa,isExampleElement:Ma,isExternalDocumentationElement:Ia,isHeaderElement:Ue,isInfoElement:Ca,isLicenseElement:ka,isLinkElement:Ta,isMediaTypeElement:sr,isOpenApi3_0Element:qa,isOpenapiElement:Da,isOperationElement:Wn,isParameterElement:La,isPathItemElement:Mi,isPathsElement:Na,isReferenceElement:L,isRequestBodyElement:Ba,isResponseElement:tr,isResponsesElement:Ua,isSchemaElement:Ja,isSecurityRequirementElement:Wa,isSecuritySchemeElement:za,isServerElement:Xa,isServerVariableElement:Ka,isServersElement:zn},Symbol.toStringTag,{value:"Module"}));let Za=class extends m(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},Ii=class extends m(A,p){constructor(e){super(e),this.element=new y,this.element.classes.push("examples"),this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","example")}),t}},Qa=class extends Ii{constructor(e){super(e),this.element=new Zr}},Ya=class extends m(A,p){constructor(e){super(e),this.element=new Qr,this.specPath=P(["document","objects","Encoding"])}},_a=class extends m(A,p){constructor(e){super(e),this.element=new Rt,this.specPath=P(["value"])}},el=class extends m(ee,p){constructor(e){super(e),this.element=new Ir}ArrayElement(e){return e.forEach(t=>{if(q(t)){const r=this.toRefractedElement(["document","objects","SecurityRequirement"],t);this.element.push(r)}else this.element.push(E(t))}),this.copyMetaAndAttributes(e,this.element),C}},tl=class extends m(F,p){constructor(e){super(e),this.element=new dt,this.specPath=P(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},sl=class extends m(F,p){constructor(e){super(e),this.element=new _s,this.specPath=P(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},rl=class extends m(F,p){constructor(e){super(e),this.element=new Et,this.specPath=P(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}},il=class extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},nl=class extends m(F,p){constructor(e){super(e),this.element=new Be,this.specPath=P(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(sr).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),t}},ol=class extends m(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},cl=class extends m(F,p){constructor(e){super(e),this.element=new Ne,this.specPath=P(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},al=class extends m(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},ll=class extends Ii{constructor(e){super(e),this.element=new ni}},rr=class extends m(A,p){constructor(e){super(e),this.element=new y,this.element.classes.push("content"),this.specPath=P(["document","objects","MediaType"])}},ul=class extends rr{constructor(e){super(e),this.element=new oi}},dl=class extends m(F,p){constructor(e){super(e),this.element=new Ys,this.specPath=P(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const{allOf:Hi}=ge.visitors.document.objects.JSONSchema.fixedFields;let hl=class extends Hi{ArrayElement(e){const t=Hi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),t}};const{anyOf:Wi}=ge.visitors.document.objects.JSONSchema.fixedFields;let pl=class extends Wi{ArrayElement(e){const t=Wi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),t}};const{oneOf:zi}=ge.visitors.document.objects.JSONSchema.fixedFields;let ml=class extends zi{ArrayElement(e){const t=zi.prototype.ArrayElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),t}};const{items:Xi}=ge.visitors.document.objects.JSONSchema.fixedFields;class fl extends Xi{ObjectElement(e){const t=Xi.prototype.ObjectElement.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}ArrayElement(e){return this.enter(e)}}const{properties:Ki}=ge.visitors.document.objects.JSONSchema.fixedFields;let vl=class extends Ki{ObjectElement(e){const t=Ki.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),t}};const{type:gl}=ge.visitors.document.objects.JSONSchema.fixedFields;let yl=class extends gl{ArrayElement(e){return this.enter(e)}};const{JSONSchemaOrJSONReferenceVisitor:Gi}=ge.visitors;class Zi extends Gi{ObjectElement(e){const t=Gi.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}}let xl=class extends m(F,p){constructor(e){super(e),this.element=new Us,this.specPath=P(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class bl extends m(A,p){constructor(e){super(e),this.element=new si,this.specPath=P(["value"])}}let $l=class extends m(F,p){constructor(e){super(e),this.element=new er,this.specPath=P(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},jl=class extends Ii{constructor(e){super(e),this.element=new Wr}},El=class extends rr{constructor(e){super(e),this.element=new zr}},Sl=class extends m(A,p){constructor(e){super(e),this.element=new Kt,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),t}},Ol=class extends m(A,p){constructor(e){super(e),this.element=new Tr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(tr).forEach((r,i)=>{r.setMetaProperty("http-status-code",g(i))}),t}},wl=class extends m(A,p){constructor(e){super(e),this.element=new Dr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","parameter")}),t}},Pl=class extends m(A,p){constructor(e){super(e),this.element=new qr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","example")}),t}};class Rl extends m(A,p){constructor(e){super(e),this.element=new Lr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","requestBody")}),t}}let Vl=class extends m(A,p){constructor(e){super(e),this.element=new Nr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.filter(Ue).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),t}};class Al extends m(A,p){constructor(e){super(e),this.element=new Br,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","securityScheme")}),t}}let Fl=class extends m(A,p){constructor(e){super(e),this.element=new Ur,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","link")}),t}},Ml=class extends m(A,p){constructor(e){super(e),this.element=new Jr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","callback")}),t}},Il=class extends m(F,p){constructor(e){super(e),this.element=new pt,this.specPath=P(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return I(this.element.externalValue)&&this.element.classes.push("reference-element"),t}};class Cl extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}let kl=class extends m(F,p){constructor(e){super(e),this.element=new mt,this.specPath=P(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},Tl=class extends m(F,p){constructor(e){super(e),this.element=new Js,this.specPath=P(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return q(this.element.headers)&&this.element.headers.filter(Ue).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),t}},Dl=class extends m(A,p){constructor(e){super(e),this.element=new Yr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,i)=>{if(!Ue(r))return;const n=g(i);r.setMetaProperty("headerName",n)}),t}},ql=class extends m(ke,p){constructor(e){super(e),this.element=new jt,this.specPath=P(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=fe}ObjectElement(e){const t=ke.prototype.ObjectElement.call(this,e);return this.element.filter(Mi).forEach((r,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),r.setMetaProperty("path",E(i))}),t}},Ll=class extends m(F,p){constructor(e){super(e),this.element=new St,this.specPath=P(["document","objects","RequestBody"])}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(sr).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),t}},Nl=class extends rr{constructor(e){super(e),this.element=new Gr}},Bl=class extends m(ke,p){constructor(e){super(e),this.element=new ut,this.specPath=P(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=t=>/{(?<expression>[^}]{1,2083})}/.test(String(t))}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(Mi).forEach((r,i)=>{r.setMetaProperty("runtime-expression",g(i))}),t}},Ul=class extends m(F,p){constructor(e){super(e),this.element=new Ot,this.specPath=P(["document","objects","Response"])}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(sr).forEach((r,i)=>{r.setMetaProperty("media-type",g(i))}),q(this.element.headers)&&this.element.headers.filter(Ue).forEach((r,i)=>{r.setMetaProperty("header-name",g(i))}),t}};class Jl extends m(A,p){constructor(e){super(e),this.element=new _r,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,i)=>{if(!Ue(r))return;const n=g(i);r.setMetaProperty("header-name",n)}),t}}class Hl extends rr{constructor(e){super(e),this.element=new ei}}class Wl extends m(A,p){constructor(e){super(e),this.element=new ti,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","link")}),t}}class Qi extends m(F,ke){constructor({specPathFixedFields:t,specPathPatternedFields:r,...i}){super({...i});l(this,"specPathFixedFields");l(this,"specPathPatternedFields");this.specPathFixedFields=t,this.specPathPatternedFields=r}ObjectElement(t){const{specPath:r,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(t));this.ignoredFields=[...i,...go(t.keys(),n)],F.prototype.ObjectElement.call(this,t),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,ke.prototype.ObjectElement.call(this,t)}catch(n){throw this.specPath=r,n}return C}}let zl=class extends m(Qi,p){constructor(e){super(e),this.element=new wt,this.specPathFixedFields=P(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=t=>U(t)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=t=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${yo(100,600).join("|")})$`).test(String(t))}ObjectElement(e){const t=Qi.prototype.ObjectElement.call(this,e);return this.element.filter(L).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(tr).forEach((r,i)=>{const n=E(i);this.fieldPatternPredicate(g(n))&&r.setMetaProperty("http-status-code",n)}),t}};class Xl extends m(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Response"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return L(this.element)?this.element.setMetaProperty("referenced-element","response"):tr(this.element)&&this.element.setMetaProperty("http-status-code","default"),t}}let Kl=class extends m(F,p){constructor(e){super(e),this.element=new bt,this.specPath=P(["document","objects","Operation"])}},Gl=class extends p{constructor(e){super(e),this.element=new Xr}ArrayElement(e){return this.element=this.element.concat(E(e)),C}},Xn=class extends m(ee,p){constructor(e){super(e),this.element=new D,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(t=>{const r=U(t)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(r,t);L(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Zl=class extends Xn{constructor(e){super(e),this.element=new Zt}},Ql=class extends de{constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return L(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),t}};class Yl extends m(A,p){constructor(t){super(t);l(this,"specPath");this.element=new Kr,this.specPath=r=>U(r)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(t){const r=A.prototype.ObjectElement.call(this,t);return this.element.filter(L).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),r}}class _l extends m(ee,p){constructor(e){super(e),this.element=new Qt}ArrayElement(e){return e.forEach(t=>{const r=q(t)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}}let eu=class extends Fi{constructor(e){super(e),this.element=new Yt}},tu=class extends m(F,p){constructor(e){super(e),this.element=new $t,this.specPath=P(["document","objects","PathItem"])}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(Wn).forEach((r,i)=>{const n=E(i);n.content=g(n).toUpperCase(),r.setMetaProperty("http-method",n)}),I(this.element.$ref)&&this.element.classes.push("reference-element"),t}};class su extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class ru extends Fi{constructor(e){super(e),this.element=new Gt}}class iu extends Xn{constructor(e){super(e),this.element=new Hr}}let nu=class extends m(F,p){constructor(e){super(e),this.element=new Vt,this.specPath=P(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},ou=class extends m(F,p){constructor(e){super(e),this.element=new Ws,this.specPath=P(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},cu=class extends m(F,p){constructor(e){super(e),this.element=new Hs,this.specPath=P(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class au extends m(A,p){constructor(e){super(e),this.element=new ri,this.specPath=P(["value"])}}class lu extends m(ee,p){constructor(e){super(e),this.element=new Cr}ArrayElement(e){return e.forEach(t=>{const r=ha(t)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(r,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}}const{fixedFields:z}=ge.visitors.document.objects.JSONSchema,c={visitors:{value:p,document:{objects:{OpenApi:{$visitor:pa,fixedFields:{openapi:ma,info:{$ref:"#/visitors/document/objects/Info"},servers:Fi,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:el,tags:lu,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:va,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:ga}},Contact:{$visitor:ya,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:xa,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:Sa,fixedFields:{url:Oa,description:{$ref:"#/visitors/value"},variables:Pa}},ServerVariable:{$visitor:wa,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:tl,fixedFields:{schemas:Sl,responses:Ol,parameters:wl,examples:Pl,requestBodies:Rl,headers:Vl,securitySchemes:Al,links:Fl,callbacks:Ml}},Paths:{$visitor:ql},PathItem:{$visitor:tu,fixedFields:{$ref:su,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:ru,parameters:iu}},Operation:{$visitor:Kl,fixedFields:{tags:Gl,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:Zl,requestBody:Ql,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:Yl,deprecated:{$ref:"#/visitors/value"},security:_l,servers:eu}},ExternalDocumentation:{$visitor:kl,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:nl,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:ol,example:{$ref:"#/visitors/value"},examples:jl,content:El}},RequestBody:{$visitor:Ll,fixedFields:{description:{$ref:"#/visitors/value"},content:Nl,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:Ra,fixedFields:{schema:Za,example:{$ref:"#/visitors/value"},examples:Qa,encoding:Ya}},Encoding:{$visitor:Tl,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:Dl,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:zl,fixedFields:{default:Xl}},Response:{$visitor:Ul,fixedFields:{description:{$ref:"#/visitors/value"},headers:Jl,content:Hl,links:Wl}},Callback:{$visitor:Bl},Example:{$visitor:Il,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:Cl}},Link:{$visitor:ba,fixedFields:{operationRef:$a,operationId:ja,parameters:Ea,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:cl,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:al,example:{$ref:"#/visitors/value"},examples:ll,content:ul}},Tag:{$visitor:sl,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:rl,fixedFields:{$ref:il}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:dl,fixedFields:{title:z.title,multipleOf:z.multipleOf,maximum:z.maximum,exclusiveMaximum:z.exclusiveMaximum,minimum:z.minimum,exclusiveMinimum:z.exclusiveMinimum,maxLength:z.maxLength,minLength:z.minLength,pattern:z.pattern,maxItems:z.maxItems,minItems:z.minItems,uniqueItems:z.uniqueItems,maxProperties:z.maxProperties,minProperties:z.minProperties,required:z.required,enum:z.enum,type:yl,allOf:hl,anyOf:pl,oneOf:ml,not:Zi,items:fl,properties:vl,additionalProperties:Zi,description:z.description,format:z.format,default:z.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:xl,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:bl}},XML:{$visitor:$l,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:nu,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:ou,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:cu,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:au}},SecurityRequirement:{$visitor:_a}},extension:{$visitor:fa}}}},uu=()=>{const s=Ls(aa);return{predicates:{...Ga,isElement:X,isStringElement:I,isArrayElement:ae,isObjectElement:q,isMemberElement:je,includesClasses:Oi,hasElementSourceMap:ct},namespace:s}},du=(s,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const r=gi(s),i=Bs(c),n=oe(e,i),o=new n({specObj:i});return ie(r,o),lt(o.element,t,{toolboxCreator:uu,visitorOptions:{keyMap:ua,nodeTypeGetter:la}})},T=s=>(e,t={})=>du(e,{specPath:s,...t});ut.refract=T(["visitors","document","objects","Callback","$visitor"]);dt.refract=T(["visitors","document","objects","Components","$visitor"]);ht.refract=T(["visitors","document","objects","Contact","$visitor"]);pt.refract=T(["visitors","document","objects","Example","$visitor"]);Us.refract=T(["visitors","document","objects","Discriminator","$visitor"]);Js.refract=T(["visitors","document","objects","Encoding","$visitor"]);mt.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);Ne.refract=T(["visitors","document","objects","Header","$visitor"]);ft.refract=T(["visitors","document","objects","Info","$visitor"]);vt.refract=T(["visitors","document","objects","License","$visitor"]);gt.refract=T(["visitors","document","objects","Link","$visitor"]);yt.refract=T(["visitors","document","objects","MediaType","$visitor"]);Hs.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);Ws.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);xt.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);zs.refract=T(["visitors","document","objects","OpenApi","$visitor"]);bt.refract=T(["visitors","document","objects","Operation","$visitor"]);Be.refract=T(["visitors","document","objects","Parameter","$visitor"]);$t.refract=T(["visitors","document","objects","PathItem","$visitor"]);jt.refract=T(["visitors","document","objects","Paths","$visitor"]);Et.refract=T(["visitors","document","objects","Reference","$visitor"]);St.refract=T(["visitors","document","objects","RequestBody","$visitor"]);Ot.refract=T(["visitors","document","objects","Response","$visitor"]);wt.refract=T(["visitors","document","objects","Responses","$visitor"]);Ys.refract=T(["visitors","document","objects","Schema","$visitor"]);Rt.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);Vt.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);At.refract=T(["visitors","document","objects","Server","$visitor"]);Ft.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);_s.refract=T(["visitors","document","objects","Tag","$visitor"]);er.refract=T(["visitors","document","objects","XML","$visitor"]);class ir extends ut{}class nr extends dt{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class or extends ht{}class Ci extends Us{}class ki extends Js{}class cr extends pt{}class ar extends mt{}class lr extends Ne{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class ur extends ft{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const Cs=class Cs extends he{constructor(e,t,r){super(e,t,r),this.element="jsonSchemaDialect"}};l(Cs,"default",new Cs("https://spec.openapis.org/oas/3.1/dialect/base"));let Oe=Cs;class dr extends vt{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class hr extends gt{}class pr extends yt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Ti extends Hs{}class Di extends Ws{}class qi extends xt{}class mr extends y{constructor(e,t,r){super(e,t,r),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class Mt extends bt{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class fr extends Be{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Te extends $t{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class vr extends jt{}class Pe extends Et{}Object.defineProperty(Pe.prototype,"description",{get(){return this.get("description")},set(s){this.set("description",s)},enumerable:!0});Object.defineProperty(Pe.prototype,"summary",{get(){return this.get("summary")},set(s){this.set("summary",s)},enumerable:!0});class gr extends St{}class yr extends Ot{}class xr extends wt{}class Je extends y{constructor(e,t,r){super(e,t,r),this.element="schema"}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class br extends Rt{}class $r extends Vt{}class jr extends At{}class Er extends Ft{}class Li extends _s{}class Ni extends er{}const Kn={namespace:s=>{const{base:e}=s;return e.register("callback",ir),e.register("components",nr),e.register("contact",or),e.register("discriminator",Ci),e.register("encoding",ki),e.register("example",cr),e.register("externalDocumentation",ar),e.register("header",lr),e.register("info",ur),e.register("jsonSchemaDialect",Oe),e.register("license",dr),e.register("link",hr),e.register("mediaType",pr),e.register("oAuthFlow",Ti),e.register("oAuthFlows",Di),e.register("openapi",qi),e.register("openApi3_1",mr),e.register("operation",Mt),e.register("parameter",fr),e.register("pathItem",Te),e.register("paths",vr),e.register("reference",Pe),e.register("requestBody",gr),e.register("response",yr),e.register("responses",xr),e.register("schema",Je),e.register("securityRequirement",br),e.register("securityScheme",$r),e.register("server",jr),e.register("serverVariable",Er),e.register("tag",Li),e.register("xml",Ni),e}},ks=class ks extends y{constructor(e,t,r){super(e,t,r),this.classes.push(ks.primaryClass)}};l(ks,"primaryClass","components-path-items");let ci=ks;const Ts=class Ts extends y{constructor(e,t,r){super(e,t,r),this.classes.push(Ts.primaryClass)}};l(Ts,"primaryClass","webhooks");let ai=Ts;const Ke=s=>{if(X(s))return`${s.element.charAt(0).toUpperCase()+s.element.slice(1)}Element`},Ge={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Le},Am=()=>({predicates:s})=>{const e=(r,i)=>!s.isParameterElement(r)||!s.isParameterElement(i)||!s.isStringElement(r.name)||!s.isStringElement(r.in)||!s.isStringElement(i.name)||!s.isStringElement(i.in)?!1:g(r.name)===g(i.name)&&g(r.in)===g(i.in),t=[];return{visitor:{PathItemElement:{enter(r,i,n,o,a){if(a.some(s.isComponentsElement))return;const{parameters:u}=r;s.isArrayElement(u)?t.push([...u.content]):t.push([])},leave(){t.pop()}},OperationElement:{leave(r){const i=Ds(t);if(!Array.isArray(i)||i.length===0)return;const n=cn([],["parameters","content"],r),o=xo(e,[...n,...i]);r.parameters=new Zt(o)}}}}},Fm=()=>({predicates:s})=>{let e;return{visitor:{OpenApi3_1Element:{enter(t){s.isArrayElement(t.security)&&(e=t.security)},leave(){e=void 0}},OperationElement:{leave(t,r,i,n,o){if(o.some(s.isComponentsElement))return;if(typeof t.security>"u"&&typeof e<"u"){var v;t.security=new Qt((v=e)===null||v===void 0?void 0:v.content)}}}}}},Mm=()=>({predicates:s,namespace:e})=>({visitor:{OpenApi3_1Element(t){const r=typeof t.servers>"u",i=s.isArrayElement(t.servers),n=i&&t.servers.length===0,o=e.elements.Server.refract({url:"/"});r||!i?t.servers=new tt([o]):i&&n&&t.servers.push(o)},PathItemElement(t,r,i,n,o){if(o.some(s.isComponentsElement)||!o.some(s.isOpenApi3_1Element))return;const a=o.find(s.isOpenApi3_1Element),u=typeof t.servers>"u",v=s.isArrayElement(t.servers),S=v&&t.servers.length===0;if(s.isOpenApi3_1Element(a)){var j;const O=(j=a.servers)===null||j===void 0?void 0:j.content,V=O??[];u||!v?t.servers=new Gt(V):v&&S&&V.forEach(M=>{t.servers.push(M)})}},OperationElement(t,r,i,n,o){if(o.some(s.isComponentsElement)||!o.some(s.isOpenApi3_1Element))return;const a=[...o].reverse().find(s.isPathItemElement),u=typeof t.servers>"u",v=s.isArrayElement(t.servers),S=v&&t.servers.length===0;if(s.isPathItemElement(a)){var j;const O=(j=a.servers)===null||j===void 0?void 0:j.content,V=O??[];u||!v?t.servers=new Yt(V):v&&S&&V.forEach(M=>{t.servers.push(M)})}}}}),li=s=>s.replace(/\s/g,""),ui=s=>s.replace(/\W/gi,"_"),hu=(s,e)=>{const t=ui(li(e.toLowerCase())),r=ui(li(s));return`${t}${r}`},pu=(s,e,t)=>{const r=li(s);return r.length>0?ui(r):hu(e,t)},Im=({operationIdNormalizer:s=pu}={})=>({predicates:e,namespace:t})=>{const r=[],i=[],n=[];return{visitor:{OpenApi3_1Element:{leave(){const o=bo(a=>g(a.operationId),i);Object.entries(o).forEach(([a,u])=>{Array.isArray(u)&&(u.length<=1||u.forEach((v,S)=>{const j=`${a}${S+1}`;v.operationId=new t.elements.String(j)}))}),n.forEach(a=>{if(typeof a.operationId>"u")return;const u=String(g(a.operationId)),v=i.find(S=>g(S.meta.get("originalOperationId"))===u);typeof v>"u"||(a.operationId=E.safe(v.operationId),a.meta.set("originalOperationId",u),a.set("__originalOperationId",u))}),i.length=0,n.length=0}},PathItemElement:{enter(o){const a=qt("path",g(o.meta.get("path")));r.push(a)},leave(){r.pop()}},OperationElement:{enter(o){if(typeof o.operationId>"u")return;const a=String(g(o.operationId)),u=Ds(r),v=qt("method",g(o.meta.get("http-method"))),S=s(a,u,v);a!==S&&(o.operationId=new t.elements.String(S),o.set("__originalOperationId",a),o.meta.set("originalOperationId",a),i.push(o))}},LinkElement:{leave(o){e.isLinkElement(o)&&(typeof o.operationId>"u"||n.push(o))}}}}},Cm=()=>({predicates:s})=>({visitor:{ParameterElement:{leave(e,t,r,i,n){var o,a;if(!n.some(s.isComponentsElement)&&!(typeof e.schema>"u"||!s.isSchemaElement(e.schema))&&!(typeof((o=e.schema)===null||o===void 0?void 0:o.example)>"u"&&typeof((a=e.schema)===null||a===void 0?void 0:a.examples)>"u")){if(typeof e.examples<"u"&&s.isObjectElement(e.examples)){const u=e.examples.map(v=>E.safe(v.value));typeof e.schema.examples<"u"&&e.schema.set("examples",u),typeof e.schema.example<"u"&&e.schema.set("example",u);return}typeof e.example<"u"&&(typeof e.schema.examples<"u"&&e.schema.set("examples",[E(e.example)]),typeof e.schema.example<"u"&&e.schema.set("example",E(e.example)))}}}}}),km=()=>({predicates:s})=>({visitor:{HeaderElement:{leave(e,t,r,i,n){var o,a;if(!n.some(s.isComponentsElement)&&!(typeof e.schema>"u"||!s.isSchemaElement(e.schema))&&!(typeof((o=e.schema)===null||o===void 0?void 0:o.example)>"u"&&typeof((a=e.schema)===null||a===void 0?void 0:a.examples)>"u")){if(typeof e.examples<"u"&&s.isObjectElement(e.examples)){const u=e.examples.map(v=>E.safe(v.value));typeof e.schema.examples<"u"&&e.schema.set("examples",u),typeof e.schema.example<"u"&&e.schema.set("example",u);return}typeof e.example<"u"&&(typeof e.schema.examples<"u"&&e.schema.set("examples",[E(e.example)]),typeof e.schema.example<"u"&&e.schema.set("example",E(e.example)))}}}}}),mu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ir||s(r)&&e("callback",r)&&t("object",r)),fu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof nr||s(r)&&e("components",r)&&t("object",r)),vu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof or||s(r)&&e("contact",r)&&t("object",r)),gu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof cr||s(r)&&e("example",r)&&t("object",r)),yu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ar||s(r)&&e("externalDocumentation",r)&&t("object",r)),xu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof lr||s(r)&&e("header",r)&&t("object",r)),bu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof ur||s(r)&&e("info",r)&&t("object",r)),Gn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Oe||s(r)&&e("jsonSchemaDialect",r)&&t("string",r)),$u=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof dr||s(r)&&e("license",r)&&t("object",r)),ju=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof hr||s(r)&&e("link",r)&&t("object",r)),Eu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof qi||s(r)&&e("openapi",r)&&t("string",r)),Zn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t,hasClass:r})=>i=>i instanceof mr||s(i)&&e("openApi3_1",i)&&t("object",i)&&r("api",i)),Qn=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Mt||s(r)&&e("operation",r)&&t("object",r)),Su=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof fr||s(r)&&e("parameter",r)&&t("object",r)),st=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Te||s(r)&&e("pathItem",r)&&t("object",r)),Ou=s=>{if(!st(s)||!I(s.$ref))return!1;const e=g(s.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},wu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof vr||s(r)&&e("paths",r)&&t("object",r)),He=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Pe||s(r)&&e("reference",r)&&t("object",r)),Pu=s=>{if(!He(s)||!I(s.$ref))return!1;const e=g(s.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Ru=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof gr||s(r)&&e("requestBody",r)&&t("object",r)),Vu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof yr||s(r)&&e("response",r)&&t("object",r)),Au=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof xr||s(r)&&e("responses",r)&&t("object",r)),De=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Je||s(r)&&e("schema",r)&&t("object",r)),Yn=s=>ot(s)&&s.classes.includes("boolean-json-schema"),Fu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof br||s(r)&&e("securityRequirement",r)&&t("object",r)),Mu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof $r||s(r)&&e("securityScheme",r)&&t("object",r)),Iu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof jr||s(r)&&e("server",r)&&t("object",r)),Cu=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof Er||s(r)&&e("serverVariable",r)&&t("object",r)),ku=b(({hasBasicElementProps:s,isElementType:e,primitiveEq:t})=>r=>r instanceof pr||s(r)&&e("mediaType",r)&&t("object",r)),Tu=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Yn,isCallbackElement:mu,isComponentsElement:fu,isContactElement:vu,isExampleElement:gu,isExternalDocumentationElement:yu,isHeaderElement:xu,isInfoElement:bu,isJsonSchemaDialectElement:Gn,isLicenseElement:$u,isLinkElement:ju,isMediaTypeElement:ku,isOpenApi3_1Element:Zn,isOpenapiElement:Eu,isOperationElement:Qn,isParameterElement:Su,isPathItemElement:st,isPathItemElementExternal:Ou,isPathsElement:wu,isReferenceElement:He,isReferenceElementExternal:Pu,isRequestBodyElement:Ru,isResponseElement:Vu,isResponsesElement:Au,isSchemaElement:De,isSecurityRequirementElement:Fu,isSecuritySchemeElement:Mu,isServerElement:Iu,isServerVariableElement:Cu},Symbol.toStringTag,{value:"Module"})),Du=()=>{const s=Ls(Kn);return{predicates:{...Tu,isElement:X,isStringElement:I,isArrayElement:ae,isObjectElement:q,isMemberElement:je,isServersElement:zn,includesClasses:Oi,hasElementSourceMap:ct},namespace:s}};class qu extends m(F,p){constructor(e){super(e),this.element=new mr,this.specPath=P(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,F.prototype.ObjectElement.call(this,e)}}const{visitors:{document:{objects:{Info:{$visitor:Lu}}}}}=c;class Nu extends Lu{constructor(e){super(e),this.element=new ur}}const{visitors:{document:{objects:{Contact:{$visitor:Bu}}}}}=c;class Uu extends Bu{constructor(e){super(e),this.element=new or}}const{visitors:{document:{objects:{License:{$visitor:Ju}}}}}=c;class Hu extends Ju{constructor(e){super(e),this.element=new dr}}const{visitors:{document:{objects:{Link:{$visitor:Wu}}}}}=c;class zu extends Wu{constructor(e){super(e),this.element=new hr}}class Xu extends m(ee,p){StringElement(e){const t=new Oe(g(e));return this.copyMetaAndAttributes(e,t),this.element=t,C}}const{visitors:{document:{objects:{Server:{$visitor:Ku}}}}}=c;class Gu extends Ku{constructor(e){super(e),this.element=new jr}}const{visitors:{document:{objects:{ServerVariable:{$visitor:Zu}}}}}=c;class Qu extends Zu{constructor(e){super(e),this.element=new Er}}const{visitors:{document:{objects:{MediaType:{$visitor:Yu}}}}}=c;class _u extends Yu{constructor(e){super(e),this.element=new pr}}const{visitors:{document:{objects:{SecurityRequirement:{$visitor:ed}}}}}=c;class td extends ed{constructor(e){super(e),this.element=new br}}const{visitors:{document:{objects:{Components:{$visitor:sd}}}}}=c;class rd extends sd{constructor(e){super(e),this.element=new nr}}const{visitors:{document:{objects:{Tag:{$visitor:id}}}}}=c;class nd extends id{constructor(e){super(e),this.element=new Li}}const{visitors:{document:{objects:{Reference:{$visitor:od}}}}}=c;class cd extends od{constructor(e){super(e),this.element=new Pe}}const{visitors:{document:{objects:{Parameter:{$visitor:ad}}}}}=c;class ld extends ad{constructor(e){super(e),this.element=new fr}}const{visitors:{document:{objects:{Header:{$visitor:ud}}}}}=c;class dd extends ud{constructor(e){super(e),this.element=new lr}}class ye{constructor({parent:e}){l(this,"parent");this.parent=e}}class hd extends m(F,ye,p){constructor(e){super(e),this.element=new Je,this.specPath=P(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=Oe.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handle$schema(e),this.handle$id(e),this.parent=this.element;const t=F.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),t}BooleanElement(e){const t=super.enter(e);return this.element.classes.push("boolean-json-schema"),t}getJsonSchemaDialect(){let e;return this.openApiSemanticElement!==void 0&&Gn(this.openApiSemanticElement.jsonSchemaDialect)?e=g(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&I(this.openApiGenericElement.get("jsonSchemaDialect"))?e=g(this.openApiGenericElement.get("jsonSchemaDialect")):e=g(this.jsonSchemaDefaultDialect),e}handle$schema(e){if(we(this.parent)&&!I(e.get("$schema")))this.element.setMetaProperty("inherited$schema",this.getJsonSchemaDialect());else if(De(this.parent)&&!I(e.get("$schema"))){const t=qt(g(this.parent.meta.get("inherited$schema")),g(this.parent.$schema));this.element.setMetaProperty("inherited$schema",t)}}handle$id(e){const t=this.parent!==void 0?E(this.parent.getMetaProperty("inherited$id",[])):new D,r=g(e.get("$id"));hi(r)&&t.push(r),this.element.setMetaProperty("inherited$id",t)}}class pd extends p{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),t}}class md extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class fd extends m(A,ye,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-$defs"),this.specPath=P(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class vd extends m(ee,ye,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const r=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(r)}else{const r=E(t);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),C}}class gd extends m(ee,ye,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const r=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(r)}else{const r=E(t);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),C}}class yd extends m(ee,ye,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const r=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(r)}else{const r=E(t);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),C}}class xd extends m(A,ye,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=P(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class bd extends m(ee,ye,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-prefixItems"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const r=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(r)}else{const r=E(t);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),C}}class $d extends m(A,ye,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=P(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class jd extends m(A,ye,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=P(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class Ed extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}}class Sd extends p{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-enum"),t}}class Od extends p{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),t}}class wd extends p{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-examples"),t}}const{visitors:{document:{objects:{Discriminator:{$visitor:Pd}}}}}=c;class Rd extends Pd{constructor(e){super(e),this.element=new Ci,this.canSupportSpecificationExtensions=!0}}const{visitors:{document:{objects:{XML:{$visitor:Vd}}}}}=c;class Ad extends Vd{constructor(e){super(e),this.element=new Ni}}class Fd extends m(A,p){constructor(e){super(e),this.element=new Kt,this.specPath=P(["document","objects","Schema"])}}class Md extends m(A,p){constructor(e){super(e),this.element=new ci,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),t}}const{visitors:{document:{objects:{Example:{$visitor:Id}}}}}=c;class Cd extends Id{constructor(e){super(e),this.element=new cr}}const{visitors:{document:{objects:{ExternalDocumentation:{$visitor:kd}}}}}=c;class Td extends kd{constructor(e){super(e),this.element=new ar}}const{visitors:{document:{objects:{Encoding:{$visitor:Dd}}}}}=c;class qd extends Dd{constructor(e){super(e),this.element=new ki}}const{visitors:{document:{objects:{Paths:{$visitor:Ld}}}}}=c;class Nd extends Ld{constructor(e){super(e),this.element=new vr}}const{visitors:{document:{objects:{RequestBody:{$visitor:Bd}}}}}=c;class Ud extends Bd{constructor(e){super(e),this.element=new gr}}const{visitors:{document:{objects:{Callback:{$visitor:Yi}}}}}=c;class Jd extends Yi{constructor(e){super(e),this.element=new ir,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=Yi.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),t}}const{visitors:{document:{objects:{Response:{$visitor:Hd}}}}}=c;class Wd extends Hd{constructor(e){super(e),this.element=new yr}}const{visitors:{document:{objects:{Responses:{$visitor:zd}}}}}=c;class Xd extends zd{constructor(e){super(e),this.element=new xr}}const{visitors:{document:{objects:{Operation:{$visitor:Kd}}}}}=c;class Gd extends Kd{constructor(e){super(e),this.element=new Mt}}const{visitors:{document:{objects:{PathItem:{$visitor:Zd}}}}}=c;class Qd extends Zd{constructor(e){super(e),this.element=new Te}}const{visitors:{document:{objects:{SecurityScheme:{$visitor:Yd}}}}}=c;class _d extends Yd{constructor(e){super(e),this.element=new $r}}const{visitors:{document:{objects:{OAuthFlows:{$visitor:eh}}}}}=c;class th extends eh{constructor(e){super(e),this.element=new Di}}const{visitors:{document:{objects:{OAuthFlow:{$visitor:sh}}}}}=c;class rh extends sh{constructor(e){super(e),this.element=new Ti}}class ih extends m(A,p){constructor(e){super(e),this.element=new ai,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=A.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),this.element.filter(st).forEach((r,i)=>{r.setMetaProperty("webhook-name",g(i))}),t}}const nh={visitors:{value:c.visitors.value,document:{objects:{OpenApi:{$visitor:qu,fixedFields:{openapi:c.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Xu,servers:c.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:ih,components:{$ref:"#/visitors/document/objects/Components"},security:c.visitors.document.objects.OpenApi.fixedFields.security,tags:c.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Nu,fixedFields:{title:c.visitors.document.objects.Info.fixedFields.title,description:c.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:c.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:c.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:Uu,fixedFields:{name:c.visitors.document.objects.Contact.fixedFields.name,url:c.visitors.document.objects.Contact.fixedFields.url,email:c.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:Hu,fixedFields:{name:c.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:c.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:Gu,fixedFields:{url:c.visitors.document.objects.Server.fixedFields.url,description:c.visitors.document.objects.Server.fixedFields.description,variables:c.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:Qu,fixedFields:{enum:c.visitors.document.objects.ServerVariable.fixedFields.enum,default:c.visitors.document.objects.ServerVariable.fixedFields.default,description:c.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:rd,fixedFields:{schemas:Fd,responses:c.visitors.document.objects.Components.fixedFields.responses,parameters:c.visitors.document.objects.Components.fixedFields.parameters,examples:c.visitors.document.objects.Components.fixedFields.examples,requestBodies:c.visitors.document.objects.Components.fixedFields.requestBodies,headers:c.visitors.document.objects.Components.fixedFields.headers,securitySchemes:c.visitors.document.objects.Components.fixedFields.securitySchemes,links:c.visitors.document.objects.Components.fixedFields.links,callbacks:c.visitors.document.objects.Components.fixedFields.callbacks,pathItems:Md}},Paths:{$visitor:Nd},PathItem:{$visitor:Qd,fixedFields:{$ref:c.visitors.document.objects.PathItem.fixedFields.$ref,summary:c.visitors.document.objects.PathItem.fixedFields.summary,description:c.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:c.visitors.document.objects.PathItem.fixedFields.servers,parameters:c.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:Gd,fixedFields:{tags:c.visitors.document.objects.Operation.fixedFields.tags,summary:c.visitors.document.objects.Operation.fixedFields.summary,description:c.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:c.visitors.document.objects.Operation.fixedFields.operationId,parameters:c.visitors.document.objects.Operation.fixedFields.parameters,requestBody:c.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:c.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:c.visitors.document.objects.Operation.fixedFields.deprecated,security:c.visitors.document.objects.Operation.fixedFields.security,servers:c.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:Td,fixedFields:{description:c.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:c.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:ld,fixedFields:{name:c.visitors.document.objects.Parameter.fixedFields.name,in:c.visitors.document.objects.Parameter.fixedFields.in,description:c.visitors.document.objects.Parameter.fixedFields.description,required:c.visitors.document.objects.Parameter.fixedFields.required,deprecated:c.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Parameter.fixedFields.style,explode:c.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:c.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Parameter.fixedFields.example,examples:c.visitors.document.objects.Parameter.fixedFields.examples,content:c.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:Ud,fixedFields:{description:c.visitors.document.objects.RequestBody.fixedFields.description,content:c.visitors.document.objects.RequestBody.fixedFields.content,required:c.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:_u,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.MediaType.fixedFields.example,examples:c.visitors.document.objects.MediaType.fixedFields.examples,encoding:c.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:qd,fixedFields:{contentType:c.visitors.document.objects.Encoding.fixedFields.contentType,headers:c.visitors.document.objects.Encoding.fixedFields.headers,style:c.visitors.document.objects.Encoding.fixedFields.style,explode:c.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:c.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:Xd,fixedFields:{default:c.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:Wd,fixedFields:{description:c.visitors.document.objects.Response.fixedFields.description,headers:c.visitors.document.objects.Response.fixedFields.headers,content:c.visitors.document.objects.Response.fixedFields.content,links:c.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:Jd},Example:{$visitor:Cd,fixedFields:{summary:c.visitors.document.objects.Example.fixedFields.summary,description:c.visitors.document.objects.Example.fixedFields.description,value:c.visitors.document.objects.Example.fixedFields.value,externalValue:c.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:zu,fixedFields:{operationRef:c.visitors.document.objects.Link.fixedFields.operationRef,operationId:c.visitors.document.objects.Link.fixedFields.operationId,parameters:c.visitors.document.objects.Link.fixedFields.parameters,requestBody:c.visitors.document.objects.Link.fixedFields.requestBody,description:c.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:dd,fixedFields:{description:c.visitors.document.objects.Header.fixedFields.description,required:c.visitors.document.objects.Header.fixedFields.required,deprecated:c.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Header.fixedFields.style,explode:c.visitors.document.objects.Header.fixedFields.explode,allowReserved:c.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Header.fixedFields.example,examples:c.visitors.document.objects.Header.fixedFields.examples,content:c.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:nd,fixedFields:{name:c.visitors.document.objects.Tag.fixedFields.name,description:c.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:cd,fixedFields:{$ref:c.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Schema:{$visitor:hd,fixedFields:{$schema:{$ref:"#/visitors/value"},$vocabulary:pd,$id:{$ref:"#/visitors/value"},$anchor:{$ref:"#/visitors/value"},$dynamicAnchor:{$ref:"#/visitors/value"},$dynamicRef:{$ref:"#/visitors/value"},$ref:md,$defs:fd,$comment:{$ref:"#/visitors/value"},allOf:vd,anyOf:gd,oneOf:yd,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:xd,prefixItems:bd,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:$d,patternProperties:jd,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},type:Ed,enum:Sd,const:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxContains:{$ref:"#/visitors/value"},minContains:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},dependentRequired:Od,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},readOnly:{$ref:"#/visitors/value"},writeOnly:{$ref:"#/visitors/value"},examples:wd,format:{$ref:"#/visitors/value"},contentEncoding:{$ref:"#/visitors/value"},contentMediaType:{$ref:"#/visitors/value"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Rd,fixedFields:{propertyName:c.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:c.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:Ad,fixedFields:{name:c.visitors.document.objects.XML.fixedFields.name,namespace:c.visitors.document.objects.XML.fixedFields.namespace,prefix:c.visitors.document.objects.XML.fixedFields.prefix,attribute:c.visitors.document.objects.XML.fixedFields.attribute,wrapped:c.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:_d,fixedFields:{type:c.visitors.document.objects.SecurityScheme.fixedFields.type,description:c.visitors.document.objects.SecurityScheme.fixedFields.description,name:c.visitors.document.objects.SecurityScheme.fixedFields.name,in:c.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:c.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:c.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:c.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:th,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:rh,fixedFields:{authorizationUrl:c.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:c.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:c.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:c.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:td}},extension:{$visitor:c.visitors.document.extension.$visitor}}}},oh=(s,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const r=gi(s),i=Bs(nh),n=oe(e,i),o=new n({specObj:i});return ie(r,o),lt(o.element,t,{toolboxCreator:Du,visitorOptions:{keyMap:Ge,nodeTypeGetter:Ke}})},k=s=>(e,t={})=>oh(e,{specPath:s,...t});ir.refract=k(["visitors","document","objects","Callback","$visitor"]);nr.refract=k(["visitors","document","objects","Components","$visitor"]);or.refract=k(["visitors","document","objects","Contact","$visitor"]);cr.refract=k(["visitors","document","objects","Example","$visitor"]);Ci.refract=k(["visitors","document","objects","Discriminator","$visitor"]);ki.refract=k(["visitors","document","objects","Encoding","$visitor"]);ar.refract=k(["visitors","document","objects","ExternalDocumentation","$visitor"]);lr.refract=k(["visitors","document","objects","Header","$visitor"]);ur.refract=k(["visitors","document","objects","Info","$visitor"]);Oe.refract=k(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);dr.refract=k(["visitors","document","objects","License","$visitor"]);hr.refract=k(["visitors","document","objects","Link","$visitor"]);pr.refract=k(["visitors","document","objects","MediaType","$visitor"]);Ti.refract=k(["visitors","document","objects","OAuthFlow","$visitor"]);Di.refract=k(["visitors","document","objects","OAuthFlows","$visitor"]);qi.refract=k(["visitors","document","objects","OpenApi","fixedFields","openapi"]);mr.refract=k(["visitors","document","objects","OpenApi","$visitor"]);Mt.refract=k(["visitors","document","objects","Operation","$visitor"]);fr.refract=k(["visitors","document","objects","Parameter","$visitor"]);Te.refract=k(["visitors","document","objects","PathItem","$visitor"]);vr.refract=k(["visitors","document","objects","Paths","$visitor"]);Pe.refract=k(["visitors","document","objects","Reference","$visitor"]);gr.refract=k(["visitors","document","objects","RequestBody","$visitor"]);yr.refract=k(["visitors","document","objects","Response","$visitor"]);xr.refract=k(["visitors","document","objects","Responses","$visitor"]);Je.refract=k(["visitors","document","objects","Schema","$visitor"]);br.refract=k(["visitors","document","objects","SecurityRequirement","$visitor"]);$r.refract=k(["visitors","document","objects","SecurityScheme","$visitor"]);jr.refract=k(["visitors","document","objects","Server","$visitor"]);Er.refract=k(["visitors","document","objects","ServerVariable","$visitor"]);Li.refract=k(["visitors","document","objects","Tag","$visitor"]);Ni.refract=k(["visitors","document","objects","XML","$visitor"]);class Tm extends vc{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const t=unescape(encodeURIComponent(e.toString())),r=btoa(t),i=new Ce;if(r.length!==0){const n=new he(r);n.classes.push("result"),i.push(n)}return i}catch(t){throw new Sc(`Error parsing "${e.uri}"`,{cause:t})}}}class Dm extends yc{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,t){const r=t.dereference.strategies.find(i=>i.name==="openapi-3-1");return r===void 0?!1:r.canDereference(e,t)}async resolve(e,t){const r=t.dereference.strategies.find(o=>o.name==="openapi-3-1");if(r===void 0)throw new Ln('"openapi-3-1" dereference strategy is not available.');const i=new Fr,n=gn(t,{resolve:{internal:!1},dereference:{refSet:i}});return await r.dereference(e,n),i}}const Bi=s=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(s),_t=s=>{const e=vn(s);return di("#",e)},ch=s=>{if(!Bi(s))throw new jc(s);return s},_n=(s,e)=>{const t=ch(s),r=kn(i=>De(i)&&g(i.$anchor)===t,e);if(we(r))throw new bc(`Evaluation failed on token: "${t}"`);return r},ah=(s,e)=>{if(typeof e.$ref>"u")return;const t=vn(g(e.$ref)),r=g(e.meta.get("inherited$id"));return`${hn((n,o)=>We(n,qs(K(o))),s,[...r,g(e.$ref)])}${t==="#"?"":t}`},lh=(s,e)=>{if(typeof e.$id>"u")return;const t=g(e.meta.get("inherited$id"));return hn((r,i)=>We(r,qs(K(i))),s,[...t,g(e.$id)])},Ze=s=>{if(Ze.cache.has(s))return Ze.cache.get(s);const e=Je.refract(s);return Ze.cache.set(s,e),e};Ze.cache=new WeakMap;const xe=s=>ze(s)?Ze(s):s,Ui=(s,e)=>{const{cache:t}=Ui,r=K(s),i=u=>De(u)&&typeof u.$id<"u";if(!t.has(e)){const u=sc(i,e);t.set(e,Array.from(u))}const n=t.get(e).find(u=>lh(r,u)===r);if(we(n))throw new Bn(`Evaluation failed on URI: "${s}"`);let o,a;return Bi(_t(s))?(o=_n,a=_t(s)):(o=Fe,a=Ae(s)),o(a,n)};Ui.cache=new WeakMap;const Pr=ie[Symbol.for("nodejs.util.promisify.custom")],Z=new Cn,le=(s,e,t,r)=>{je(r)?r.value=s:Array.isArray(r)&&(r[t]=s)};class Qe{constructor({reference:e,namespace:t,options:r,indirections:i=[],ancestors:n=new Or,refractCache:o=new Map}){l(this,"indirections");l(this,"namespace");l(this,"reference");l(this,"options");l(this,"ancestors");l(this,"refractCache");this.indirections=i,this.namespace=t,this.reference=e,this.options=r,this.ancestors=new Or(...n),this.refractCache=o}toBaseURI(e){return We(this.reference.uri,qs(K(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new Ec(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const t=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(t))return r.find(pn(t,"uri"));const i=await qo(Re(t),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new Xe({uri:t,value:E(i),depth:this.reference.depth+1});if(r.add(n),this.options.dereference.immutable){const o=new Xe({uri:`immutable://${t}`,value:i,depth:this.reference.depth+1});r.add(o)}return n}toAncestorLineage(e){const t=new Set(e.filter(X));return[new Or(...this.ancestors,t),t]}async ReferenceElement(e,t,r,i,n,o){if(this.indirections.includes(e))return!1;const[a,u]=this.toAncestorLineage([...n,r]),v=this.toBaseURI(g(e.$ref)),S=K(this.reference.uri)===v,j=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&j)return!1;const O=await this.toReference(g(e.$ref)),V=We(v,g(e.$ref));this.indirections.push(e);const M=Ae(V);let h=Fe(M,O.value.result);if(h.id=Z.identify(h),ze(h)){const B=g(e.meta.get("referenced-element")),H=`${B}-${g(Z.identify(h))}`;this.refractCache.has(H)?h=this.refractCache.get(H):U(h)?(h=Pe.refract(h),h.setMetaProperty("referenced-element",B),this.refractCache.set(H,h)):(h=this.namespace.getElementClass(B).refract(h),this.refractCache.set(H,h))}if(e===h)throw new Y("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new wr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(h)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var w,x;const B=new Me(h.id,{type:"reference",uri:O.uri,$ref:g(e.$ref)}),R=((w=(x=this.options.dereference.strategyOpts["openapi-3-1"])===null||x===void 0?void 0:x.circularReplacer)!==null&&w!==void 0?w:this.options.dereference.circularReplacer)(B);return o.replaceWith(R,le),r?!1:R}}const d=K(O.refSet.rootRef.uri)!==O.uri,f=["error","replace"].includes(this.options.dereference.circular);if((j||d||He(h)||f)&&!a.includesCycle(h)){u.add(e);const B=new Qe({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});h=await Pr(h,B,{keyMap:Ge,nodeTypeGetter:Ke}),u.delete(e)}this.indirections.pop();const $=re(h);return $.setMetaProperty("id",Z.generateId()),$.setMetaProperty("ref-fields",{$ref:g(e.$ref),description:g(e.description),summary:g(e.summary)}),$.setMetaProperty("ref-origin",O.uri),$.setMetaProperty("ref-referencing-element-id",E(Z.identify(e))),q(h)&&q($)&&(e.hasKey("description")&&"description"in h&&($.remove("description"),$.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in h&&($.remove("summary"),$.set("summary",e.get("summary")))),o.replaceWith($,le),r?!1:$}async PathItemElement(e,t,r,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[a,u]=this.toAncestorLineage([...n,r]),v=this.toBaseURI(g(e.$ref)),S=K(this.reference.uri)===v,j=!S;if(!this.options.resolve.internal&&S||!this.options.resolve.external&&j)return;const O=await this.toReference(g(e.$ref)),V=We(v,g(e.$ref));this.indirections.push(e);const M=Ae(V);let h=Fe(M,O.value.result);if(h.id=Z.identify(h),ze(h)){const $=`path-item-${g(Z.identify(h))}`;this.refractCache.has($)?h=this.refractCache.get($):(h=Te.refract(h),this.refractCache.set($,h))}if(e===h)throw new Y("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new wr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(h)){if(O.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var w,x;const $=new Me(h.id,{type:"path-item",uri:O.uri,$ref:g(e.$ref)}),H=((w=(x=this.options.dereference.strategyOpts["openapi-3-1"])===null||x===void 0?void 0:x.circularReplacer)!==null&&w!==void 0?w:this.options.dereference.circularReplacer)($);return o.replaceWith(H,le),r?!1:H}}const d=K(O.refSet.rootRef.uri)!==O.uri,f=["error","replace"].includes(this.options.dereference.circular);if((j||d||st(h)&&I(h.$ref)||f)&&!a.includesCycle(h)){u.add(e);const $=new Qe({reference:O,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});h=await Pr(h,$,{keyMap:Ge,nodeTypeGetter:Ke}),u.delete(e)}if(this.indirections.pop(),st(h)){const $=new Te([...h.content],E(h.meta),E(h.attributes));$.setMetaProperty("id",Z.generateId()),e.forEach((B,H,R)=>{$.remove(g(H)),$.content.push(R)}),$.remove("$ref"),$.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),$.setMetaProperty("ref-origin",O.uri),$.setMetaProperty("ref-referencing-element-id",E(Z.identify(e))),h=$}return o.replaceWith(h,le),r?void 0:h}async LinkElement(e,t,r,i,n,o){if(!I(e.operationRef)&&!I(e.operationId))return;if(I(e.operationRef)&&I(e.operationId))throw new Y("LinkElement operationRef and operationId fields are mutually exclusive.");let a;if(I(e.operationRef)){var u;const S=Ae(g(e.operationRef)),j=this.toBaseURI(g(e.operationRef)),O=K(this.reference.uri)===j,V=!O;if(!this.options.resolve.internal&&O||!this.options.resolve.external&&V)return;const M=await this.toReference(g(e.operationRef));if(a=Fe(S,M.value.result),ze(a)){const w=`operation-${g(Z.identify(a))}`;this.refractCache.has(w)?a=this.refractCache.get(w):(a=Mt.refract(a),this.refractCache.set(w,a))}a=re(a),a.setMetaProperty("ref-origin",M.uri);const h=re(e);return(u=h.operationRef)===null||u===void 0||u.meta.set("operation",a),o.replaceWith(h,le),r?void 0:h}if(I(e.operationId)){var v;const S=g(e.operationId),j=await this.toReference(Re(this.reference.uri));if(a=kn(V=>Qn(V)&&X(V.operationId)&&V.operationId.equals(S),j.value.result),we(a))throw new Y(`OperationElement(operationId=${S}) not found.`);const O=re(e);return(v=O.operationId)===null||v===void 0||v.meta.set("operation",a),o.replaceWith(O,le),r?void 0:O}}async ExampleElement(e,t,r,i,n,o){if(!I(e.externalValue))return;if(e.hasKey("value")&&I(e.externalValue))throw new Y("ExampleElement value and externalValue fields are mutually exclusive.");const a=this.toBaseURI(g(e.externalValue)),u=K(this.reference.uri)===a,v=!u;if(!this.options.resolve.internal&&u||!this.options.resolve.external&&v)return;const S=await this.toReference(g(e.externalValue)),j=re(S.value.result);j.setMetaProperty("ref-origin",S.uri);const O=re(e);return O.value=j,o.replaceWith(O,le),r?void 0:O}async SchemaElement(e,t,r,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[a,u]=this.toAncestorLineage([...n,r]);let v=await this.toReference(Re(this.reference.uri)),{uri:S}=v;const j=ah(S,e),O=K(j),V=new Ut({uri:O}),M=$o(R=>R.canRead(V),this.options.resolve.resolvers),h=!M;let w=K(this.reference.uri)===j,x=!w;this.indirections.push(e);let d;try{if(M||h){S=this.toBaseURI(j);const R=j,N=xe(v.value.result);if(d=Ui(R,N),d=xe(d),d.id=Z.identify(d),!this.options.resolve.internal&&w||!this.options.resolve.external&&x)return}else{if(S=this.toBaseURI(j),w=K(this.reference.uri)===S,x=!w,!this.options.resolve.internal&&w||!this.options.resolve.external&&x)return;v=await this.toReference(Re(j));const R=Ae(j),N=xe(v.value.result);d=Fe(R,N),d=xe(d),d.id=Z.identify(d)}}catch(R){if(h&&R instanceof Bn)if(Bi(_t(j))){if(w=K(this.reference.uri)===S,x=!w,!this.options.resolve.internal&&w||!this.options.resolve.external&&x)return;v=await this.toReference(Re(j));const N=_t(j),J=xe(v.value.result);d=_n(N,J),d=xe(d),d.id=Z.identify(d)}else{if(S=this.toBaseURI(j),w=K(this.reference.uri)===S,x=!w,!this.options.resolve.internal&&w||!this.options.resolve.external&&x)return;v=await this.toReference(Re(j));const N=Ae(j),J=xe(v.value.result);d=Fe(N,J),d=xe(d),d.id=Z.identify(d)}else throw R}if(e===d)throw new Y("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new wr(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(a.includes(d)){if(v.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var f,$;const R=new Me(d.id,{type:"json-schema",uri:v.uri,$ref:g(e.$ref)}),J=((f=($=this.options.dereference.strategyOpts["openapi-3-1"])===null||$===void 0?void 0:$.circularReplacer)!==null&&f!==void 0?f:this.options.dereference.circularReplacer)(R);return o.replaceWith(J,le),r?!1:J}}const B=K(v.refSet.rootRef.uri)!==v.uri,H=["error","replace"].includes(this.options.dereference.circular);if((x||B||De(d)&&I(d.$ref)||H)&&!a.includesCycle(d)){u.add(e);const R=new Qe({reference:v,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:a});d=await Pr(d,R,{keyMap:Ge,nodeTypeGetter:Ke}),u.delete(e)}if(this.indirections.pop(),Yn(d)){const R=E(d);return R.setMetaProperty("id",Z.generateId()),R.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),R.setMetaProperty("ref-origin",v.uri),R.setMetaProperty("ref-referencing-element-id",E(Z.identify(e))),o.replaceWith(R,le),r?!1:R}if(De(d)){const R=new Je([...d.content],E(d.meta),E(d.attributes));R.setMetaProperty("id",Z.generateId()),e.forEach((N,J,ne)=>{R.remove(g(J)),R.content.push(ne)}),R.remove("$ref"),R.setMetaProperty("ref-fields",{$ref:g(e.$ref)}),R.setMetaProperty("ref-origin",v.uri),R.setMetaProperty("ref-referencing-element-id",E(Z.identify(e))),d=R}return o.replaceWith(d,le),r?void 0:d}}const uh=ie[Symbol.for("nodejs.util.promisify.custom")];class qm extends xc{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var t;return e.mediaType!=="text/plain"?Mc.includes(e.mediaType):Zn((t=e.parseResult)===null||t===void 0?void 0:t.result)}async dereference(e,t){var r;const i=Ls(Kn),n=(r=t.dereference.refSet)!==null&&r!==void 0?r:new Fr,o=new Fr;let a=n,u;n.has(e.uri)?u=n.find(pn(e.uri,"uri")):(u=new Xe({uri:e.uri,value:e.parseResult}),n.add(u)),t.dereference.immutable&&(n.refs.map(j=>new Xe({...j,value:E(j.value)})).forEach(j=>o.add(j)),u=o.find(j=>j.uri===e.uri),a=o);const v=new Qe({reference:u,namespace:i,options:t}),S=await uh(a.rootRef.value,v,{keyMap:Ge,nodeTypeGetter:Ke});return t.dereference.immutable&&o.refs.filter(j=>j.uri.startsWith("immutable://")).map(j=>new Xe({...j,uri:j.uri.replace(/^immutable:\/\//,"")})).forEach(j=>n.add(j)),t.dereference.refSet===null&&n.clean(),o.clean(),S}}export{_t as $,$e as A,Ae as B,Fe as C,ze as D,U as E,Pe as F,Y as G,jh as H,Cn as I,He as J,re as K,E as L,wr as M,I as N,mr as O,vc as P,Oi as Q,ko as R,Te as S,st as T,Re as U,ah as V,Ut as W,xe as X,Ui as Y,Bn as Z,Bi as _,q as a,_n as a0,Yn as a1,Je as a2,Pi as a3,qm as a4,Ls as a5,Fr as a6,Xe as a7,Kn as a8,Ao as a9,Oh as aa,Sh as ab,Dm as ac,Tm as ad,Fo as ae,bh as af,Ji as ag,Ct as ah,Am as b,Du as c,lt as d,Fm as e,Mm as f,Ke as g,Cm as h,Ro as i,km as j,Ge as k,Sc as l,Ce as m,$h as n,Fc as o,Im as p,Mc as q,We as r,g as s,je as t,ae as u,De as v,me as w,ie as x,Qe as y,K as z};
