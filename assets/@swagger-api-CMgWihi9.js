var to=Object.defineProperty;var so=(r,e,t)=>e in r?to(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>so(r,typeof e!="symbol"?e+"":e,t);import{i as en,t as ro,a as we,r as io,b as st,c as tn,d as Ye,e as sn,f as kt,g as hi,h as no,j as rn,k as pi,s as nn,l as on}from"./ramda-adjunct-D9VrpK4g.js";import{p as rt,l as ks,a as mi,t as oo,b as Dt,c as co,i as ao,d as lo,e as ce,f as uo,m as fi,o as ho,g as vi,h as cn,F as gi,j as an,T as fe,k as qt,n as po,q as ln,r as mo,s as Nt,u as un,v as fo,w as vo,x as go,y as dn,z as V,A as hn,B as yo,C as xo,D as bo,E as $o,G as pn,H as mn,I as jo}from"./ramda-34K8-z71.js";import{S as he,A as D,E as Eo,N as Pr,a as Rr,B as pe,O as y,M as it,L as Vr,R as Me,b as So,K as Ie,c as Lt,d as _e,r as yi}from"./minim-Ct-AYhfS.js";import{p as Bt}from"./process-BEf5A1Pb.js";import{a as Oo}from"./@babel-HId-Kyk9.js";import{M as f}from"./ts-mixer-DR1IXZCf.js";import{S as wo}from"./short-unique-id-Cqz3RRS7.js";class Po extends Oo{constructor(e,t,s){if(super(e,t,s),this.name=this.constructor.name,typeof t=="string"&&(this.message=t),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:i}=s;this.cause=i,i instanceof Error&&"stack"in i&&(this.stack=`${this.stack}
CAUSE: ${i.stack}`)}}}class Y extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(Po,e)}constructor(e,t){if(super(e,t),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,t!=null&&typeof t=="object"&&Object.hasOwn(t,"cause")&&!("cause"in this)){const{cause:s}=t;this.cause=s,s instanceof Error&&"stack"in s&&(this.stack=`${this.stack}
CAUSE: ${s.stack}`)}}}class je extends Y{constructor(e,t){if(super(e,t),t!=null&&typeof t=="object"){const{cause:s,...i}=t;Object.assign(this,i)}}}class Q extends Y{}class Er extends Q{}const xi=()=>mi(oo(/^win/),["platform"],Bt),bi=r=>{try{const e=new URL(r);return ro(":",e.protocol)}catch{return}};rt(bi,en);const Ro=r=>{const e=r.lastIndexOf(".");return e>=0?r.substring(e).toLowerCase():""},fn=r=>{if(Bt.browser)return!1;const e=bi(r);return we(e)||e==="file"||/^[a-zA-Z]$/.test(e)},Vo=r=>{const e=bi(r);return e==="http"||e==="https"},vn=(r,e)=>{const t=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],s=Dt(!1,"keepFileProtocol",e),i=Dt(xi,"isWindows",e);let n=decodeURI(r);for(let l=0;l<t.length;l+=2)n=n.replace(t[l],t[l+1]);let o=n.substring(0,7).toLowerCase()==="file://";return o&&(n=n[7]==="/"?n.substring(8):n.substring(7),i()&&n[1]==="/"&&(n=`${n[0]}:${n.substring(1)}`),s?n=`file:///${n}`:(o=!1,n=i()?n:`/${n}`)),i()&&!o&&(n=io("/","\\",n),n.substring(1,3)===":\\"&&(n=n[0].toUpperCase()+n.substring(1))),n},Ao=r=>{const e=[/\?/g,"%3F",/#/g,"%23"];let t=r;xi()&&(t=t.replace(/\\/g,"/")),t=encodeURI(t);for(let s=0;s<e.length;s+=2)t=t.replace(e[s],e[s+1]);return t},gn=r=>{const e=r.indexOf("#");return e!==-1?r.substring(e):"#"},K=r=>{const e=r.indexOf("#");let t=r;return e>=0&&(t=r.substring(0,e)),t},Fo=()=>{if(Bt.browser)return K(globalThis.location.href);const r=Bt.cwd(),e=ks(r);return["/","\\"].includes(e)?r:r+(xi()?"\\":"/")},ze=(r,e)=>{const t=new URL(e,new URL(r,"resolve://"));if(t.protocol==="resolve:"){const{pathname:s,search:i,hash:n}=t;return s+i+n}return t.toString()},Ds=r=>{if(fn(r))return Ao(vn(r));try{return new URL(r).toString()}catch{return encodeURI(decodeURI(r)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},Re=r=>fn(r)?vn(r):decodeURI(r);class Ut{constructor({uri:e,mediaType:t="text/plain",data:s,parseResult:i}){a(this,"uri");a(this,"mediaType");a(this,"data");a(this,"parseResult");this.uri=e,this.mediaType=t,this.data=s,this.parseResult=i}get extension(){return st(this.uri)?Ro(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(co(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class Ar{constructor({refs:e=[],circular:t=!1}={}){a(this,"rootRef");a(this,"refs");a(this,"circular");this.refs=[],this.circular=t,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const t of e.values())this.add(t);return this}has(e){const t=st(e)?e:e.uri;return en(this.find(s=>s.uri===t))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const Mo={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:ao,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},Io=lo(ce(["resolve","baseURI"]),uo(["resolve","baseURI"])),Co=r=>tn(r)?Fo():r,yn=(r,e)=>{const t=fi(r,e);return ho(Io,Co,t)};class To extends Y{constructor(t,s){super(t,{cause:s.cause});a(this,"plugin");this.plugin=s.plugin}}const $i=async(r,e,t)=>{const s=await Promise.all(t.map(Ye([r],e)));return t.filter((i,n)=>s[n])},ji=async(r,e,t)=>{let s;for(const i of t)try{const n=await i[r].call(i,...e);return{plugin:i,result:n}}catch(n){s=new To("Error while running plugin",{cause:n,plugin:i})}return Promise.reject(s)};class Fr extends Y{}class Ei extends Y{}class ko extends Ei{}class xn extends ko{}const Do=async(r,e)=>{const t=e.resolve.resolvers.map(i=>{const n=Object.create(i);return Object.assign(n,e.resolve.resolverOpts)}),s=await $i("canRead",[r,e],t);if(vi(s))throw new xn(r.uri);try{const{result:i}=await ji("read",[r],s);return i}catch(i){throw new Ei(`Error while reading file "${r.uri}"`,{cause:i})}},qo=async(r,e)=>{const t=e.parse.parsers.map(i=>{const n=Object.create(i);return Object.assign(n,e.parse.parserOpts)}),s=await $i("canParse",[r,e],t);if(vi(s))throw new xn(r.uri);try{const{plugin:i,result:n}=await ji("parse",[r,e],s);return!i.allowEmpty&&n.isEmpty?Promise.reject(new Fr(`Error while parsing file "${r.uri}". File is empty.`)):n}catch(i){throw new Fr(`Error while parsing file "${r.uri}"`,{cause:i})}},No=async(r,e)=>{const t=new Ut({uri:Ds(K(r)),mediaType:e.parse.mediaType}),s=await Do(t,e);return qo(new Ut({...t,data:s}),e)};class Jt extends he{constructor(e,t,s){super(e,t,s),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class Ht extends he{constructor(e,t,s){super(e,t,s),this.element="comment"}}class Ce extends D{constructor(e,t,s){super(e,t,s),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:t}=this;if(we(t))return!1;const s=this.content.findIndex(i=>i===t);return s===-1?!1:(this.content[s]=e,!0)}}class zt extends D{constructor(e,t,s){super(e,t,s),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const t=new D([e.start.row,e.start.column,e.start.char]),s=new D([e.end.row,e.end.column,e.end.char]);t.classes.push("position"),s.classes.push("position"),this.push(t).push(s)}}const Lo=(r,e)=>typeof e=="object"&&e!==null&&r in e&&typeof e[r]=="function",Bo=r=>typeof r=="object"&&r!=null&&"_storedElement"in r&&typeof r._storedElement=="string"&&"_content"in r,Uo=(r,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===r:!1,Jo=(r,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof D)&&e.classes.includes(r),$e=(r,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===r,E=r=>r({hasMethod:Lo,hasBasicElementProps:Bo,primitiveEq:Uo,isElementType:$e,hasClass:Jo}),X=E(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof Eo||r(t)&&e(void 0,t)),I=E(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof he||r(t)&&e("string",t)),Si=E(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof Pr||r(t)&&e("number",t)),Oi=E(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof Rr||r(t)&&e("null",t)),nt=E(({hasBasicElementProps:r,primitiveEq:e})=>t=>t instanceof pe||r(t)&&e("boolean",t)),q=E(({hasBasicElementProps:r,primitiveEq:e,hasMethod:t})=>s=>s instanceof y||r(s)&&e("object",s)&&t("keys",s)&&t("values",s)&&t("items",s)),oe=E(({hasBasicElementProps:r,primitiveEq:e,hasMethod:t})=>s=>s instanceof D&&!(s instanceof y)||r(s)&&e("array",s)&&t("push",s)&&t("unshift",s)&&t("map",s)&&t("reduce",s)),ve=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof it||r(s)&&e("member",s)&&t(void 0,s)),bn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Vr||r(s)&&e("link",s)&&t(void 0,s)),$n=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Me||r(s)&&e("ref",s)&&t(void 0,s)),Ho=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Jt||r(s)&&e("annotation",s)&&t("array",s)),zo=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ht||r(s)&&e("comment",s)&&t("string",s)),jn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ce||r(s)&&e("parseResult",s)&&t("array",s)),En=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof zt||r(s)&&e("sourceMap",s)&&t("array",s)),We=r=>$e("object",r)||$e("array",r)||$e("boolean",r)||$e("number",r)||$e("string",r)||$e("null",r)||$e("member",r),ot=r=>En(r.meta.get("sourceMap")),Wo=(r,e)=>{if(r.length===0)return!0;const t=e.attributes.get("symbols");return oe(t)?cn(sn(t.toValue()),r):!1},wi=(r,e)=>r.length===0?!0:cn(sn(e.classes.toValue()),r),Xo=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:ot,includesClasses:wi,includesSymbols:Wo,isAnnotationElement:Ho,isArrayElement:oe,isBooleanElement:nt,isCommentElement:zo,isElement:X,isLinkElement:bn,isMemberElement:ve,isNullElement:Oi,isNumberElement:Si,isObjectElement:q,isParseResultElement:jn,isPrimitiveElement:We,isRefElement:$n,isSourceMapElement:En,isStringElement:I},Symbol.toStringTag,{value:"Module"}));class Sn extends So{constructor(){super(),this.register("annotation",Jt),this.register("comment",Ht),this.register("parseResult",Ce),this.register("sourceMap",zt)}}const On=new Sn,qs=r=>{const e=new Sn;return kt(r)&&e.use(r),e},wn=()=>({predicates:{...Xo},namespace:On}),Ns=(r,e,t)=>{const s=r[e];if(s!=null){if(!t&&typeof s=="function")return s;const i=t?s.leave:s.enter;if(typeof i=="function")return i}else{const i=t?r.leave:r.enter;if(i!=null){if(typeof i=="function")return i;const n=i[e];if(typeof n=="function")return n}}return null},C={},ct=r=>r==null?void 0:r.type,Pn=r=>typeof ct(r)=="string",Pi=r=>Object.create(Object.getPrototypeOf(r),Object.getOwnPropertyDescriptors(r)),Ri=(r,{visitFnGetter:e=Ns,nodeTypeGetter:t=ct,breakSymbol:s=C,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),h=new Array(r.length).fill(l);return{enter($,x,g,j,w,R){let d=$,P=!1;const b={...R,replaceWith(u,m){R.replaceWith(u,m),d=u}};for(let u=0;u<r.length;u+=1)if(h[u]===l){const m=e(r[u],t(d),!1);if(typeof m=="function"){const S=m.call(r[u],d,x,g,j,w,b);if(typeof(S==null?void 0:S.then)=="function")throw new je("Async visitor not supported in sync mode",{visitor:r[u],visitFn:m});if(S===n)h[u]=d;else if(S===s)h[u]=s;else{if(S===i)return S;if(S!==void 0)if(o)d=S,P=!0;else return S}}}return P?d:void 0},leave($,x,g,j,w,R){let d=$;const P={...R,replaceWith(b,u){R.replaceWith(b,u),d=b}};for(let b=0;b<r.length;b+=1)if(h[b]===l){const u=e(r[b],t(d),!0);if(typeof u=="function"){const m=u.call(r[b],d,x,g,j,w,P);if(typeof(m==null?void 0:m.then)=="function")throw new je("Async visitor not supported in sync mode",{visitor:r[b],visitFn:u});if(m===s)h[b]=s;else if(m!==void 0&&m!==n)return m}}else h[b]===d&&(h[b]=l)}}},Ko=(r,{visitFnGetter:e=Ns,nodeTypeGetter:t=ct,breakSymbol:s=C,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:n=!1,exposeEdits:o=!1}={})=>{const l=Symbol("skip"),h=new Array(r.length).fill(l);return{async enter($,x,g,j,w,R){let d=$,P=!1;const b={...R,replaceWith(u,m){R.replaceWith(u,m),d=u}};for(let u=0;u<r.length;u+=1)if(h[u]===l){const m=e(r[u],t(d),!1);if(typeof m=="function"){const S=await m.call(r[u],d,x,g,j,w,b);if(S===n)h[u]=d;else if(S===s)h[u]=s;else{if(S===i)return S;if(S!==void 0)if(o)d=S,P=!0;else return S}}}return P?d:void 0},async leave($,x,g,j,w,R){let d=$;const P={...R,replaceWith(b,u){R.replaceWith(b,u),d=b}};for(let b=0;b<r.length;b+=1)if(h[b]===l){const u=e(r[b],t(d),!0);if(typeof u=="function"){const m=await u.call(r[b],d,x,g,j,w,P);if(m===s)h[b]=s;else if(m!==void 0&&m!==n)return m}}else h[b]===d&&(h[b]=l)}}};Ri[Symbol.for("nodejs.util.promisify.custom")]=Ko;const Vi=(r,e,{keyMap:t=null,state:s={},breakSymbol:i=C,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Ns,nodeTypeGetter:h=ct,nodePredicate:$=Pn,nodeCloneFn:x=Pi,detectCycles:g=!0}={})=>{const j=t||{};let w,R=Array.isArray(r),d=[r],P=-1,b,u=[],m=r;const S=[],B=[];do{P+=1;const L=P===d.length;let J;const ne=L&&u.length!==0;if(L){if(J=B.length===0?void 0:S.pop(),m=b,b=B.pop(),ne)if(R){m=m.slice();let te=0;for(const[se,_]of u){const Se=se-te;_===n?(m.splice(Se,1),te+=1):m[Se]=_}}else{m=x(m);for(const[te,se]of u)m[te]=se}P=w.index,d=w.keys,u=w.edits,R=w.inArray,w=w.prev}else if(b!==n&&b!==void 0){if(J=R?P:d[P],m=b[J],m===n||m===void 0)continue;S.push(J)}let G;if(!Array.isArray(m)){var H;if(!$(m))throw new je(`Invalid AST Node:  ${String(m)}`,{node:m});if(g&&B.includes(m)){S.pop();continue}const te=l(e,h(m),L);if(te){for(const[_,Se]of Object.entries(s))e[_]=Se;const se={replaceWith(_,Se){typeof Se=="function"?Se(_,m,J,b,S,B):b&&(b[J]=_),L||(m=_)}};G=te.call(e,m,J,b,S,B,se)}if(typeof((H=G)===null||H===void 0?void 0:H.then)=="function")throw new je("Async visitor not supported in sync mode",{visitor:e,visitFn:te});if(G===i)break;if(G===o){if(!L){S.pop();continue}}else if(G!==void 0&&(u.push([J,G]),!L))if($(G))m=G;else{S.pop();continue}}if(G===void 0&&ne&&u.push([J,m]),!L){var A;w={inArray:R,index:P,keys:d,edits:u,prev:w},R=Array.isArray(m),d=R?m:(A=j[h(m)])!==null&&A!==void 0?A:[],P=-1,u=[],b!==n&&b!==void 0&&B.push(b),b=m}}while(w!==void 0);return u.length!==0?u[u.length-1][1]:r};Vi[Symbol.for("nodejs.util.promisify.custom")]=async(r,e,{keyMap:t=null,state:s={},breakSymbol:i=C,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:l=Ns,nodeTypeGetter:h=ct,nodePredicate:$=Pn,nodeCloneFn:x=Pi,detectCycles:g=!0}={})=>{const j=t||{};let w,R=Array.isArray(r),d=[r],P=-1,b,u=[],m=r;const S=[],B=[];do{P+=1;const A=P===d.length;let L;const J=A&&u.length!==0;if(A){if(L=B.length===0?void 0:S.pop(),m=b,b=B.pop(),J)if(R){m=m.slice();let G=0;for(const[te,se]of u){const _=te-G;se===n?(m.splice(_,1),G+=1):m[_]=se}}else{m=x(m);for(const[G,te]of u)m[G]=te}P=w.index,d=w.keys,u=w.edits,R=w.inArray,w=w.prev}else if(b!==n&&b!==void 0){if(L=R?P:d[P],m=b[L],m===n||m===void 0)continue;S.push(L)}let ne;if(!Array.isArray(m)){if(!$(m))throw new je(`Invalid AST Node: ${String(m)}`,{node:m});if(g&&B.includes(m)){S.pop();continue}const G=l(e,h(m),A);if(G){for(const[se,_]of Object.entries(s))e[se]=_;const te={replaceWith(se,_){typeof _=="function"?_(se,m,L,b,S,B):b&&(b[L]=se),A||(m=se)}};ne=await G.call(e,m,L,b,S,B,te)}if(ne===i)break;if(ne===o){if(!A){S.pop();continue}}else if(ne!==void 0&&(u.push([L,ne]),!A))if($(ne))m=ne;else{S.pop();continue}}if(ne===void 0&&J&&u.push([L,m]),!A){var H;w={inArray:R,index:P,keys:d,edits:u,prev:w},R=Array.isArray(m),d=R?m:(H=j[h(m)])!==null&&H!==void 0?H:[],P=-1,u=[],b!==n&&b!==void 0&&B.push(b),b=m}}while(w!==void 0);return u.length!==0?u[u.length-1][1]:r};class Rn extends je{constructor(t,s){super(t,s);a(this,"value");typeof s<"u"&&(this.value=s.value)}}class Go extends Rn{}class Zo extends Rn{}const O=(r,e={})=>{const{visited:t=new WeakMap}=e,s={...e,visited:t};if(t.has(r))return t.get(r);if(r instanceof Ie){const{key:i,value:n}=r,o=X(i)?O(i,s):i,l=X(n)?O(n,s):n,h=new Ie(o,l);return t.set(r,h),h}if(r instanceof Lt){const i=l=>O(l,s),n=[...r].map(i),o=new Lt(n);return t.set(r,o),o}if(r instanceof _e){const i=l=>O(l,s),n=[...r].map(i),o=new _e(n);return t.set(r,o),o}if(X(r)){const i=re(r);if(t.set(r,i),r.content)if(X(r.content))i.content=O(r.content,s);else if(r.content instanceof Ie)i.content=O(r.content,s);else if(Array.isArray(r.content)){const n=o=>O(o,s);i.content=r.content.map(n)}else i.content=r.content;else i.content=r.content;return i}throw new Go("Value provided to cloneDeep function couldn't be cloned",{value:r})};O.safe=r=>{try{return O(r)}catch{return r}};const Vn=r=>{const{key:e,value:t}=r;return new Ie(e,t)},Qo=r=>{const e=[...r];return new _e(e)},Yo=r=>{const e=[...r];return new Lt(e)},An=r=>{const e=new r.constructor;if(e.element=r.element,r.meta.length>0&&(e._meta=O(r.meta)),r.attributes.length>0&&(e._attributes=O(r.attributes)),X(r.content)){const t=r.content;e.content=An(t)}else Array.isArray(r.content)?e.content=[...r.content]:r.content instanceof Ie?e.content=Vn(r.content):e.content=r.content;return e},re=r=>{if(r instanceof Ie)return Vn(r);if(r instanceof Lt)return Yo(r);if(r instanceof _e)return Qo(r);if(X(r))return An(r);throw new Zo("Value provided to cloneShallow function couldn't be cloned",{value:r})};re.safe=r=>{try{return re(r)}catch{return r}};const qe=r=>q(r)?"ObjectElement":oe(r)?"ArrayElement":ve(r)?"MemberElement":I(r)?"StringElement":nt(r)?"BooleanElement":Si(r)?"NumberElement":Oi(r)?"NullElement":bn(r)?"LinkElement":$n(r)?"RefElement":void 0,Fn=r=>X(r)?re(r):Pi(r),Mn=rt(qe,st),Ne={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class In{constructor({predicate:e=gi,returnOnTrue:t,returnOnFalse:s}={}){a(this,"result");a(this,"predicate");a(this,"returnOnTrue");a(this,"returnOnFalse");this.result=[],this.predicate=e,this.returnOnTrue=t,this.returnOnFalse=s}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const ie=(r,e,{keyMap:t=Ne,...s}={})=>Vi(r,e,{keyMap:t,nodeTypeGetter:qe,nodePredicate:Mn,nodeCloneFn:Fn,...s});ie[Symbol.for("nodejs.util.promisify.custom")]=async(r,e,{keyMap:t=Ne,...s}={})=>Vi[Symbol.for("nodejs.util.promisify.custom")](r,e,{keyMap:t,nodeTypeGetter:qe,nodePredicate:Mn,nodeCloneFn:Fn,...s});const Cn={toolboxCreator:wn,visitorOptions:{nodeTypeGetter:qe,exposeEdits:!0}},at=(r,e,t={})=>{if(e.length===0)return r;const s=fi(Cn,t),{toolboxCreator:i,visitorOptions:n}=s,o=i(),l=e.map(x=>x(o)),h=Ri(l.map(Dt({},"visitor")),{...n});l.forEach(Ye(["pre"],[]));const $=ie(r,h,n);return l.forEach(Ye(["post"],[])),$},_o=async(r,e,t={})=>{if(e.length===0)return r;const s=fi(Cn,t),{toolboxCreator:i,visitorOptions:n}=s,o=i(),l=e.map(j=>j(o)),h=Ri[Symbol.for("nodejs.util.promisify.custom")],$=ie[Symbol.for("nodejs.util.promisify.custom")],x=h(l.map(Dt({},"visitor")),{...n});await Promise.allSettled(l.map(Ye(["pre"],[])));const g=await $(r,x,n);return await Promise.allSettled(l.map(Ye(["post"],[]))),g};at[Symbol.for("nodejs.util.promisify.custom")]=_o;class ec extends je{constructor(t,s){super(t,s);a(this,"value");typeof s<"u"&&(this.value=s.value)}}class Tn{constructor({length:e=6}={}){a(this,"uuid");a(this,"identityMap");this.uuid=new wo({length:e}),this.identityMap=new WeakMap}identify(e){if(!X(e))throw new ec("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&I(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const t=new he(this.generateId());return this.identityMap.set(e,t),t}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new Tn;class tc extends Array{constructor(){super(...arguments);a(this,"unknownMediaType","application/octet-stream")}filterByFormat(){throw new Er("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new Er("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new Er("latest method in MediaTypes class is not yet implemented.")}}const sc=(r,{Type:e,plugins:t=[]})=>{const s=new e(r);return X(r)&&(r.meta.length>0&&(s.meta=O(r.meta)),r.attributes.length>0&&(s.attributes=O(r.attributes))),at(s,t,{toolboxCreator:wn,visitorOptions:{nodeTypeGetter:qe}})},ae=r=>(e,t={})=>sc(e,{...t,Type:r});y.refract=ae(y);D.refract=ae(D);he.refract=ae(he);pe.refract=ae(pe);Rr.refract=ae(Rr);Pr.refract=ae(Pr);Vr.refract=ae(Vr);Me.refract=ae(Me);Jt.refract=ae(Jt);Ht.refract=ae(Ht);Ce.refract=ae(Ce);zt.refract=ae(zt);const rc=(r,e)=>{const t=new In({predicate:r});return ie(e,t),new _e(t.result)},kn=(r,e)=>{const t=new In({predicate:r,returnOnTrue:C});return ie(e,t),an(void 0,[0],t.result)},Dn=r=>typeof(r==null?void 0:r.type)=="string"?r.type:qe(r),qn={EphemeralObject:["content"],EphemeralArray:["content"],...Ne},Nn=(r,e,{keyMap:t=qn,...s}={})=>ie(r,e,{keyMap:t,nodeTypeGetter:Dn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});Nn[Symbol.for("nodejs.util.promisify.custom")]=async(r,{keyMap:e=qn,...t}={})=>ie[Symbol.for("nodejs.util.promisify.custom")](r,visitor,{keyMap:e,nodeTypeGetter:Dn,nodePredicate:fe,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...t});class ic{constructor(e){a(this,"type","EphemeralArray");a(this,"content",[]);a(this,"reference");this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class nc{constructor(e){a(this,"type","EphemeralObject");a(this,"content",[]);a(this,"reference");this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let oc=class{constructor(){a(this,"ObjectElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new nc(e.content);return this.references.set(e,t),t}});a(this,"EphemeralObject",{leave:e=>e.toObject()});a(this,"MemberElement",{enter:e=>[e.key,e.value]});a(this,"ArrayElement",{enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new ic(e.content);return this.references.set(e,t),t}});a(this,"EphemeralArray",{leave:e=>e.toArray()});a(this,"references",new WeakMap)}BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...t){var s;const i=t[3];return((s=i[i.length-1])===null||s===void 0?void 0:s.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return I(e.href)?e.href.toValue():""}};const v=r=>X(r)?I(r)||Si(r)||nt(r)||Oi(r)?r.toValue():Nn(r,new oc):r,Tt=(r,e=new WeakMap)=>(ve(r)?(e.set(r.key,r),Tt(r.key,e),e.set(r.value,r),Tt(r.value,e)):r.children.forEach(t=>{e.set(t,r),Tt(t,e)}),e),cc=(r,e,t)=>{const s=t.get(r);ve(s)&&(s.key===r&&(s.key=e,t.delete(r),t.set(e,s)),s.value===r&&(s.value=e,t.delete(r),t.set(e,s)))},ac=(r,e,t)=>{const s=t.get(r);q(s)&&(s.content=s.map((i,n,o)=>o===r?(t.delete(r),t.set(e,s),e):o))},lc=(r,e,t)=>{const s=t.get(r);oe(s)&&(s.content=s.map(i=>i===r?(t.delete(r),t.set(e,s),e):i))};class uc{constructor({element:e}){a(this,"element");a(this,"edges");this.element=e}transclude(e,t){var s;if(e===this.element)return t;if(e===t)return this.element;this.edges=(s=this.edges)!==null&&s!==void 0?s:Tt(this.element);const i=this.edges.get(e);if(!we(i))return q(i)?ac(e,t,this.edges):oe(i)?lc(e,t,this.edges):ve(i)&&cc(e,t,this.edges),this.element}}const Eh=(r,e,t)=>new uc({element:t}).transclude(r,e),Ls=(r,e)=>{const t=qt(r,e);return po(s=>{if(kt(s)&&ln("$ref",s)&&mo(st,"$ref",s)){const i=ce(["$ref"],s),n=hi("#/",i);return ce(n.split("/"),t)}return kt(s)?Ls(s,t):s},r)},Sh=(r,e=On)=>{if(st(r))try{return e.fromRefract(JSON.parse(r))}catch{}return kt(r)&&ln("element",r)?e.fromRefract(r):e.toElement(r)},Wt=r=>{const e=r.meta.length>0?O(r.meta):void 0,t=r.attributes.length>0?O(r.attributes):void 0;return new r.constructor(void 0,e,t)},Xt=(r,e)=>e.clone&&e.isMergeableElement(r)?me(Wt(r),r,e):r,dc=(r,e)=>{if(typeof e.customMerge!="function")return me;const t=e.customMerge(r,e);return typeof t=="function"?t:me},hc=r=>typeof r.customMetaMerge!="function"?e=>O(e):r.customMetaMerge,pc=r=>typeof r.customAttributesMerge!="function"?e=>O(e):r.customAttributesMerge,mc=(r,e,t)=>r.concat(e)["fantasy-land/map"](s=>Xt(s,t)),fc=(r,e,t)=>{const s=q(r)?Wt(r):Wt(e);return q(r)&&r.forEach((i,n,o)=>{const l=re(o);l.value=Xt(i,t),s.content.push(l)}),e.forEach((i,n,o)=>{const l=v(n);let h;if(q(r)&&r.hasKey(l)&&t.isMergeableElement(i)){const $=r.get(l);h=re(o),h.value=dc(n,t)($,i)}else h=re(o),h.value=Xt(i,t);s.remove(l),s.content.push(h)}),s},It={clone:!0,isMergeableElement:r=>q(r)||oe(r),arrayElementMerge:mc,objectElementMerge:fc,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0};function me(r,e,t){var s,i,n;const o={...It,...t};o.isMergeableElement=(s=o.isMergeableElement)!==null&&s!==void 0?s:It.isMergeableElement,o.arrayElementMerge=(i=o.arrayElementMerge)!==null&&i!==void 0?i:It.arrayElementMerge,o.objectElementMerge=(n=o.objectElementMerge)!==null&&n!==void 0?n:It.objectElementMerge;const l=oe(e),h=oe(r);if(!(l===h))return Xt(e,o);const x=l&&typeof o.arrayElementMerge=="function"?o.arrayElementMerge(r,e,o):o.objectElementMerge(r,e,o);return x.meta=hc(o)(r.meta,e.meta),x.attributes=pc(o)(r.attributes,e.attributes),x}me.all=(r,e)=>{if(!Array.isArray(r))throw new TypeError("First argument of deepmerge should be an array.");return r.length===0?new y:r.reduce((t,s)=>me(t,s,e),Wt(r[0]))};class Ai extends Y{}class Ln extends Ai{}const vc=async(r,e)=>{let t=r,s=!1;if(!jn(r)){const o=re(r);o.classes.push("result"),t=new Ce([o]),s=!0}const i=new Ut({uri:e.resolve.baseURI,parseResult:t,mediaType:e.parse.mediaType}),n=await $i("canDereference",[i,e],e.dereference.strategies);if(vi(n))throw new Ln(i.uri);try{const{result:o}=await ji("dereference",[i,e],n);return s?o.get(0):o}catch(o){throw new Ai(`Error while dereferencing file "${i.uri}"`,{cause:o})}};class gc{constructor({name:e,allowEmpty:t=!0,sourceMap:s=!1,fileExtensions:i=[],mediaTypes:n=[]}){a(this,"name");a(this,"allowEmpty");a(this,"sourceMap");a(this,"fileExtensions");a(this,"mediaTypes");this.name=e,this.allowEmpty=t,this.sourceMap=s,this.fileExtensions=i,this.mediaTypes=n}}class yc{constructor({name:e}){a(this,"name");this.name=e}}class Oh extends yc{constructor(t){const{name:s="http-resolver",timeout:i=5e3,redirects:n=5,withCredentials:o=!1}=t??{};super({name:s});a(this,"timeout");a(this,"redirects");a(this,"withCredentials");this.timeout=i,this.redirects=n,this.withCredentials=o}canRead(t){return Vo(t.uri)}}class xc{constructor({name:e}){a(this,"name");this.name=e}}class bc{constructor({name:e}){a(this,"name");this.name=e}}class Sr extends Array{includesCycle(e){return this.filter(t=>t.has(e)).length>1}includes(e,t){return e instanceof Set?super.includes(e,t):this.some(s=>s.has(e))}findItem(e){for(const t of this)for(const s of t)if(X(s)&&e(s))return s}}let Xe=class{constructor({uri:e,depth:t=0,refSet:s,value:i}){a(this,"uri");a(this,"depth");a(this,"value");a(this,"refSet");a(this,"errors");this.uri=e,this.value=i,this.depth=t,this.refSet=s,this.errors=[]}};class Bn extends Y{}class $c extends Bn{}class jc extends Y{}class Un extends jc{}class Ec extends Bn{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class Or extends Ai{}class Sc extends Ei{}class Oc extends Fr{}const Ph=async(r,e={})=>{const t=yn(Mo,e);return vc(r,t)};class Fi extends je{}class Hi extends Fi{constructor(t,s){super(t,s);a(this,"pointer");typeof s<"u"&&(this.pointer=s.pointer)}}class wc extends Fi{constructor(t,s){super(t,s);a(this,"tokens");typeof s<"u"&&(this.tokens=[...s.tokens])}}class Ct extends Fi{constructor(t,s){super(t,s);a(this,"pointer");a(this,"tokens");a(this,"failedToken");a(this,"failedTokenPosition");a(this,"element");typeof s<"u"&&(this.pointer=s.pointer,Array.isArray(s.tokens)&&(this.tokens=[...s.tokens]),this.failedToken=s.failedToken,this.failedTokenPosition=s.failedTokenPosition,this.element=s.element)}}const Pc=rt(Nt(/~/g,"~0"),Nt(/\//g,"~1"),encodeURIComponent),Rc=r=>{try{return decodeURIComponent(r)}catch{return r}},Vc=rt(Nt(/~1/g,"/"),Nt(/~0/g,"~"),Rc),Ac=r=>{if(tn(r))return[];if(!un("/",r))throw new Hi(`Invalid JSON Pointer "${r}". JSON Pointers must begin with "/"`,{pointer:r});try{const e=rt(fo("/"),vo(Vc))(r);return go(e)}catch(e){throw new Hi(`JSON Pointer parsing of "${r}" encountered an error.`,{pointer:r,cause:e})}},Fc=r=>{const e=r.indexOf("#");return e!==-1?r.substring(e):"#"},Ae=r=>{const e=Fc(r);return hi("#",e)},Mc=r=>{try{return r.length===0?"":`/${r.map(Pc).join("/")}`}catch(e){throw new wc("JSON Pointer compilation of tokens encountered an error.",{tokens:r,cause:e})}},Fe=(r,e)=>{let t;try{t=Ac(r)}catch(s){throw new Ct(`JSON Pointer evaluation failed while parsing the pointer "${r}".`,{pointer:r,element:O(e),cause:s})}return t.reduce((s,i,n)=>{if(q(s)){if(!s.hasKey(i))throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an ObjectElement`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)});return s.get(i)}if(oe(s)){if(!(i in s.content)||!no(Number(i)))throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an ArrayElement`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)});return s.get(Number(i))}throw new Ct(`JSON Pointer evaluation failed while evaluating token "${i}" against an unexpected Element`,{pointer:r,tokens:t,failedToken:i,failedTokenPosition:n,element:O(s)})},e)};class Ic extends tc{filterByFormat(e="generic"){const t=e==="generic"?"openapi;version":e;return this.filter(s=>s.includes(t))}findBy(e="3.1.0",t="generic"){const s=t==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${t};version=${e}`;return this.find(n=>n.includes(s))||this.unknownMediaType}latest(e="generic"){return ks(this.filterByFormat(e))}}const Cc=new Ic("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let lt=class extends y{constructor(e,t,s){super(e,t,s),this.element="callback"}},ut=class extends y{constructor(e,t,s){super(e,t,s),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},dt=class extends y{constructor(e,t,s){super(e,t,s),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},Bs=class extends y{constructor(e,t,s){super(e,t,s),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Us=class extends y{constructor(e,t,s){super(e,t,s),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},ht=class extends y{constructor(e,t,s){super(e,t,s),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},pt=class extends y{constructor(e,t,s){super(e,t,s),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Le=class extends y{constructor(e,t,s){super(e,t,s),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Le.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});let mt=class extends y{constructor(e,t,s){super(e,t,s),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},ft=class extends y{constructor(e,t,s){super(e,t,s),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},vt=class extends y{constructor(e,t,s){super(e,t,s),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(I(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(I(this.operationId)){var t;return(t=this.operationId)===null||t===void 0?void 0:t.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},gt=class extends y{constructor(e,t,s){super(e,t,s),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},Js=class extends y{constructor(e,t,s){super(e,t,s),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},Hs=class extends y{constructor(e,t,s){super(e,t,s),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},yt=class extends he{constructor(e,t,s){super(e,t,s),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class zs extends y{constructor(e,t,s){super(e,t,s),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let xt=class extends y{constructor(e,t,s){super(e,t,s),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},Be=class extends y{constructor(e,t,s){super(e,t,s),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new pe(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Be.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});let bt=class extends y{constructor(e,t,s){super(e,t,s),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},$t=class extends y{constructor(e,t,s){super(e,t,s),this.element="paths"}},jt=class extends y{constructor(e,t,s){super(e,t,s),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},Et=class extends y{constructor(e,t,s){super(e,t,s),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new pe(!1)}set required(e){this.set("required",e)}},St=class extends y{constructor(e,t,s){super(e,t,s),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},Ot=class extends y{constructor(e,t,s){super(e,t,s),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}};class wt extends y{constructor(e,t,s){super(e,t,s),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}}class Ws extends y{constructor(e,t,s){super(e,t,s),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class Xs extends y{constructor(e,t,s){super(e,t,s),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}class Ks extends y{constructor(e,t,s){super(e,t,s),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const Tc={namespace:r=>{const{base:e}=r;return e.register("jSONSchemaDraft4",wt),e.register("jSONReference",Ws),e.register("media",Xs),e.register("linkDescription",Ks),e}},kc=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},Dc={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...Ne};let Jn=class{constructor(e){a(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),ot(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}},z=class extends Jn{enter(e){return this.element=O(e),C}},Ee=class extends Jn{constructor({specObj:t,...s}){super({...s});a(this,"specObj");a(this,"passingOptionsNames",["specObj"]);this.specObj=t}retrievePassingOptions(){return dn(this.passingOptionsNames,this)}retrieveFixedFields(t){const s=ce(["visitors",...t,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(t){return mi(rn,["visitors",...t],this.specObj)?ce(["visitors",...t],this.specObj):ce(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...s};return new n(o)}toRefractedElement(t,s,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof z&&(n==null?void 0:n.constructor)===z?O(s):(ie(s,n,i),n.element)}},et=class extends Ee{constructor({specPath:t,ignoredFields:s,...i}){super({...i});a(this,"specPath");a(this,"ignoredFields");this.specPath=t,this.ignoredFields=s||[]}ObjectElement(t){const s=this.specPath(t),i=this.retrieveFixedFields(s);return t.forEach((n,o,l)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const h=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new it(O(o),h);this.copyMetaAndAttributes(l,$),$.classes.push("fixed-field"),this.element.content.push($)}else this.ignoredFields.includes(v(o))||this.element.content.push(O(l))}),this.copyMetaAndAttributes(t,this.element),C}};class qc extends f(et,z){constructor(e){super(e),this.element=new wt,this.specPath=V(["document","objects","JSONSchema"])}}let ge=class{constructor({parent:e}){a(this,"parent");this.parent=e}};const ue=r=>q(r)&&r.hasKey("$ref");let Nc=class extends f(Ee,ge,z){ObjectElement(e){const t=ue(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(t,e),C}ArrayElement(e){return this.element=new D,this.element.classes.push("json-schema-items"),e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}};class Lc extends z{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-required"),t}}let Bc=class extends Ee{constructor({specPath:t,ignoredFields:s,fieldPatternPredicate:i,...n}){super({...n});a(this,"specPath");a(this,"ignoredFields");a(this,"fieldPatternPredicate",gi);this.specPath=t,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i)}ObjectElement(t){return t.forEach((s,i,n)=>{if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),l=this.toRefractedElement(o,s),h=new it(O(i),l);this.copyMetaAndAttributes(n,h),h.classes.push("patterned-field"),this.element.content.push(h)}else this.ignoredFields.includes(v(i))||this.element.content.push(O(n))}),this.copyMetaAndAttributes(t,this.element),C}},Gs=class extends Bc{constructor(e){super(e),this.fieldPatternPredicate=pi}},Uc=class extends f(Gs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},Jc=class extends f(Gs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class Hc extends f(Gs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependencies"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let zc=class extends z{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-enum"),t}},Wc=class extends z{StringElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}},Xc=class extends f(Ee,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Kc=class extends f(Ee,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Gc=class extends f(Ee,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(t=>{const s=ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}};class Zc extends f(Gs,ge,z){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-definitions"),this.specPath=t=>ue(t)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let Qc=class extends f(Ee,ge,z){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(t=>{const s=this.toRefractedElement(["document","objects","LinkDescription"],t);this.element.push(s)}),this.copyMetaAndAttributes(e,this.element),C}};class Yc extends f(et,z){constructor(e){super(e),this.element=new Ws,this.specPath=V(["document","objects","JSONReference"])}ObjectElement(e){const t=et.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}}let _c=class extends z{StringElement(e){const t=this.enter(e);return this.element.classes.push("reference-value"),t}},ea=class extends Ee{constructor({alternator:t,...s}){super({...s});a(this,"alternator");this.alternator=t}enter(t){const s=this.alternator.map(({predicate:n,specPath:o})=>hn(n,V(o),nn)),i=on(s)(t);return this.element=this.toRefractedElement(i,t),C}},Ve=class extends ea{constructor(e){super(e),this.alternator=[{predicate:ue,specPath:["document","objects","JSONReference"]},{predicate:fe,specPath:["document","objects","JSONSchema"]}]}};class ta extends f(et,z){constructor(e){super(e),this.element=new Xs,this.specPath=V(["document","objects","Media"])}}class sa extends f(et,z){constructor(e){super(e),this.element=new Ks,this.specPath=V(["document","objects","LinkDescription"])}}const ye={visitors:{value:z,JSONSchemaOrJSONReferenceVisitor:Ve,document:{objects:{JSONSchema:{$visitor:qc,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:Ve,items:Nc,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:Lc,properties:Uc,additionalProperties:Ve,patternProperties:Jc,dependencies:Hc,enum:zc,type:Wc,allOf:Xc,anyOf:Kc,oneOf:Gc,not:Ve,definitions:Zc,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:Qc,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:Yc,fixedFields:{$ref:_c}},Media:{$visitor:ta,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:sa,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:Ve,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:Ve}}}}}},ra=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof wt||r(s)&&e("JSONSchemaDraft4",s)&&t("object",s)),ia=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ws||r(s)&&e("JSONReference",s)&&t("object",s)),na=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Xs||r(s)&&e("media",s)&&t("object",s)),oa=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ks||r(s)&&e("linkDescription",s)&&t("object",s)),ca=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:ia,isJSONSchemaElement:ra,isLinkDescriptionElement:oa,isMediaElement:na},Symbol.toStringTag,{value:"Module"})),aa=()=>{const r=qs(Tc);return{predicates:{...ca,isStringElement:I},namespace:r}},la=(r,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:t=[],specificationObj:s=ye}={})=>{const i=yi(r),n=Ls(s),o=ce(e,n),l=new o({specObj:n});return ie(i,l),at(l.element,t,{toolboxCreator:aa,visitorOptions:{keyMap:Dc,nodeTypeGetter:kc}})},Zs=r=>(e,t={})=>la(e,{specPath:r,...t});wt.refract=Zs(["visitors","document","objects","JSONSchema","$visitor"]);Ws.refract=Zs(["visitors","document","objects","JSONReference","$visitor"]);Xs.refract=Zs(["visitors","document","objects","Media","$visitor"]);Ks.refract=Zs(["visitors","document","objects","LinkDescription","$visitor"]);let Qs=class extends wt{constructor(e,t,s){super(e,t,s),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new Q("idProp getter in Schema class is not not supported.")}set idProp(e){throw new Q("idProp setter in Schema class is not not supported.")}get $schema(){throw new Q("$schema getter in Schema class is not not supported.")}set $schema(e){throw new Q("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new Q("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new Q("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new Q("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new Q("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new Q("definitions getter in Schema class is not not supported.")}set definitions(e){throw new Q("definitions setter in Schema class is not not supported.")}get base(){throw new Q("base getter in Schema class is not not supported.")}set base(e){throw new Q("base setter in Schema class is not not supported.")}get links(){throw new Q("links getter in Schema class is not not supported.")}set links(e){throw new Q("links setter in Schema class is not not supported.")}get media(){throw new Q("media getter in Schema class is not not supported.")}set media(e){throw new Q("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},Pt=class extends y{constructor(e,t,s){super(e,t,s),this.element="securityRequirement"}},Rt=class extends y{constructor(e,t,s){super(e,t,s),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},Vt=class extends y{constructor(e,t,s){super(e,t,s),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},At=class extends y{constructor(e,t,s){super(e,t,s),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},Ys=class extends y{constructor(e,t,s){super(e,t,s),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},_s=class extends y{constructor(e,t,s){super(e,t,s),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const ua={namespace:r=>{const{base:e}=r;return e.register("callback",lt),e.register("components",ut),e.register("contact",dt),e.register("discriminator",Bs),e.register("encoding",Us),e.register("example",ht),e.register("externalDocumentation",pt),e.register("header",Le),e.register("info",mt),e.register("license",ft),e.register("link",vt),e.register("mediaType",gt),e.register("oAuthFlow",Js),e.register("oAuthFlows",Hs),e.register("openapi",yt),e.register("openApi3_0",zs),e.register("operation",xt),e.register("parameter",Be),e.register("pathItem",bt),e.register("paths",$t),e.register("reference",jt),e.register("requestBody",Et),e.register("response",St),e.register("responses",Ot),e.register("schema",Qs),e.register("securityRequirement",Pt),e.register("securityScheme",Rt),e.register("server",Vt),e.register("serverVariable",At),e.register("tag",Ys),e.register("xml",_s),e}},_t=class _t extends D{constructor(e,t,s){super(e,t,s),this.classes.push(_t.primaryClass)}};a(_t,"primaryClass","servers");let Kt=_t;const es=class es extends D{constructor(e,t,s){super(e,t,s),this.classes.push(es.primaryClass)}};a(es,"primaryClass","security");let Mr=es;const ts=class ts extends D{constructor(e,t,s){super(e,t,s),this.classes.push(ts.primaryClass)}};a(ts,"primaryClass","tags");let Ir=ts;const ss=class ss extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ss.primaryClass)}};a(ss,"primaryClass","server-variables");let Cr=ss;const rs=class rs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(rs.primaryClass)}};a(rs,"primaryClass","components-schemas");let Gt=rs;const is=class is extends y{constructor(e,t,s){super(e,t,s),this.classes.push(is.primaryClass)}};a(is,"primaryClass","components-responses");let Tr=is;const ns=class ns extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ns.primaryClass),this.classes.push("parameters")}};a(ns,"primaryClass","components-parameters");let kr=ns;const os=class os extends y{constructor(e,t,s){super(e,t,s),this.classes.push(os.primaryClass),this.classes.push("examples")}};a(os,"primaryClass","components-examples");let Dr=os;const cs=class cs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(cs.primaryClass)}};a(cs,"primaryClass","components-request-bodies");let qr=cs;const as=class as extends y{constructor(e,t,s){super(e,t,s),this.classes.push(as.primaryClass)}};a(as,"primaryClass","components-headers");let Nr=as;const ls=class ls extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ls.primaryClass)}};a(ls,"primaryClass","components-security-schemes");let Lr=ls;const us=class us extends y{constructor(e,t,s){super(e,t,s),this.classes.push(us.primaryClass)}};a(us,"primaryClass","components-links");let Br=us;const ds=class ds extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ds.primaryClass)}};a(ds,"primaryClass","components-callbacks");let Ur=ds;const hs=class hs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(hs.primaryClass),this.classes.push("servers")}};a(hs,"primaryClass","path-item-servers");let Jr=hs;const ps=class ps extends D{constructor(e,t,s){super(e,t,s),this.classes.push(ps.primaryClass),this.classes.push("parameters")}};a(ps,"primaryClass","path-item-parameters");let Hr=ps;const ms=class ms extends D{constructor(e,t,s){super(e,t,s),this.classes.push(ms.primaryClass),this.classes.push("parameters")}};a(ms,"primaryClass","operation-parameters");let Zt=ms;const fs=class fs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(fs.primaryClass),this.classes.push("examples")}};a(fs,"primaryClass","parameter-examples");let zr=fs;const vs=class vs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(vs.primaryClass),this.classes.push("content")}};a(vs,"primaryClass","parameter-content");let Wr=vs;const gs=class gs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(gs.primaryClass)}};a(gs,"primaryClass","operation-tags");let Xr=gs;const ys=class ys extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ys.primaryClass)}};a(ys,"primaryClass","operation-callbacks");let Kr=ys;const xs=class xs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(xs.primaryClass),this.classes.push("security")}};a(xs,"primaryClass","operation-security");let Qt=xs;const bs=class bs extends D{constructor(e,t,s){super(e,t,s),this.classes.push(bs.primaryClass),this.classes.push("servers")}};a(bs,"primaryClass","operation-servers");let Gr=bs;const $s=class $s extends y{constructor(e,t,s){super(e,t,s),this.classes.push($s.primaryClass),this.classes.push("content")}};a($s,"primaryClass","request-body-content");let Zr=$s;const js=class js extends y{constructor(e,t,s){super(e,t,s),this.classes.push(js.primaryClass),this.classes.push("examples")}};a(js,"primaryClass","media-type-examples");let Qr=js;const Es=class Es extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Es.primaryClass)}};a(Es,"primaryClass","media-type-encoding");let Yr=Es;const Ss=class Ss extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ss.primaryClass)}};a(Ss,"primaryClass","encoding-headers");let _r=Ss;const Os=class Os extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Os.primaryClass)}};a(Os,"primaryClass","response-headers");let ei=Os;const ws=class ws extends y{constructor(e,t,s){super(e,t,s),this.classes.push(ws.primaryClass),this.classes.push("content")}};a(ws,"primaryClass","response-content");let ti=ws;const Ps=class Ps extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ps.primaryClass)}};a(Ps,"primaryClass","response-links");let si=Ps;const Rs=class Rs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Rs.primaryClass)}};a(Rs,"primaryClass","discriminator-mapping");let ri=Rs;const Vs=class Vs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Vs.primaryClass)}};a(Vs,"primaryClass","oauth-flow-scopes");let ii=Vs;const As=class As extends y{constructor(e,t,s){super(e,t,s),this.classes.push(As.primaryClass)}};a(As,"primaryClass","link-parameters");let ni=As;const Fs=class Fs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Fs.primaryClass),this.classes.push("examples")}};a(Fs,"primaryClass","header-examples");let oi=Fs;const Ms=class Ms extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ms.primaryClass),this.classes.push("content")}};a(Ms,"primaryClass","header-content");let ci=Ms;const da=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},ha={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Ne};class Hn{constructor(e={}){a(this,"element");Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=me(t.meta,e.meta),ot(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=me(t.attributes,e.attributes))}}class p extends Hn{enter(e){return this.element=O(e),C}}class ee extends Hn{constructor({specObj:t,passingOptionsNames:s,openApiGenericElement:i,openApiSemanticElement:n,...o}){super({...o});a(this,"specObj");a(this,"passingOptionsNames",["specObj","openApiGenericElement","openApiSemanticElement"]);a(this,"openApiGenericElement");a(this,"openApiSemanticElement");this.specObj=t,this.openApiGenericElement=i,this.openApiSemanticElement=n,Array.isArray(s)&&(this.passingOptionsNames=s)}retrievePassingOptions(){return dn(this.passingOptionsNames,this)}retrieveFixedFields(t){const s=ce(["visitors",...t,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(t){return mi(rn,["visitors",...t],this.specObj)?ce(["visitors",...t],this.specObj):ce(["visitors",...t,"$visitor"],this.specObj)}retrieveVisitorInstance(t,s={}){const i=this.retrievePassingOptions(),n=this.retrieveVisitor(t),o={...i,...s};return new n(o)}toRefractedElement(t,s,i={}){const n=this.retrieveVisitorInstance(t,i);return n instanceof p&&(n==null?void 0:n.constructor)===p?O(s):(ie(s,n,i),n.element)}}const U=r=>q(r)&&r.hasKey("$ref"),pa=q,ma=q,zn=r=>I(r.key)&&un("x-",v(r.key));class M extends ee{constructor({specPath:t,ignoredFields:s,canSupportSpecificationExtensions:i,specificationExtensionPredicate:n,...o}){super({...o});a(this,"specPath");a(this,"ignoredFields");a(this,"canSupportSpecificationExtensions",!0);a(this,"specificationExtensionPredicate",zn);this.specPath=t,this.ignoredFields=s||[],typeof i=="boolean"&&(this.canSupportSpecificationExtensions=i),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(t){const s=this.specPath(t),i=this.retrieveFixedFields(s);return t.forEach((n,o,l)=>{if(I(o)&&i.includes(v(o))&&!this.ignoredFields.includes(v(o))){const h=this.toRefractedElement([...s,"fixedFields",v(o)],n),$=new it(O(o),h);this.copyMetaAndAttributes(l,$),$.classes.push("fixed-field"),this.element.content.push($)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(l)){const h=this.toRefractedElement(["document","extension"],l);this.element.content.push(h)}else this.ignoredFields.includes(v(o))||this.element.content.push(O(l))}),this.copyMetaAndAttributes(t,this.element),C}}class fa extends f(M,p){constructor(e){super(e),this.element=new zs,this.specPath=V(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return M.prototype.ObjectElement.call(this,e)}}class va extends f(ee,p){StringElement(e){const t=new yt(v(e));return this.copyMetaAndAttributes(e,t),this.element=t,C}}class ga extends ee{MemberElement(e){return this.element=O(e),this.element.classes.push("specification-extension"),C}}let ya=class extends f(M,p){constructor(e){super(e),this.element=new mt,this.specPath=V(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class xa extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),t}}let ba=class extends f(M,p){constructor(e){super(e),this.element=new dt,this.specPath=V(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},$a=class extends f(M,p){constructor(e){super(e),this.element=new ft,this.specPath=V(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},ja=class extends f(M,p){constructor(e){super(e),this.element=new vt,this.specPath=V(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return(I(this.element.operationId)||I(this.element.operationRef))&&this.element.classes.push("reference-element"),t}};class Ea extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class Sa extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class Te extends ee{constructor({specPath:t,ignoredFields:s,fieldPatternPredicate:i,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...l}){super({...l});a(this,"specPath");a(this,"ignoredFields");a(this,"fieldPatternPredicate",gi);a(this,"canSupportSpecificationExtensions",!1);a(this,"specificationExtensionPredicate",zn);this.specPath=t,this.ignoredFields=s||[],typeof i=="function"&&(this.fieldPatternPredicate=i),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(t){return t.forEach((s,i,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(v(i))&&this.fieldPatternPredicate(v(i))){const o=this.specPath(s),l=this.toRefractedElement(o,s),h=new it(O(i),l);this.copyMetaAndAttributes(n,h),h.classes.push("patterned-field"),this.element.content.push(h)}else this.ignoredFields.includes(v(i))||this.element.content.push(O(n))}),this.copyMetaAndAttributes(t,this.element),C}}class F extends Te{constructor(e){super(e),this.fieldPatternPredicate=pi}}let Oa=class extends f(F,p){constructor(e){super(e),this.element=new ni,this.specPath=V(["value"])}},wa=class extends f(M,p){constructor(e){super(e),this.element=new Vt,this.specPath=V(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}};class Pa extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("server-url"),t}}let Mi=class extends f(ee,p){constructor(e){super(e),this.element=new Kt}ArrayElement(e){return e.forEach(t=>{const s=pa(t)?["document","objects","Server"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Ra=class extends f(M,p){constructor(e){super(e),this.element=new At,this.specPath=V(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class Va extends f(F,p){constructor(e){super(e),this.element=new Cr,this.specPath=V(["document","objects","ServerVariable"])}}let Aa=class extends f(M,p){constructor(e){super(e),this.element=new gt,this.specPath=V(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class de extends ee{constructor({alternator:t,...s}){super({...s});a(this,"alternator");this.alternator=t||[]}enter(t){const s=this.alternator.map(({predicate:n,specPath:o})=>hn(n,V(o),nn)),i=on(s)(t);return this.element=this.toRefractedElement(i,t),C}}const Fa=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof lt||r(s)&&e("callback",s)&&t("object",s)),Ma=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ut||r(s)&&e("components",s)&&t("object",s)),Ia=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof dt||r(s)&&e("contact",s)&&t("object",s)),Ca=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ht||r(s)&&e("example",s)&&t("object",s)),Ta=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof pt||r(s)&&e("externalDocumentation",s)&&t("object",s)),Ue=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Le||r(s)&&e("header",s)&&t("object",s)),ka=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof mt||r(s)&&e("info",s)&&t("object",s)),Da=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ft||r(s)&&e("license",s)&&t("object",s)),qa=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof vt||r(s)&&e("link",s)&&t("object",s)),Na=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof yt||r(s)&&e("openapi",s)&&t("string",s)),La=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof zs||r(i)&&e("openApi3_0",i)&&t("object",i)&&s("api",i)),Wn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof xt||r(s)&&e("operation",s)&&t("object",s)),Ba=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Be||r(s)&&e("parameter",s)&&t("object",s)),Ii=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof bt||r(s)&&e("pathItem",s)&&t("object",s)),Ua=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof $t||r(s)&&e("paths",s)&&t("object",s)),N=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof jt||r(s)&&e("reference",s)&&t("object",s)),Ja=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Et||r(s)&&e("requestBody",s)&&t("object",s)),er=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof St||r(s)&&e("response",s)&&t("object",s)),Ha=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ot||r(s)&&e("responses",s)&&t("object",s)),za=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Qs||r(s)&&e("schema",s)&&t("object",s)),Wa=r=>nt(r)&&r.classes.includes("boolean-json-schema"),Xa=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Pt||r(s)&&e("securityRequirement",s)&&t("object",s)),Ka=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Rt||r(s)&&e("securityScheme",s)&&t("object",s)),Ga=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Vt||r(s)&&e("server",s)&&t("object",s)),Za=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof At||r(s)&&e("serverVariable",s)&&t("object",s)),tr=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof gt||r(s)&&e("mediaType",s)&&t("object",s)),Xn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof Kt||r(i)&&e("array",i)&&t("array",i)&&s("servers",i)),Qa=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:Wa,isCallbackElement:Fa,isComponentsElement:Ma,isContactElement:Ia,isExampleElement:Ca,isExternalDocumentationElement:Ta,isHeaderElement:Ue,isInfoElement:ka,isLicenseElement:Da,isLinkElement:qa,isMediaTypeElement:tr,isOpenApi3_0Element:La,isOpenapiElement:Na,isOperationElement:Wn,isParameterElement:Ba,isPathItemElement:Ii,isPathsElement:Ua,isReferenceElement:N,isRequestBodyElement:Ja,isResponseElement:er,isResponsesElement:Ha,isSchemaElement:za,isSecurityRequirementElement:Xa,isSecuritySchemeElement:Ka,isServerElement:Ga,isServerVariableElement:Za,isServersElement:Xn},Symbol.toStringTag,{value:"Module"}));let Ya=class extends f(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},Ci=class extends f(F,p){constructor(e){super(e),this.element=new y,this.element.classes.push("examples"),this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","example")}),t}},_a=class extends Ci{constructor(e){super(e),this.element=new Qr}},el=class extends f(F,p){constructor(e){super(e),this.element=new Yr,this.specPath=V(["document","objects","Encoding"])}},tl=class extends f(F,p){constructor(e){super(e),this.element=new Pt,this.specPath=V(["value"])}},sl=class extends f(ee,p){constructor(e){super(e),this.element=new Mr}ArrayElement(e){return e.forEach(t=>{if(q(t)){const s=this.toRefractedElement(["document","objects","SecurityRequirement"],t);this.element.push(s)}else this.element.push(O(t))}),this.copyMetaAndAttributes(e,this.element),C}},rl=class extends f(M,p){constructor(e){super(e),this.element=new ut,this.specPath=V(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},il=class extends f(M,p){constructor(e){super(e),this.element=new Ys,this.specPath=V(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},nl=class extends f(M,p){constructor(e){super(e),this.element=new jt,this.specPath=V(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&this.element.classes.push("reference-element"),t}},ol=class extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},cl=class extends f(M,p){constructor(e){super(e),this.element=new Be,this.specPath=V(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(tr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),t}},al=class extends f(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},ll=class extends f(M,p){constructor(e){super(e),this.element=new Le,this.specPath=V(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},ul=class extends f(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},dl=class extends Ci{constructor(e){super(e),this.element=new oi}},sr=class extends f(F,p){constructor(e){super(e),this.element=new y,this.element.classes.push("content"),this.specPath=V(["document","objects","MediaType"])}},hl=class extends sr{constructor(e){super(e),this.element=new ci}},pl=class extends f(M,p){constructor(e){super(e),this.element=new Qs,this.specPath=V(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const{allOf:zi}=ye.visitors.document.objects.JSONSchema.fixedFields;let ml=class extends zi{ArrayElement(e){const t=zi.prototype.ArrayElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const{anyOf:Wi}=ye.visitors.document.objects.JSONSchema.fixedFields;let fl=class extends Wi{ArrayElement(e){const t=Wi.prototype.ArrayElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const{oneOf:Xi}=ye.visitors.document.objects.JSONSchema.fixedFields;let vl=class extends Xi{ArrayElement(e){const t=Xi.prototype.ArrayElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const{items:Ki}=ye.visitors.document.objects.JSONSchema.fixedFields;class gl extends Ki{ObjectElement(e){const t=Ki.prototype.ObjectElement.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}ArrayElement(e){return this.enter(e)}}const{properties:Gi}=ye.visitors.document.objects.JSONSchema.fixedFields;let yl=class extends Gi{ObjectElement(e){const t=Gi.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}};const{type:xl}=ye.visitors.document.objects.JSONSchema.fixedFields;let bl=class extends xl{ArrayElement(e){return this.enter(e)}};const{JSONSchemaOrJSONReferenceVisitor:Zi}=ye.visitors;class Qi extends Zi{ObjectElement(e){const t=Zi.prototype.enter.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}}let $l=class extends f(M,p){constructor(e){super(e),this.element=new Bs,this.specPath=V(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class jl extends f(F,p){constructor(e){super(e),this.element=new ri,this.specPath=V(["value"])}}let El=class extends f(M,p){constructor(e){super(e),this.element=new _s,this.specPath=V(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},Sl=class extends Ci{constructor(e){super(e),this.element=new zr}},Ol=class extends sr{constructor(e){super(e),this.element=new Wr}},wl=class extends f(F,p){constructor(e){super(e),this.element=new Gt,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","schema")}),t}},Pl=class extends f(F,p){constructor(e){super(e),this.element=new Tr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(er).forEach((s,i)=>{s.setMetaProperty("http-status-code",v(i))}),t}},Rl=class extends f(F,p){constructor(e){super(e),this.element=new kr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","parameter")}),t}},Vl=class extends f(F,p){constructor(e){super(e),this.element=new Dr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","example")}),t}};class Al extends f(F,p){constructor(e){super(e),this.element=new qr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","requestBody")}),t}}let Fl=class extends f(F,p){constructor(e){super(e),this.element=new Nr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.filter(Ue).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}};class Ml extends f(F,p){constructor(e){super(e),this.element=new Lr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","securityScheme")}),t}}let Il=class extends f(F,p){constructor(e){super(e),this.element=new Br,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","link")}),t}},Cl=class extends f(F,p){constructor(e){super(e),this.element=new Ur,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","callback")}),t}},Tl=class extends f(M,p){constructor(e){super(e),this.element=new ht,this.specPath=V(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return I(this.element.externalValue)&&this.element.classes.push("reference-element"),t}};class kl extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}let Dl=class extends f(M,p){constructor(e){super(e),this.element=new pt,this.specPath=V(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},ql=class extends f(M,p){constructor(e){super(e),this.element=new Us,this.specPath=V(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return q(this.element.headers)&&this.element.headers.filter(Ue).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}},Nl=class extends f(F,p){constructor(e){super(e),this.element=new _r,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ue(s))return;const n=v(i);s.setMetaProperty("headerName",n)}),t}},Ll=class extends f(Te,p){constructor(e){super(e),this.element=new $t,this.specPath=V(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=fe}ObjectElement(e){const t=Te.prototype.ObjectElement.call(this,e);return this.element.filter(Ii).forEach((s,i)=>{i.classes.push("openapi-path-template"),i.classes.push("path-template"),s.setMetaProperty("path",O(i))}),t}},Bl=class extends f(M,p){constructor(e){super(e),this.element=new Et,this.specPath=V(["document","objects","RequestBody"])}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(tr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),t}},Ul=class extends sr{constructor(e){super(e),this.element=new Zr}},Jl=class extends f(Te,p){constructor(e){super(e),this.element=new lt,this.specPath=V(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=t=>/{(?<expression>[^}]{1,2083})}/.test(String(t))}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(Ii).forEach((s,i)=>{s.setMetaProperty("runtime-expression",v(i))}),t}},Hl=class extends f(M,p){constructor(e){super(e),this.element=new St,this.specPath=V(["document","objects","Response"])}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return q(this.element.contentProp)&&this.element.contentProp.filter(tr).forEach((s,i)=>{s.setMetaProperty("media-type",v(i))}),q(this.element.headers)&&this.element.headers.filter(Ue).forEach((s,i)=>{s.setMetaProperty("header-name",v(i))}),t}};class zl extends f(F,p){constructor(e){super(e),this.element=new ei,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","header")}),this.element.forEach((s,i)=>{if(!Ue(s))return;const n=v(i);s.setMetaProperty("header-name",n)}),t}}class Wl extends sr{constructor(e){super(e),this.element=new ti}}class Xl extends f(F,p){constructor(e){super(e),this.element=new si,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","link")}),t}}class Yi extends f(M,Te){constructor({specPathFixedFields:t,specPathPatternedFields:s,...i}){super({...i});a(this,"specPathFixedFields");a(this,"specPathPatternedFields");this.specPathFixedFields=t,this.specPathPatternedFields=s}ObjectElement(t){const{specPath:s,ignoredFields:i}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(t));this.ignoredFields=[...i,...yo(t.keys(),n)],M.prototype.ObjectElement.call(this,t),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,Te.prototype.ObjectElement.call(this,t)}catch(n){throw this.specPath=s,n}return C}}let Kl=class extends f(Yi,p){constructor(e){super(e),this.element=new Ot,this.specPathFixedFields=V(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=t=>U(t)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=t=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${xo(100,600).join("|")})$`).test(String(t))}ObjectElement(e){const t=Yi.prototype.ObjectElement.call(this,e);return this.element.filter(N).forEach(s=>{s.setMetaProperty("referenced-element","response")}),this.element.filter(er).forEach((s,i)=>{const n=O(i);this.fieldPatternPredicate(v(n))&&s.setMetaProperty("http-status-code",n)}),t}};class Gl extends f(de,p){constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","Response"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return N(this.element)?this.element.setMetaProperty("referenced-element","response"):er(this.element)&&this.element.setMetaProperty("http-status-code","default"),t}}let Zl=class extends f(M,p){constructor(e){super(e),this.element=new xt,this.specPath=V(["document","objects","Operation"])}},Ql=class extends p{constructor(e){super(e),this.element=new Xr}ArrayElement(e){return this.element=this.element.concat(O(e)),C}},Kn=class extends f(ee,p){constructor(e){super(e),this.element=new D,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(t=>{const s=U(t)?["document","objects","Reference"]:["document","objects","Parameter"],i=this.toRefractedElement(s,t);N(i)&&i.setMetaProperty("referenced-element","parameter"),this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}},Yl=class extends Kn{constructor(e){super(e),this.element=new Zt}},_l=class extends de{constructor(e){super(e),this.alternator=[{predicate:U,specPath:["document","objects","Reference"]},{predicate:fe,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const t=de.prototype.enter.call(this,e);return N(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),t}};class eu extends f(F,p){constructor(t){super(t);a(this,"specPath");this.element=new Kr,this.specPath=s=>U(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(t){const s=F.prototype.ObjectElement.call(this,t);return this.element.filter(N).forEach(i=>{i.setMetaProperty("referenced-element","callback")}),s}}class tu extends f(ee,p){constructor(e){super(e),this.element=new Qt}ArrayElement(e){return e.forEach(t=>{const s=q(t)?["document","objects","SecurityRequirement"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}}let su=class extends Mi{constructor(e){super(e),this.element=new Gr}},ru=class extends f(M,p){constructor(e){super(e),this.element=new bt,this.specPath=V(["document","objects","PathItem"])}ObjectElement(e){const t=M.prototype.ObjectElement.call(this,e);return this.element.filter(Wn).forEach((s,i)=>{const n=O(i);n.content=v(n).toUpperCase(),s.setMetaProperty("http-method",n)}),I(this.element.$ref)&&this.element.classes.push("reference-element"),t}};class iu extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class nu extends Mi{constructor(e){super(e),this.element=new Jr}}class ou extends Kn{constructor(e){super(e),this.element=new Hr}}let cu=class extends f(M,p){constructor(e){super(e),this.element=new Rt,this.specPath=V(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},au=class extends f(M,p){constructor(e){super(e),this.element=new Hs,this.specPath=V(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},lu=class extends f(M,p){constructor(e){super(e),this.element=new Js,this.specPath=V(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class uu extends f(F,p){constructor(e){super(e),this.element=new ii,this.specPath=V(["value"])}}class du extends f(ee,p){constructor(e){super(e),this.element=new Ir}ArrayElement(e){return e.forEach(t=>{const s=ma(t)?["document","objects","Tag"]:["value"],i=this.toRefractedElement(s,t);this.element.push(i)}),this.copyMetaAndAttributes(e,this.element),C}}const{fixedFields:W}=ye.visitors.document.objects.JSONSchema,c={visitors:{value:p,document:{objects:{OpenApi:{$visitor:fa,fixedFields:{openapi:va,info:{$ref:"#/visitors/document/objects/Info"},servers:Mi,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:sl,tags:du,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:ya,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:xa}},Contact:{$visitor:ba,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:$a,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:wa,fixedFields:{url:Pa,description:{$ref:"#/visitors/value"},variables:Va}},ServerVariable:{$visitor:Ra,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:rl,fixedFields:{schemas:wl,responses:Pl,parameters:Rl,examples:Vl,requestBodies:Al,headers:Fl,securitySchemes:Ml,links:Il,callbacks:Cl}},Paths:{$visitor:Ll},PathItem:{$visitor:ru,fixedFields:{$ref:iu,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:nu,parameters:ou}},Operation:{$visitor:Zl,fixedFields:{tags:Ql,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:Yl,requestBody:_l,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:eu,deprecated:{$ref:"#/visitors/value"},security:tu,servers:su}},ExternalDocumentation:{$visitor:Dl,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:cl,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:al,example:{$ref:"#/visitors/value"},examples:Sl,content:Ol}},RequestBody:{$visitor:Bl,fixedFields:{description:{$ref:"#/visitors/value"},content:Ul,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:Aa,fixedFields:{schema:Ya,example:{$ref:"#/visitors/value"},examples:_a,encoding:el}},Encoding:{$visitor:ql,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:Nl,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:Kl,fixedFields:{default:Gl}},Response:{$visitor:Hl,fixedFields:{description:{$ref:"#/visitors/value"},headers:zl,content:Wl,links:Xl}},Callback:{$visitor:Jl},Example:{$visitor:Tl,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:kl}},Link:{$visitor:ja,fixedFields:{operationRef:Ea,operationId:Sa,parameters:Oa,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:ll,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:ul,example:{$ref:"#/visitors/value"},examples:dl,content:hl}},Tag:{$visitor:il,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:nl,fixedFields:{$ref:ol}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:pl,fixedFields:{title:W.title,multipleOf:W.multipleOf,maximum:W.maximum,exclusiveMaximum:W.exclusiveMaximum,minimum:W.minimum,exclusiveMinimum:W.exclusiveMinimum,maxLength:W.maxLength,minLength:W.minLength,pattern:W.pattern,maxItems:W.maxItems,minItems:W.minItems,uniqueItems:W.uniqueItems,maxProperties:W.maxProperties,minProperties:W.minProperties,required:W.required,enum:W.enum,type:bl,allOf:ml,anyOf:fl,oneOf:vl,not:Qi,items:gl,properties:yl,additionalProperties:Qi,description:W.description,format:W.format,default:W.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:$l,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:jl}},XML:{$visitor:El,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:cu,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:au,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:lu,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:uu}},SecurityRequirement:{$visitor:tl}},extension:{$visitor:ga}}}},hu=()=>{const r=qs(ua);return{predicates:{...Qa,isElement:X,isStringElement:I,isArrayElement:oe,isObjectElement:q,isMemberElement:ve,includesClasses:wi,hasElementSourceMap:ot},namespace:r}},pu=(r,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const s=yi(r),i=Ls(c),n=ce(e,i),o=new n({specObj:i});return ie(s,o),at(o.element,t,{toolboxCreator:hu,visitorOptions:{keyMap:ha,nodeTypeGetter:da}})},k=r=>(e,t={})=>pu(e,{specPath:r,...t});lt.refract=k(["visitors","document","objects","Callback","$visitor"]);ut.refract=k(["visitors","document","objects","Components","$visitor"]);dt.refract=k(["visitors","document","objects","Contact","$visitor"]);ht.refract=k(["visitors","document","objects","Example","$visitor"]);Bs.refract=k(["visitors","document","objects","Discriminator","$visitor"]);Us.refract=k(["visitors","document","objects","Encoding","$visitor"]);pt.refract=k(["visitors","document","objects","ExternalDocumentation","$visitor"]);Le.refract=k(["visitors","document","objects","Header","$visitor"]);mt.refract=k(["visitors","document","objects","Info","$visitor"]);ft.refract=k(["visitors","document","objects","License","$visitor"]);vt.refract=k(["visitors","document","objects","Link","$visitor"]);gt.refract=k(["visitors","document","objects","MediaType","$visitor"]);Js.refract=k(["visitors","document","objects","OAuthFlow","$visitor"]);Hs.refract=k(["visitors","document","objects","OAuthFlows","$visitor"]);yt.refract=k(["visitors","document","objects","OpenApi","fixedFields","openapi"]);zs.refract=k(["visitors","document","objects","OpenApi","$visitor"]);xt.refract=k(["visitors","document","objects","Operation","$visitor"]);Be.refract=k(["visitors","document","objects","Parameter","$visitor"]);bt.refract=k(["visitors","document","objects","PathItem","$visitor"]);$t.refract=k(["visitors","document","objects","Paths","$visitor"]);jt.refract=k(["visitors","document","objects","Reference","$visitor"]);Et.refract=k(["visitors","document","objects","RequestBody","$visitor"]);St.refract=k(["visitors","document","objects","Response","$visitor"]);Ot.refract=k(["visitors","document","objects","Responses","$visitor"]);Qs.refract=k(["visitors","document","objects","Schema","$visitor"]);Pt.refract=k(["visitors","document","objects","SecurityRequirement","$visitor"]);Rt.refract=k(["visitors","document","objects","SecurityScheme","$visitor"]);Vt.refract=k(["visitors","document","objects","Server","$visitor"]);At.refract=k(["visitors","document","objects","ServerVariable","$visitor"]);Ys.refract=k(["visitors","document","objects","Tag","$visitor"]);_s.refract=k(["visitors","document","objects","XML","$visitor"]);class rr extends lt{}class ir extends ut{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class nr extends dt{}class Ti extends Bs{}class ki extends Us{}class or extends ht{}class cr extends pt{}class ar extends Le{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class lr extends mt{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}const Is=class Is extends he{constructor(e,t,s){super(e,t,s),this.element="jsonSchemaDialect"}};a(Is,"default",new Is("https://spec.openapis.org/oas/3.1/dialect/base"));let Oe=Is;class ur extends ft{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class dr extends vt{}class hr extends gt{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class Di extends Js{}class qi extends Hs{}class Ni extends yt{}class pr extends y{constructor(e,t,s){super(e,t,s),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class Ft extends xt{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class mr extends Be{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class ke extends bt{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class fr extends $t{}class Pe extends jt{}Object.defineProperty(Pe.prototype,"description",{get(){return this.get("description")},set(r){this.set("description",r)},enumerable:!0});Object.defineProperty(Pe.prototype,"summary",{get(){return this.get("summary")},set(r){this.set("summary",r)},enumerable:!0});class vr extends Et{}class gr extends St{}class yr extends Ot{}class Je extends y{constructor(e,t,s){super(e,t,s),this.element="schema"}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class xr extends Pt{}class br extends Rt{}class $r extends Vt{}class jr extends At{}class Li extends Ys{}class Bi extends _s{}const Gn={namespace:r=>{const{base:e}=r;return e.register("callback",rr),e.register("components",ir),e.register("contact",nr),e.register("discriminator",Ti),e.register("encoding",ki),e.register("example",or),e.register("externalDocumentation",cr),e.register("header",ar),e.register("info",lr),e.register("jsonSchemaDialect",Oe),e.register("license",ur),e.register("link",dr),e.register("mediaType",hr),e.register("oAuthFlow",Di),e.register("oAuthFlows",qi),e.register("openapi",Ni),e.register("openApi3_1",pr),e.register("operation",Ft),e.register("parameter",mr),e.register("pathItem",ke),e.register("paths",fr),e.register("reference",Pe),e.register("requestBody",vr),e.register("response",gr),e.register("responses",yr),e.register("schema",Je),e.register("securityRequirement",xr),e.register("securityScheme",br),e.register("server",$r),e.register("serverVariable",jr),e.register("tag",Li),e.register("xml",Bi),e}},Cs=class Cs extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Cs.primaryClass)}};a(Cs,"primaryClass","components-path-items");let ai=Cs;const Ts=class Ts extends y{constructor(e,t,s){super(e,t,s),this.classes.push(Ts.primaryClass)}};a(Ts,"primaryClass","webhooks");let li=Ts;const Ke=r=>{if(X(r))return`${r.element.charAt(0).toUpperCase()+r.element.slice(1)}Element`},Ge={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Ne};class Mt{constructor(e,t,s){a(this,"internalStore");this.storageElement=e,this.storageField=t,this.storageSubField=s}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);q(e)||(e=new y,this.storageElement.set(this.storageField,e));let t=e.get(this.storageSubField);oe(t)||(t=new D,e.set(this.storageSubField,t)),this.internalStore=t}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const Mm=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e,i=(l,h)=>!t.isParameterElement(l)||!t.isParameterElement(h)||!t.isStringElement(l.name)||!t.isStringElement(l.in)||!t.isStringElement(h.name)||!t.isStringElement(h.in)?!1:v(l.name)===v(h.name)&&v(l.in)===v(h.in),n=[];let o;return{visitor:{OpenApi3_1Element:{enter(l){o=new Mt(l,r,"parameters")},leave(){o=void 0}},PathItemElement:{enter(l,h,$,x,g){if(g.some(t.isComponentsElement))return;const{parameters:j}=l;t.isArrayElement(j)?n.push([...j.content]):n.push([])},leave(){n.pop()}},OperationElement:{leave(l,h,$,x,g){const j=ks(n);if(!Array.isArray(j)||j.length===0)return;const w=s([...g,$,l]);if(o.includes(w))return;const R=an([],["parameters","content"],l),d=bo(i,[...R,...j]);l.parameters=new Zt(d),o.append(w)}}}}},Im=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i,n;return{visitor:{OpenApi3_1Element:{enter(o){n=new Mt(o,r,"security-requirements"),t.isArrayElement(o.security)&&(i=o.security)},leave(){n=void 0,i=void 0}},OperationElement:{leave(o,l,h,$,x){if(x.some(t.isComponentsElement))return;const g=s([...x,h,o]);if(n.includes(g))return;if(typeof o.security>"u"&&typeof i<"u"){var R;o.security=new Qt((R=i)===null||R===void 0?void 0:R.content),n.append(g)}}}}}},ui=r=>r.replace(/\s/g,""),di=r=>r.replace(/\W/gi,"_"),mu=(r,e)=>{const t=di(ui(e.toLowerCase())),s=di(ui(r));return`${t}${s}`},fu=(r,e,t)=>{const s=ui(r);return s.length>0?di(s):mu(e,t)},Cm=({storageField:r="x-normalized",operationIdNormalizer:e=fu}={})=>t=>{const{predicates:s,ancestorLineageToJSONPointer:i,namespace:n}=t,o=[],l=[],h=[];let $;return{visitor:{OpenApi3_1Element:{enter(x){$=new Mt(x,r,"operation-ids")},leave(){const x=$o(g=>v(g.operationId),l);Object.entries(x).forEach(([g,j])=>{Array.isArray(j)&&(j.length<=1||j.forEach((w,R)=>{const d=`${g}${R+1}`;w.operationId=new n.elements.String(d)}))}),h.forEach(g=>{if(typeof g.operationId>"u")return;const j=String(v(g.operationId)),w=l.find(R=>v(R.meta.get("originalOperationId"))===j);typeof w>"u"||(g.operationId=O.safe(w.operationId),g.meta.set("originalOperationId",j),g.set("__originalOperationId",j))}),l.length=0,h.length=0,$=void 0}},PathItemElement:{enter(x){const g=qt("path",v(x.meta.get("path")));o.push(g)},leave(){o.pop()}},OperationElement:{enter(x,g,j,w,R){if(typeof x.operationId>"u")return;const d=i([...R,j,x]);if($.includes(d))return;const P=String(v(x.operationId)),b=ks(o),u=qt("method",v(x.meta.get("http-method"))),m=e(P,b,u);P!==m&&(x.operationId=new n.elements.String(m),x.set("__originalOperationId",P),x.meta.set("originalOperationId",P),l.push(x),$.append(d))}},LinkElement:{leave(x){s.isLinkElement(x)&&(typeof x.operationId>"u"||h.push(x))}}}}},Tm=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Mt(n,r,"parameter-examples")},leave(){i=void 0}},ParameterElement:{leave(n,o,l,h,$){var x,g;if($.some(t.isComponentsElement)||typeof n.schema>"u"||!t.isSchemaElement(n.schema)||typeof((x=n.schema)===null||x===void 0?void 0:x.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const j=s([...$,l,n]);if(!i.includes(j)){if(typeof n.examples<"u"&&t.isObjectElement(n.examples)){const w=n.examples.map(R=>O.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",w),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",w[0]),i.append(j));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[O(n.example)]),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",O(n.example)),i.append(j)))}}}}}},km=({storageField:r="x-normalized"}={})=>e=>{const{predicates:t,ancestorLineageToJSONPointer:s}=e;let i;return{visitor:{OpenApi3_1Element:{enter(n){i=new Mt(n,r,"header-examples")},leave(){i=void 0}},HeaderElement:{leave(n,o,l,h,$){var x,g;if($.some(t.isComponentsElement)||typeof n.schema>"u"||!t.isSchemaElement(n.schema)||typeof((x=n.schema)===null||x===void 0?void 0:x.example)>"u"&&typeof((g=n.schema)===null||g===void 0?void 0:g.examples)>"u")return;const j=s([...$,l,n]);if(!i.includes(j)){if(typeof n.examples<"u"&&t.isObjectElement(n.examples)){const w=n.examples.map(R=>O.safe(R.value));typeof n.schema.examples<"u"&&(n.schema.set("examples",w),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",w[0]),i.append(j));return}typeof n.example<"u"&&(typeof n.schema.examples<"u"&&(n.schema.set("examples",[O(n.example)]),i.append(j)),typeof n.schema.example<"u"&&(n.schema.set("example",O(n.example)),i.append(j)))}}}}}},vu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof rr||r(s)&&e("callback",s)&&t("object",s)),gu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ir||r(s)&&e("components",s)&&t("object",s)),yu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof nr||r(s)&&e("contact",s)&&t("object",s)),xu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof or||r(s)&&e("example",s)&&t("object",s)),bu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof cr||r(s)&&e("externalDocumentation",s)&&t("object",s)),$u=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ar||r(s)&&e("header",s)&&t("object",s)),ju=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof lr||r(s)&&e("info",s)&&t("object",s)),Zn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Oe||r(s)&&e("jsonSchemaDialect",s)&&t("string",s)),Eu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ur||r(s)&&e("license",s)&&t("object",s)),Su=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof dr||r(s)&&e("link",s)&&t("object",s)),Ou=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ni||r(s)&&e("openapi",s)&&t("string",s)),Qn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t,hasClass:s})=>i=>i instanceof pr||r(i)&&e("openApi3_1",i)&&t("object",i)&&s("api",i)),Yn=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Ft||r(s)&&e("operation",s)&&t("object",s)),wu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof mr||r(s)&&e("parameter",s)&&t("object",s)),tt=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof ke||r(s)&&e("pathItem",s)&&t("object",s)),Pu=r=>{if(!tt(r)||!I(r.$ref))return!1;const e=v(r.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Ru=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof fr||r(s)&&e("paths",s)&&t("object",s)),He=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Pe||r(s)&&e("reference",s)&&t("object",s)),Vu=r=>{if(!He(r)||!I(r.$ref))return!1;const e=v(r.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},Au=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof vr||r(s)&&e("requestBody",s)&&t("object",s)),Fu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof gr||r(s)&&e("response",s)&&t("object",s)),Mu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof yr||r(s)&&e("responses",s)&&t("object",s)),De=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof Je||r(s)&&e("schema",s)&&t("object",s)),_n=r=>nt(r)&&r.classes.includes("boolean-json-schema"),Iu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof xr||r(s)&&e("securityRequirement",s)&&t("object",s)),Cu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof br||r(s)&&e("securityScheme",s)&&t("object",s)),Tu=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof $r||r(s)&&e("server",s)&&t("object",s)),ku=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof jr||r(s)&&e("serverVariable",s)&&t("object",s)),Du=E(({hasBasicElementProps:r,isElementType:e,primitiveEq:t})=>s=>s instanceof hr||r(s)&&e("mediaType",s)&&t("object",s)),qu=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:_n,isCallbackElement:vu,isComponentsElement:gu,isContactElement:yu,isExampleElement:xu,isExternalDocumentationElement:bu,isHeaderElement:$u,isInfoElement:ju,isJsonSchemaDialectElement:Zn,isLicenseElement:Eu,isLinkElement:Su,isMediaTypeElement:Du,isOpenApi3_1Element:Qn,isOpenapiElement:Ou,isOperationElement:Yn,isParameterElement:wu,isPathItemElement:tt,isPathItemElementExternal:Pu,isPathsElement:Ru,isReferenceElement:He,isReferenceElementExternal:Vu,isRequestBodyElement:Au,isResponseElement:Fu,isResponsesElement:Mu,isSchemaElement:De,isSecurityRequirementElement:Iu,isSecuritySchemeElement:Cu,isServerElement:Tu,isServerVariableElement:ku},Symbol.toStringTag,{value:"Module"})),Nu=r=>{const e=r.reduce((t,s,i)=>{if(ve(s)){const n=String(v(s.key));t.push(n)}else if(oe(r[i-2])){const n=String(r[i-2].content.indexOf(s));t.push(n)}return t},[]);return Mc(e)},Lu=()=>{const r=qs(Gn);return{predicates:{...qu,isElement:X,isStringElement:I,isArrayElement:oe,isObjectElement:q,isMemberElement:ve,isServersElement:Xn,includesClasses:wi,hasElementSourceMap:ot},ancestorLineageToJSONPointer:Nu,namespace:r}};class Bu extends f(M,p){constructor(e){super(e),this.element=new pr,this.specPath=V(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,M.prototype.ObjectElement.call(this,e)}}const{visitors:{document:{objects:{Info:{$visitor:Uu}}}}}=c;class Ju extends Uu{constructor(e){super(e),this.element=new lr}}const{visitors:{document:{objects:{Contact:{$visitor:Hu}}}}}=c;class zu extends Hu{constructor(e){super(e),this.element=new nr}}const{visitors:{document:{objects:{License:{$visitor:Wu}}}}}=c;class Xu extends Wu{constructor(e){super(e),this.element=new ur}}const{visitors:{document:{objects:{Link:{$visitor:Ku}}}}}=c;class Gu extends Ku{constructor(e){super(e),this.element=new dr}}class Zu extends f(ee,p){StringElement(e){const t=new Oe(v(e));return this.copyMetaAndAttributes(e,t),this.element=t,C}}const{visitors:{document:{objects:{Server:{$visitor:Qu}}}}}=c;class Yu extends Qu{constructor(e){super(e),this.element=new $r}}const{visitors:{document:{objects:{ServerVariable:{$visitor:_u}}}}}=c;class ed extends _u{constructor(e){super(e),this.element=new jr}}const{visitors:{document:{objects:{MediaType:{$visitor:td}}}}}=c;class sd extends td{constructor(e){super(e),this.element=new hr}}const{visitors:{document:{objects:{SecurityRequirement:{$visitor:rd}}}}}=c;class id extends rd{constructor(e){super(e),this.element=new xr}}const{visitors:{document:{objects:{Components:{$visitor:nd}}}}}=c;class od extends nd{constructor(e){super(e),this.element=new ir}}const{visitors:{document:{objects:{Tag:{$visitor:cd}}}}}=c;class ad extends cd{constructor(e){super(e),this.element=new Li}}const{visitors:{document:{objects:{Reference:{$visitor:ld}}}}}=c;class ud extends ld{constructor(e){super(e),this.element=new Pe}}const{visitors:{document:{objects:{Parameter:{$visitor:dd}}}}}=c;class hd extends dd{constructor(e){super(e),this.element=new mr}}const{visitors:{document:{objects:{Header:{$visitor:pd}}}}}=c;class md extends pd{constructor(e){super(e),this.element=new ar}}class xe{constructor({parent:e}){a(this,"parent");this.parent=e}}class fd extends f(M,xe,p){constructor(e){super(e),this.element=new Je,this.specPath=V(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=Oe.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handle$schema(e),this.handle$id(e),this.parent=this.element;const t=M.prototype.ObjectElement.call(this,e);return I(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),t}BooleanElement(e){const t=super.enter(e);return this.element.classes.push("boolean-json-schema"),t}getJsonSchemaDialect(){let e;return this.openApiSemanticElement!==void 0&&Zn(this.openApiSemanticElement.jsonSchemaDialect)?e=v(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&I(this.openApiGenericElement.get("jsonSchemaDialect"))?e=v(this.openApiGenericElement.get("jsonSchemaDialect")):e=v(this.jsonSchemaDefaultDialect),e}handle$schema(e){if(we(this.parent)&&!I(e.get("$schema")))this.element.setMetaProperty("inherited$schema",this.getJsonSchemaDialect());else if(De(this.parent)&&!I(e.get("$schema"))){const t=qt(v(this.parent.meta.get("inherited$schema")),v(this.parent.$schema));this.element.setMetaProperty("inherited$schema",t)}}handle$id(e){const t=this.parent!==void 0?O(this.parent.getMetaProperty("inherited$id",[])):new D,s=v(e.get("$id"));pi(s)&&t.push(s),this.element.setMetaProperty("inherited$id",t)}}class vd extends p{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),t}}class gd extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}class yd extends f(F,xe,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-$defs"),this.specPath=V(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class xd extends f(ee,xe,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-allOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),C}}class bd extends f(ee,xe,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-anyOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),C}}class $d extends f(ee,xe,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-oneOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),C}}class jd extends f(F,xe,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=V(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class Ed extends f(ee,xe,p){constructor(e){super(e),this.element=new D,this.element.classes.push("json-schema-prefixItems"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(t=>{if(q(t)){const s=this.toRefractedElement(["document","objects","Schema"],t);this.element.push(s)}else{const s=O(t);this.element.push(s)}}),this.copyMetaAndAttributes(e,this.element),C}}class Sd extends f(F,xe,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-properties"),this.specPath=V(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class Od extends f(F,xe,p){constructor(e){super(e),this.element=new y,this.element.classes.push("json-schema-patternProperties"),this.specPath=V(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class wd extends p{StringElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}}class Pd extends p{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-enum"),t}}class Rd extends p{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),t}}class Vd extends p{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-examples"),t}}const{visitors:{document:{objects:{Discriminator:{$visitor:Ad}}}}}=c;class Fd extends Ad{constructor(e){super(e),this.element=new Ti,this.canSupportSpecificationExtensions=!0}}const{visitors:{document:{objects:{XML:{$visitor:Md}}}}}=c;class Id extends Md{constructor(e){super(e),this.element=new Bi}}class Cd extends f(F,p){constructor(e){super(e),this.element=new Gt,this.specPath=V(["document","objects","Schema"])}}class Td extends f(F,p){constructor(e){super(e),this.element=new ai,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),t}}const{visitors:{document:{objects:{Example:{$visitor:kd}}}}}=c;class Dd extends kd{constructor(e){super(e),this.element=new or}}const{visitors:{document:{objects:{ExternalDocumentation:{$visitor:qd}}}}}=c;class Nd extends qd{constructor(e){super(e),this.element=new cr}}const{visitors:{document:{objects:{Encoding:{$visitor:Ld}}}}}=c;class Bd extends Ld{constructor(e){super(e),this.element=new ki}}const{visitors:{document:{objects:{Paths:{$visitor:Ud}}}}}=c;class Jd extends Ud{constructor(e){super(e),this.element=new fr}}const{visitors:{document:{objects:{RequestBody:{$visitor:Hd}}}}}=c;class zd extends Hd{constructor(e){super(e),this.element=new vr}}const{visitors:{document:{objects:{Callback:{$visitor:_i}}}}}=c;class Wd extends _i{constructor(e){super(e),this.element=new rr,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=_i.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),t}}const{visitors:{document:{objects:{Response:{$visitor:Xd}}}}}=c;class Kd extends Xd{constructor(e){super(e),this.element=new gr}}const{visitors:{document:{objects:{Responses:{$visitor:Gd}}}}}=c;class Zd extends Gd{constructor(e){super(e),this.element=new yr}}const{visitors:{document:{objects:{Operation:{$visitor:Qd}}}}}=c;class Yd extends Qd{constructor(e){super(e),this.element=new Ft}}const{visitors:{document:{objects:{PathItem:{$visitor:_d}}}}}=c;class eh extends _d{constructor(e){super(e),this.element=new ke}}const{visitors:{document:{objects:{SecurityScheme:{$visitor:th}}}}}=c;class sh extends th{constructor(e){super(e),this.element=new br}}const{visitors:{document:{objects:{OAuthFlows:{$visitor:rh}}}}}=c;class ih extends rh{constructor(e){super(e),this.element=new qi}}const{visitors:{document:{objects:{OAuthFlow:{$visitor:nh}}}}}=c;class oh extends nh{constructor(e){super(e),this.element=new Di}}class ch extends f(F,p){constructor(e){super(e),this.element=new li,this.specPath=t=>U(t)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=F.prototype.ObjectElement.call(this,e);return this.element.filter(He).forEach(s=>{s.setMetaProperty("referenced-element","pathItem")}),this.element.filter(tt).forEach((s,i)=>{s.setMetaProperty("webhook-name",v(i))}),t}}const ah={visitors:{value:c.visitors.value,document:{objects:{OpenApi:{$visitor:Bu,fixedFields:{openapi:c.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Zu,servers:c.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:ch,components:{$ref:"#/visitors/document/objects/Components"},security:c.visitors.document.objects.OpenApi.fixedFields.security,tags:c.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:Ju,fixedFields:{title:c.visitors.document.objects.Info.fixedFields.title,description:c.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:c.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:c.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:zu,fixedFields:{name:c.visitors.document.objects.Contact.fixedFields.name,url:c.visitors.document.objects.Contact.fixedFields.url,email:c.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:Xu,fixedFields:{name:c.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:c.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:Yu,fixedFields:{url:c.visitors.document.objects.Server.fixedFields.url,description:c.visitors.document.objects.Server.fixedFields.description,variables:c.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:ed,fixedFields:{enum:c.visitors.document.objects.ServerVariable.fixedFields.enum,default:c.visitors.document.objects.ServerVariable.fixedFields.default,description:c.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:od,fixedFields:{schemas:Cd,responses:c.visitors.document.objects.Components.fixedFields.responses,parameters:c.visitors.document.objects.Components.fixedFields.parameters,examples:c.visitors.document.objects.Components.fixedFields.examples,requestBodies:c.visitors.document.objects.Components.fixedFields.requestBodies,headers:c.visitors.document.objects.Components.fixedFields.headers,securitySchemes:c.visitors.document.objects.Components.fixedFields.securitySchemes,links:c.visitors.document.objects.Components.fixedFields.links,callbacks:c.visitors.document.objects.Components.fixedFields.callbacks,pathItems:Td}},Paths:{$visitor:Jd},PathItem:{$visitor:eh,fixedFields:{$ref:c.visitors.document.objects.PathItem.fixedFields.$ref,summary:c.visitors.document.objects.PathItem.fixedFields.summary,description:c.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:c.visitors.document.objects.PathItem.fixedFields.servers,parameters:c.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:Yd,fixedFields:{tags:c.visitors.document.objects.Operation.fixedFields.tags,summary:c.visitors.document.objects.Operation.fixedFields.summary,description:c.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:c.visitors.document.objects.Operation.fixedFields.operationId,parameters:c.visitors.document.objects.Operation.fixedFields.parameters,requestBody:c.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:c.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:c.visitors.document.objects.Operation.fixedFields.deprecated,security:c.visitors.document.objects.Operation.fixedFields.security,servers:c.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:Nd,fixedFields:{description:c.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:c.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:hd,fixedFields:{name:c.visitors.document.objects.Parameter.fixedFields.name,in:c.visitors.document.objects.Parameter.fixedFields.in,description:c.visitors.document.objects.Parameter.fixedFields.description,required:c.visitors.document.objects.Parameter.fixedFields.required,deprecated:c.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Parameter.fixedFields.style,explode:c.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:c.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Parameter.fixedFields.example,examples:c.visitors.document.objects.Parameter.fixedFields.examples,content:c.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:zd,fixedFields:{description:c.visitors.document.objects.RequestBody.fixedFields.description,content:c.visitors.document.objects.RequestBody.fixedFields.content,required:c.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:sd,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.MediaType.fixedFields.example,examples:c.visitors.document.objects.MediaType.fixedFields.examples,encoding:c.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:Bd,fixedFields:{contentType:c.visitors.document.objects.Encoding.fixedFields.contentType,headers:c.visitors.document.objects.Encoding.fixedFields.headers,style:c.visitors.document.objects.Encoding.fixedFields.style,explode:c.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:c.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:Zd,fixedFields:{default:c.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:Kd,fixedFields:{description:c.visitors.document.objects.Response.fixedFields.description,headers:c.visitors.document.objects.Response.fixedFields.headers,content:c.visitors.document.objects.Response.fixedFields.content,links:c.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:Wd},Example:{$visitor:Dd,fixedFields:{summary:c.visitors.document.objects.Example.fixedFields.summary,description:c.visitors.document.objects.Example.fixedFields.description,value:c.visitors.document.objects.Example.fixedFields.value,externalValue:c.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:Gu,fixedFields:{operationRef:c.visitors.document.objects.Link.fixedFields.operationRef,operationId:c.visitors.document.objects.Link.fixedFields.operationId,parameters:c.visitors.document.objects.Link.fixedFields.parameters,requestBody:c.visitors.document.objects.Link.fixedFields.requestBody,description:c.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:md,fixedFields:{description:c.visitors.document.objects.Header.fixedFields.description,required:c.visitors.document.objects.Header.fixedFields.required,deprecated:c.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:c.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:c.visitors.document.objects.Header.fixedFields.style,explode:c.visitors.document.objects.Header.fixedFields.explode,allowReserved:c.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:c.visitors.document.objects.Header.fixedFields.example,examples:c.visitors.document.objects.Header.fixedFields.examples,content:c.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:ad,fixedFields:{name:c.visitors.document.objects.Tag.fixedFields.name,description:c.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ud,fixedFields:{$ref:c.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Schema:{$visitor:fd,fixedFields:{$schema:{$ref:"#/visitors/value"},$vocabulary:vd,$id:{$ref:"#/visitors/value"},$anchor:{$ref:"#/visitors/value"},$dynamicAnchor:{$ref:"#/visitors/value"},$dynamicRef:{$ref:"#/visitors/value"},$ref:gd,$defs:yd,$comment:{$ref:"#/visitors/value"},allOf:xd,anyOf:bd,oneOf:$d,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:jd,prefixItems:Ed,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:Sd,patternProperties:Od,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},type:wd,enum:Pd,const:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxContains:{$ref:"#/visitors/value"},minContains:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},dependentRequired:Rd,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},readOnly:{$ref:"#/visitors/value"},writeOnly:{$ref:"#/visitors/value"},examples:Vd,format:{$ref:"#/visitors/value"},contentEncoding:{$ref:"#/visitors/value"},contentMediaType:{$ref:"#/visitors/value"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:Fd,fixedFields:{propertyName:c.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:c.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:Id,fixedFields:{name:c.visitors.document.objects.XML.fixedFields.name,namespace:c.visitors.document.objects.XML.fixedFields.namespace,prefix:c.visitors.document.objects.XML.fixedFields.prefix,attribute:c.visitors.document.objects.XML.fixedFields.attribute,wrapped:c.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:sh,fixedFields:{type:c.visitors.document.objects.SecurityScheme.fixedFields.type,description:c.visitors.document.objects.SecurityScheme.fixedFields.description,name:c.visitors.document.objects.SecurityScheme.fixedFields.name,in:c.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:c.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:c.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:c.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:ih,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:oh,fixedFields:{authorizationUrl:c.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:c.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:c.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:c.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:id}},extension:{$visitor:c.visitors.document.extension.$visitor}}}},lh=(r,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:t=[]}={})=>{const s=yi(r),i=Ls(ah),n=ce(e,i),o=new n({specObj:i});return ie(s,o),at(o.element,t,{toolboxCreator:Lu,visitorOptions:{keyMap:Ge,nodeTypeGetter:Ke}})},T=r=>(e,t={})=>lh(e,{specPath:r,...t});rr.refract=T(["visitors","document","objects","Callback","$visitor"]);ir.refract=T(["visitors","document","objects","Components","$visitor"]);nr.refract=T(["visitors","document","objects","Contact","$visitor"]);or.refract=T(["visitors","document","objects","Example","$visitor"]);Ti.refract=T(["visitors","document","objects","Discriminator","$visitor"]);ki.refract=T(["visitors","document","objects","Encoding","$visitor"]);cr.refract=T(["visitors","document","objects","ExternalDocumentation","$visitor"]);ar.refract=T(["visitors","document","objects","Header","$visitor"]);lr.refract=T(["visitors","document","objects","Info","$visitor"]);Oe.refract=T(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]);ur.refract=T(["visitors","document","objects","License","$visitor"]);dr.refract=T(["visitors","document","objects","Link","$visitor"]);hr.refract=T(["visitors","document","objects","MediaType","$visitor"]);Di.refract=T(["visitors","document","objects","OAuthFlow","$visitor"]);qi.refract=T(["visitors","document","objects","OAuthFlows","$visitor"]);Ni.refract=T(["visitors","document","objects","OpenApi","fixedFields","openapi"]);pr.refract=T(["visitors","document","objects","OpenApi","$visitor"]);Ft.refract=T(["visitors","document","objects","Operation","$visitor"]);mr.refract=T(["visitors","document","objects","Parameter","$visitor"]);ke.refract=T(["visitors","document","objects","PathItem","$visitor"]);fr.refract=T(["visitors","document","objects","Paths","$visitor"]);Pe.refract=T(["visitors","document","objects","Reference","$visitor"]);vr.refract=T(["visitors","document","objects","RequestBody","$visitor"]);gr.refract=T(["visitors","document","objects","Response","$visitor"]);yr.refract=T(["visitors","document","objects","Responses","$visitor"]);Je.refract=T(["visitors","document","objects","Schema","$visitor"]);xr.refract=T(["visitors","document","objects","SecurityRequirement","$visitor"]);br.refract=T(["visitors","document","objects","SecurityScheme","$visitor"]);$r.refract=T(["visitors","document","objects","Server","$visitor"]);jr.refract=T(["visitors","document","objects","ServerVariable","$visitor"]);Li.refract=T(["visitors","document","objects","Tag","$visitor"]);Bi.refract=T(["visitors","document","objects","XML","$visitor"]);class Dm extends gc{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const t=unescape(encodeURIComponent(e.toString())),s=btoa(t),i=new Ce;if(s.length!==0){const n=new he(s);n.classes.push("result"),i.push(n)}return i}catch(t){throw new Oc(`Error parsing "${e.uri}"`,{cause:t})}}}class qm extends xc{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,t){const s=t.dereference.strategies.find(i=>i.name==="openapi-3-1");return s===void 0?!1:s.canDereference(e,t)}async resolve(e,t){const s=t.dereference.strategies.find(o=>o.name==="openapi-3-1");if(s===void 0)throw new Ln('"openapi-3-1" dereference strategy is not available.');const i=new Ar,n=yn(t,{resolve:{internal:!1},dereference:{refSet:i}});return await s.dereference(e,n),i}}const Ui=r=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(r),Yt=r=>{const e=gn(r);return hi("#",e)},uh=r=>{if(!Ui(r))throw new Ec(r);return r},eo=(r,e)=>{const t=uh(r),s=kn(i=>De(i)&&v(i.$anchor)===t,e);if(we(s))throw new $c(`Evaluation failed on token: "${t}"`);return s},dh=(r,e)=>{if(typeof e.$ref>"u")return;const t=gn(v(e.$ref)),s=v(e.meta.get("inherited$id"));return`${pn((n,o)=>ze(n,Ds(K(o))),r,[...s,v(e.$ref)])}${t==="#"?"":t}`},hh=(r,e)=>{if(typeof e.$id>"u")return;const t=v(e.meta.get("inherited$id"));return pn((s,i)=>ze(s,Ds(K(i))),r,[...t,v(e.$id)])},Ze=r=>{if(Ze.cache.has(r))return Ze.cache.get(r);const e=Je.refract(r);return Ze.cache.set(r,e),e};Ze.cache=new WeakMap;const be=r=>We(r)?Ze(r):r,Ji=(r,e)=>{const{cache:t}=Ji,s=K(r),i=h=>De(h)&&typeof h.$id<"u";if(!t.has(e)){const h=rc(i,e);t.set(e,Array.from(h))}const n=t.get(e).find(h=>hh(s,h)===s);if(we(n))throw new Un(`Evaluation failed on URI: "${r}"`);let o,l;return Ui(Yt(r))?(o=eo,l=Yt(r)):(o=Fe,l=Ae(r)),o(l,n)};Ji.cache=new WeakMap;const wr=ie[Symbol.for("nodejs.util.promisify.custom")],Z=new Tn,le=(r,e,t,s)=>{ve(s)?s.value=r:Array.isArray(s)&&(s[t]=r)};class Qe{constructor({reference:e,namespace:t,options:s,indirections:i=[],ancestors:n=new Sr,refractCache:o=new Map}){a(this,"indirections");a(this,"namespace");a(this,"reference");a(this,"options");a(this,"ancestors");a(this,"refractCache");this.indirections=i,this.namespace=t,this.reference=e,this.options=s,this.ancestors=new Sr(...n),this.refractCache=o}toBaseURI(e){return ze(this.reference.uri,Ds(K(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new Sc(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const t=this.toBaseURI(e),{refSet:s}=this.reference;if(s.has(t))return s.find(mn(t,"uri"));const i=await No(Re(t),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new Xe({uri:t,value:O(i),depth:this.reference.depth+1});if(s.add(n),this.options.dereference.immutable){const o=new Xe({uri:`immutable://${t}`,value:i,depth:this.reference.depth+1});s.add(o)}return n}toAncestorLineage(e){const t=new Set(e.filter(X));return[new Sr(...this.ancestors,t),t]}async ReferenceElement(e,t,s,i,n,o){if(this.indirections.includes(e))return!1;const[l,h]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),x=K(this.reference.uri)===$,g=!x;if(!this.options.resolve.internal&&x||!this.options.resolve.external&&g)return!1;const j=await this.toReference(v(e.$ref)),w=ze($,v(e.$ref));this.indirections.push(e);const R=Ae(w);let d=Fe(R,j.value.result);if(d.id=Z.identify(d),We(d)){const B=v(e.meta.get("referenced-element")),H=`${B}-${v(Z.identify(d))}`;this.refractCache.has(H)?d=this.refractCache.get(H):U(d)?(d=Pe.refract(d),d.setMetaProperty("referenced-element",B),this.refractCache.set(H,d)):(d=this.namespace.getElementClass(B).refract(d),this.refractCache.set(H,d))}if(e===d)throw new Y("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Or(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(j.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var P,b;const B=new Me(d.id,{type:"reference",uri:j.uri,$ref:v(e.$ref)}),A=((P=(b=this.options.dereference.strategyOpts["openapi-3-1"])===null||b===void 0?void 0:b.circularReplacer)!==null&&P!==void 0?P:this.options.dereference.circularReplacer)(B);return o.replaceWith(A,le),s?!1:A}}const u=K(j.refSet.rootRef.uri)!==j.uri,m=["error","replace"].includes(this.options.dereference.circular);if((g||u||He(d)||m)&&!l.includesCycle(d)){h.add(e);const B=new Qe({reference:j,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});d=await wr(d,B,{keyMap:Ge,nodeTypeGetter:Ke}),h.delete(e)}this.indirections.pop();const S=re(d);return S.setMetaProperty("id",Z.generateId()),S.setMetaProperty("ref-fields",{$ref:v(e.$ref),description:v(e.description),summary:v(e.summary)}),S.setMetaProperty("ref-origin",j.uri),S.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),q(d)&&q(S)&&(e.hasKey("description")&&"description"in d&&(S.remove("description"),S.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in d&&(S.remove("summary"),S.set("summary",e.get("summary")))),o.replaceWith(S,le),s?!1:S}async PathItemElement(e,t,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,h]=this.toAncestorLineage([...n,s]),$=this.toBaseURI(v(e.$ref)),x=K(this.reference.uri)===$,g=!x;if(!this.options.resolve.internal&&x||!this.options.resolve.external&&g)return;const j=await this.toReference(v(e.$ref)),w=ze($,v(e.$ref));this.indirections.push(e);const R=Ae(w);let d=Fe(R,j.value.result);if(d.id=Z.identify(d),We(d)){const S=`path-item-${v(Z.identify(d))}`;this.refractCache.has(S)?d=this.refractCache.get(S):(d=ke.refract(d),this.refractCache.set(S,d))}if(e===d)throw new Y("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Or(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(d)){if(j.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var P,b;const S=new Me(d.id,{type:"path-item",uri:j.uri,$ref:v(e.$ref)}),H=((P=(b=this.options.dereference.strategyOpts["openapi-3-1"])===null||b===void 0?void 0:b.circularReplacer)!==null&&P!==void 0?P:this.options.dereference.circularReplacer)(S);return o.replaceWith(H,le),s?!1:H}}const u=K(j.refSet.rootRef.uri)!==j.uri,m=["error","replace"].includes(this.options.dereference.circular);if((g||u||tt(d)&&I(d.$ref)||m)&&!l.includesCycle(d)){h.add(e);const S=new Qe({reference:j,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});d=await wr(d,S,{keyMap:Ge,nodeTypeGetter:Ke}),h.delete(e)}if(this.indirections.pop(),tt(d)){const S=new ke([...d.content],O(d.meta),O(d.attributes));S.setMetaProperty("id",Z.generateId()),e.forEach((B,H,A)=>{S.remove(v(H)),S.content.push(A)}),S.remove("$ref"),S.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),S.setMetaProperty("ref-origin",j.uri),S.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),d=S}return o.replaceWith(d,le),s?void 0:d}async LinkElement(e,t,s,i,n,o){if(!I(e.operationRef)&&!I(e.operationId))return;if(I(e.operationRef)&&I(e.operationId))throw new Y("LinkElement operationRef and operationId fields are mutually exclusive.");let l;if(I(e.operationRef)){var h;const x=Ae(v(e.operationRef)),g=this.toBaseURI(v(e.operationRef)),j=K(this.reference.uri)===g,w=!j;if(!this.options.resolve.internal&&j||!this.options.resolve.external&&w)return;const R=await this.toReference(v(e.operationRef));if(l=Fe(x,R.value.result),We(l)){const P=`operation-${v(Z.identify(l))}`;this.refractCache.has(P)?l=this.refractCache.get(P):(l=Ft.refract(l),this.refractCache.set(P,l))}l=re(l),l.setMetaProperty("ref-origin",R.uri);const d=re(e);return(h=d.operationRef)===null||h===void 0||h.meta.set("operation",l),o.replaceWith(d,le),s?void 0:d}if(I(e.operationId)){var $;const x=v(e.operationId),g=await this.toReference(Re(this.reference.uri));if(l=kn(w=>Yn(w)&&X(w.operationId)&&w.operationId.equals(x),g.value.result),we(l))throw new Y(`OperationElement(operationId=${x}) not found.`);const j=re(e);return($=j.operationId)===null||$===void 0||$.meta.set("operation",l),o.replaceWith(j,le),s?void 0:j}}async ExampleElement(e,t,s,i,n,o){if(!I(e.externalValue))return;if(e.hasKey("value")&&I(e.externalValue))throw new Y("ExampleElement value and externalValue fields are mutually exclusive.");const l=this.toBaseURI(v(e.externalValue)),h=K(this.reference.uri)===l,$=!h;if(!this.options.resolve.internal&&h||!this.options.resolve.external&&$)return;const x=await this.toReference(v(e.externalValue)),g=re(x.value.result);g.setMetaProperty("ref-origin",x.uri);const j=re(e);return j.value=g,o.replaceWith(j,le),s?void 0:j}async SchemaElement(e,t,s,i,n,o){if(!I(e.$ref))return;if(this.indirections.includes(e))return!1;const[l,h]=this.toAncestorLineage([...n,s]);let $=await this.toReference(Re(this.reference.uri)),{uri:x}=$;const g=dh(x,e),j=K(g),w=new Ut({uri:j}),R=jo(A=>A.canRead(w),this.options.resolve.resolvers),d=!R;let P=K(this.reference.uri)===g,b=!P;this.indirections.push(e);let u;try{if(R||d){x=this.toBaseURI(g);const A=g,L=be($.value.result);if(u=Ji(A,L),u=be(u),u.id=Z.identify(u),!this.options.resolve.internal&&P||!this.options.resolve.external&&b)return}else{if(x=this.toBaseURI(g),P=K(this.reference.uri)===x,b=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&b)return;$=await this.toReference(Re(g));const A=Ae(g),L=be($.value.result);u=Fe(A,L),u=be(u),u.id=Z.identify(u)}}catch(A){if(d&&A instanceof Un)if(Ui(Yt(g))){if(P=K(this.reference.uri)===x,b=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&b)return;$=await this.toReference(Re(g));const L=Yt(g),J=be($.value.result);u=eo(L,J),u=be(u),u.id=Z.identify(u)}else{if(x=this.toBaseURI(g),P=K(this.reference.uri)===x,b=!P,!this.options.resolve.internal&&P||!this.options.resolve.external&&b)return;$=await this.toReference(Re(g));const L=Ae(g),J=be($.value.result);u=Fe(L,J),u=be(u),u.id=Z.identify(u)}else throw A}if(e===u)throw new Y("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new Or(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(l.includes(u)){if($.refSet.circular=!0,this.options.dereference.circular==="error")throw new Y("Circular reference detected");if(this.options.dereference.circular==="replace"){var m,S;const A=new Me(u.id,{type:"json-schema",uri:$.uri,$ref:v(e.$ref)}),J=((m=(S=this.options.dereference.strategyOpts["openapi-3-1"])===null||S===void 0?void 0:S.circularReplacer)!==null&&m!==void 0?m:this.options.dereference.circularReplacer)(A);return o.replaceWith(J,le),s?!1:J}}const B=K($.refSet.rootRef.uri)!==$.uri,H=["error","replace"].includes(this.options.dereference.circular);if((b||B||De(u)&&I(u.$ref)||H)&&!l.includesCycle(u)){h.add(e);const A=new Qe({reference:$,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:l});u=await wr(u,A,{keyMap:Ge,nodeTypeGetter:Ke}),h.delete(e)}if(this.indirections.pop(),_n(u)){const A=O(u);return A.setMetaProperty("id",Z.generateId()),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),o.replaceWith(A,le),s?!1:A}if(De(u)){const A=new Je([...u.content],O(u.meta),O(u.attributes));A.setMetaProperty("id",Z.generateId()),e.forEach((L,J,ne)=>{A.remove(v(J)),A.content.push(ne)}),A.remove("$ref"),A.setMetaProperty("ref-fields",{$ref:v(e.$ref)}),A.setMetaProperty("ref-origin",$.uri),A.setMetaProperty("ref-referencing-element-id",O(Z.identify(e))),u=A}return o.replaceWith(u,le),s?void 0:u}}const ph=ie[Symbol.for("nodejs.util.promisify.custom")];class Nm extends bc{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var t;return e.mediaType!=="text/plain"?Cc.includes(e.mediaType):Qn((t=e.parseResult)===null||t===void 0?void 0:t.result)}async dereference(e,t){var s;const i=qs(Gn),n=(s=t.dereference.refSet)!==null&&s!==void 0?s:new Ar,o=new Ar;let l=n,h;n.has(e.uri)?h=n.find(mn(e.uri,"uri")):(h=new Xe({uri:e.uri,value:e.parseResult}),n.add(h)),t.dereference.immutable&&(n.refs.map(g=>new Xe({...g,value:O(g.value)})).forEach(g=>o.add(g)),h=o.find(g=>g.uri===e.uri),l=o);const $=new Qe({reference:h,namespace:i,options:t}),x=await ph(l.rootRef.value,$,{keyMap:Ge,nodeTypeGetter:Ke});return t.dereference.immutable&&o.refs.filter(g=>g.uri.startsWith("immutable://")).map(g=>new Xe({...g,uri:g.uri.replace(/^immutable:\/\//,"")})).forEach(g=>n.add(g)),t.dereference.refSet===null&&n.clean(),o.clean(),x}}export{Xe as $,je as A,O as B,I as C,wi as D,ke as E,tt as F,Re as G,Oh as H,Tn as I,dh as J,Ut as K,be as L,Or as M,Ji as N,Ic as O,gc as P,Un as Q,ko as R,Ui as S,Yt as T,eo as U,_n as V,Je as W,Ri as X,Nm as Y,qs as Z,Ar as _,Oc as a,Gn as a0,Fo as a1,Mc as a2,Ph as a3,qm as a4,Dm as a5,Mo as a6,Eh as a7,Hi as a8,Ct as a9,at as aa,Lu as ab,Cm as ac,Mm as ad,Im as ae,Tm as af,km as ag,X as ah,Ce as b,pr as c,ve as d,oe as e,Sh as f,q as g,De as h,Vo as i,me as j,Qe as k,K as l,Cc as m,Fe as n,We as o,U as p,Pe as q,ze as r,v as s,Y as t,Ae as u,ie as v,He as w,Ge as x,Ke as y,re as z};
